/// Represents the shopping channels available in the system. Each channel
/// has a unique code and name, and is associated with a specific mall.
/// Channels are the top-level organizational units for products and
/// services.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model shopping_channels {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Unique code identifying the channel.
  code String
  
  /// Name of the channel.
  name String
  
  /// Description of the channel.
  description String?
  
  /// Timestamp when the channel was created.
  created_at DateTime
  
  /// Timestamp when the channel was last updated.
  updated_at DateTime
  
  /// Timestamp when the channel was deleted (soft delete).
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  shopping_sections shopping_sections[]
  shopping_configurations shopping_configurations[]
  shopping_sales shopping_sales[]
  shopping_articles shopping_articles[]
  
  @@unique([code])
}

/// Represents the sections within a shopping channel. Each section has a
/// unique code and name, and is associated with a specific channel. Sections
/// help organize products and services within a channel.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model shopping_sections {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// The channel to which this section belongs. {@link shopping_channels.id}
  shopping_channel_id String
  
  /// Unique code identifying the section.
  code String
  
  /// Name of the section.
  name String
  
  /// Description of the section.
  description String?
  
  /// Timestamp when the section was created.
  created_at DateTime
  
  /// Timestamp when the section was last updated.
  updated_at DateTime
  
  /// Timestamp when the section was deleted (soft delete).
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  channel shopping_channels @relation(fields: [shopping_channel_id], references: [id], onDelete: Cascade)
  
  shopping_configurations shopping_configurations[]
  shopping_sales shopping_sales[]
  shopping_articles shopping_articles[]
  
  @@unique([shopping_channel_id, code])
  @@index([shopping_channel_id])
}

/// Represents the configurations for a shopping channel or section. Each
/// configuration has a unique key and value, and is associated with a
/// specific channel or section. Configurations define system behavior and
/// settings for different parts of the system.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model shopping_configurations {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// The channel to which this configuration belongs. {@link
  /// shopping_channels.id}
  shopping_channel_id String?
  
  /// The section to which this configuration belongs. {@link
  /// shopping_sections.id}
  shopping_section_id String?
  
  /// Unique key identifying the configuration.
  key String
  
  /// Value of the configuration.
  value String
  
  /// Description of the configuration.
  description String?
  
  /// Timestamp when the configuration was created.
  created_at DateTime
  
  /// Timestamp when the configuration was last updated.
  updated_at DateTime
  
  /// Timestamp when the configuration was deleted (soft delete).
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  channel shopping_channels? @relation(fields: [shopping_channel_id], references: [id], onDelete: Cascade)
  section shopping_sections? @relation(fields: [shopping_section_id], references: [id], onDelete: Cascade)
  
  @@unique([shopping_channel_id, key])
  @@unique([shopping_section_id, key])
  @@index([shopping_channel_id])
  @@index([shopping_section_id])
}