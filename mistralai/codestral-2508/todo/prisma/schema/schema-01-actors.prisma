/// User information for authentication and authorization. This table stores
/// essential user details required for system access and role management.
///
/// @namespace Actors
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model todo_list_users {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// User's email address for login and notifications.
  email String
  
  /// Hashed password for secure authentication.
  password_hash String
  
  /// Timestamp when the user account was created.
  created_at DateTime
  
  /// Timestamp when the user account was last updated.
  updated_at DateTime
  
  /// Timestamp when the user account was soft-deleted.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  todo_list_user_roles todo_list_user_roles[]
  todo_list_tasks todo_list_tasks[]
  
  @@unique([email])
}

/// User role assignments for authorization purposes. This table manages the
/// roles assigned to users for access control and permission management.
///
/// @namespace Actors
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model todo_list_user_roles {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// User to whom this role is assigned. {@link todo_list_users.id}.
  todo_list_user_id String
  
  /// Role assigned to the user (e.g., 'admin', 'user').
  role String
  
  /// Timestamp when the role assignment was created.
  created_at DateTime
  
  /// Timestamp when the role assignment was last updated.
  updated_at DateTime
  
  //----
  // RELATIONS
  //----
  user todo_list_users @relation(fields: [todo_list_user_id], references: [id], onDelete: Cascade)
  
  @@index([todo_list_user_id])
}