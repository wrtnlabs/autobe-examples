/// Represents communities (subreddits) in the platform. Each community has a
/// unique name and description, and can have rules and guidelines set by
/// moderators. This table serves as the central entity for community
/// management and interaction.
///
/// @namespace Communities
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model reddit_like_community_communities {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Unique name of the community.
  name String
  
  /// Description of the community.
  description String
  
  /// Rules and guidelines for the community.
  rules String?
  
  /// Timestamp when the community was created.
  created_at DateTime
  
  /// Timestamp when the community was last updated.
  updated_at DateTime
  
  /// Timestamp when the community was deleted (soft delete).
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  reddit_like_community_moderator reddit_like_community_moderator[]
  reddit_like_community_subscriptions reddit_like_community_subscriptions[]
  reddit_like_community_posts reddit_like_community_posts[]
  reddit_like_community_post_sorting reddit_like_community_post_sorting[]
  
  @@unique([name])
}

/// Represents the subscription relationship between users and communities.
/// This table tracks which users are subscribed to which communities and
/// when the subscription was created. It establishes a many-to-many
/// relationship between users and communities.
///
/// @namespace Communities
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model reddit_like_community_subscriptions {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Reference to the user who subscribed to the community. {@link
  /// reddit_like_community_member.id}
  reddit_like_community_member_id String
  
  /// Reference to the community that the user subscribed to. {@link
  /// reddit_like_community_communities.id}
  reddit_like_community_community_id String
  
  /// Timestamp when the subscription was created.
  created_at DateTime
  
  //----
  // RELATIONS
  //----
  member reddit_like_community_member @relation(fields: [reddit_like_community_member_id], references: [id], onDelete: Cascade)
  community reddit_like_community_communities @relation(fields: [reddit_like_community_community_id], references: [id], onDelete: Cascade)
  
  @@unique([reddit_like_community_member_id, reddit_like_community_community_id], map: "reddit_like_community_subscriptions_reddit_like_commun_72e8b81a")
  @@index([reddit_like_community_member_id], map: "reddit_like_community_subscriptions_reddit_like_commun_bddadffb")
  @@index([reddit_like_community_community_id], map: "reddit_like_community_subscriptions_reddit_like_commun_fc9577e1")
}