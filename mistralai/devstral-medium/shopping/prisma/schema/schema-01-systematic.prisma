/// Represents the channels through which products are sold in the shopping
/// mall platform. Each channel can have multiple sections and categories,
/// forming the foundation of the platform's organizational structure.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model shopping_channels {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// The name of the shopping channel.
  name String
  
  /// A detailed description of the shopping channel.
  description String?
  
  /// The timestamp when the channel was created.
  created_at DateTime
  
  /// The timestamp when the channel was last updated.
  updated_at DateTime
  
  /// The timestamp when the channel was soft deleted, if applicable.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  shopping_sections shopping_sections[]
  shopping_channel_categories shopping_channel_categories[]
  
  @@unique([name])
  @@index([created_at])
  @@index([updated_at])
}

/// Represents the sections within shopping channels. Each section belongs to
/// a specific channel and can contain multiple categories.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model shopping_sections {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// The channel to which this section belongs. {@link shopping_channels.id}.
  shopping_channel_id String
  
  /// The name of the shopping section.
  name String
  
  /// A detailed description of the shopping section.
  description String?
  
  /// The timestamp when the section was created.
  created_at DateTime
  
  /// The timestamp when the section was last updated.
  updated_at DateTime
  
  /// The timestamp when the section was soft deleted, if applicable.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  channel shopping_channels @relation(fields: [shopping_channel_id], references: [id], onDelete: Cascade)
  
  shopping_channel_categories shopping_channel_categories[]
  
  @@unique([shopping_channel_id, name])
  @@index([shopping_channel_id, created_at])
  @@index([shopping_channel_id, updated_at])
}

/// Represents the categories within shopping channel sections. Each category
/// belongs to a specific section and channel, forming the hierarchical
/// structure of the platform's product organization.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model shopping_channel_categories {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// The channel to which this category belongs. {@link shopping_channels.id}.
  shopping_channel_id String
  
  /// The section to which this category belongs. {@link shopping_sections.id}.
  shopping_section_id String
  
  /// The name of the shopping category.
  name String
  
  /// A detailed description of the shopping category.
  description String?
  
  /// The timestamp when the category was created.
  created_at DateTime
  
  /// The timestamp when the category was last updated.
  updated_at DateTime
  
  /// The timestamp when the category was soft deleted, if applicable.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  channel shopping_channels @relation(fields: [shopping_channel_id], references: [id], onDelete: Cascade)
  section shopping_sections @relation(fields: [shopping_section_id], references: [id], onDelete: Cascade)
  
  @@index([shopping_section_id])
  
  @@unique([shopping_channel_id, shopping_section_id, name], map: "shopping_channel_categories_shopping_channel_id_shoppi_8ec29d51")
  @@index([shopping_channel_id, shopping_section_id, created_at], map: "shopping_channel_categories_shopping_channel_id_shoppi_bdf01ba1")
  @@index([shopping_channel_id, shopping_section_id, updated_at], map: "shopping_channel_categories_shopping_channel_id_shoppi_8758f887")
}