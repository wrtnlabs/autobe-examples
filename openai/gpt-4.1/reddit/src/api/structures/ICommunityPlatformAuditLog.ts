import { tags } from "typia";

/**
 * Audit log entry for system/platform actions in the Reddit-like community
 * platform. This schema matches the 'community_platform_audit_logs' table and
 * is used in admin workflows, forensic review, compliance, and event tracing.
 * It includes all fields required for a complete audit record of who did what,
 * when, to which resource, and the granularity required for post-incident or
 * compliance reporting. All fields reflect exact columns in the DB table.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type ICommunityPlatformAuditLog = {
  /** Primary Key. Unique identifier for this audit log entry. */
  id: string & tags.Format<"uuid">;

  /**
   * The type of actor involved (e.g., 'member', 'moderator', 'admin',
   * 'system_job'). Indicates the privilege context of the action.
   */
  actor_type: string;

  /**
   * UUID of the actor who performed the action. Matches the corresponding
   * system actor in their respective tables. All-zeroes (000...0) for
   * system_jobs.
   */
  actor_id: string & tags.Format<"uuid">;

  /**
   * High-level action performed. Examples: 'create', 'update', 'delete',
   * 'config_change', 'user_ban', 'login', 'moderation_action'. Used for
   * filtering in dashboards.
   */
  action_type: string;

  /**
   * Name of the target table affected by the action (e.g.,
   * 'community_platform_posts', 'community_platform_comments'). Used for
   * resource tracking.
   */
  target_table: string;

  /**
   * UUID of the affected entity (row) in the target table. Nullable if the
   * action is not row-specific (i.e., batch or system-wide).
   */
  target_id?: (string & tags.Format<"uuid">) | null | undefined;

  /**
   * Structured (JSON or text) event details about this audit log entry. Can
   * be used for replay or extended debugging. Optional field; often null for
   * simple actions.
   */
  details?: string | null | undefined;

  /** Timestamp of when this audit log entry was created. */
  created_at: string & tags.Format<"date-time">;
};
