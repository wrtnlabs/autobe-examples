{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"shopping_mall_categories","description":"Product categories in the shopping mall's hierarchical catalog. Enables product classification and navigation via parent-child relationships forming a tree structure. Supports category codes and display order for UI sorting. Includes soft delete support and audit timestamps. Self-referencing foreign key for parent-child linkage.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"parent_id","type":"uuid","description":"Parent category's {@link shopping_mall_categories.id}. Nullable for root categories.","relation":{"name":"parent","targetModel":"shopping_mall_categories","mappingName":"recursive"},"unique":false,"nullable":true}],"plainFields":[{"name":"code","type":"string","nullable":false,"description":"Unique code identifying the category."},{"name":"name","type":"string","nullable":false,"description":"Category display name."},{"name":"description","type":"string","nullable":true,"description":"Optional detailed description of the category."},{"name":"display_order","type":"int","nullable":false,"description":"Display order for sorting categories."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the category was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the category was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp. Null when active."}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["parent_id","display_order"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"shopping_mall_configurations","description":"System-wide configuration parameters and settings for the shopping mall platform. Stores key-value pairs defining various operational parameters. Supports categorization, description, and status flags. Enables soft deletion and tracks creation and update timestamps.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"key","type":"string","nullable":false,"description":"Unique configuration key."},{"name":"value","type":"string","nullable":false,"description":"Configuration value as a string."},{"name":"category","type":"string","nullable":true,"description":"Optional category grouping for configurations."},{"name":"description","type":"string","nullable":true,"description":"Description of the configuration parameter."},{"name":"enabled","type":"boolean","nullable":false,"description":"Flag indicating if the configuration is active."},{"name":"created_at","type":"datetime","nullable":false,"description":"Creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Last updated timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Soft delete timestamp; null if active."}],"uniqueIndexes":[{"fieldNames":["key"],"unique":true}],"plainIndexes":[{"fieldNames":["category"]}],"ginIndexes":[]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"shopping_mall_guests","description":"Guest users of the shopping mall platform representing unauthenticated visitors possibly tracked for session and analytics purposes. This model stores minimal information to identify guest sessions and access patterns. No authentication fields are required. The guest entities serve as primary actors in the system to track guest activity independently from registered users.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"session_token","type":"string","nullable":false,"description":"Unique session token identifying the guest session."},{"name":"ip_address","type":"string","nullable":true,"description":"IP address from which the guest accessed the system."},{"name":"user_agent","type":"string","nullable":true,"description":"Browser or client user agent string of the guest session."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this guest record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this guest record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion of this guest record."}],"uniqueIndexes":[{"fieldNames":["session_token"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"user_agent"}]},{"name":"shopping_mall_customers","description":"Customer user accounts who can browse products, manage orders, addresses, and submit product reviews. Customers require authentication with email and password hash. This table stores user identity and authentication data separately from transactional sales data. Customers are a primary actor type in the platform.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Customer's unique email address used for login and notifications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for secure customer authentication."},{"name":"nickname","type":"string","nullable":true,"description":"Nickname or display name of the customer."},{"name":"phone_number","type":"string","nullable":true,"description":"Customer's contact phone number in E.164 format."},{"name":"status","type":"string","nullable":false,"description":"Status of the customer account, e.g., 'active', 'inactive', or 'suspended'."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the customer was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the customer record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion of the customer account."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"nickname"}]},{"name":"shopping_mall_sellers","description":"Seller accounts that manage product listings, SKUs, inventory, and orders for their products. Sellers require authentication with email and password hash. This table stores identity and authentication information for sellers as primary actors distinct from customers.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Seller's unique email address for login and notifications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for secure seller authentication."},{"name":"company_name","type":"string","nullable":true,"description":"Legal or brand name of the seller company."},{"name":"contact_name","type":"string","nullable":true,"description":"Main contact person name for the seller."},{"name":"phone_number","type":"string","nullable":true,"description":"Contact phone number of the seller in E.164 format."},{"name":"status","type":"string","nullable":false,"description":"Current status of the seller account such as 'active' or 'suspended'."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the seller account was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the seller record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion of the seller account."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"company_name"}]},{"name":"shopping_mall_admins","description":"Administrator accounts that oversee platform operations including user management, product controls, order processing, and review moderation. Admins have elevated permissions and require secure authentication with email and password hash. This primary actor entity stores identity and authorization data to support system administration tasks.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Administrator's unique email address for login and critical notifications."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for secure admin authentication."},{"name":"full_name","type":"string","nullable":true,"description":"Full legal name of the administrator."},{"name":"phone_number","type":"string","nullable":true,"description":"Contact phone number of the admin in E.164 format."},{"name":"status","type":"string","nullable":false,"description":"Administrative account status, indicating if active, suspended, or disabled."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the admin account was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the admin record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp marking soft deletion of the admin account."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"full_name"}]}]},{"filename":"schema-03-catalog.prisma","namespace":"Catalog","models":[{"name":"shopping_mall_products","description":"Represents products listed by sellers on the shopping mall platform. Each product belongs to a category and has various SKUs representing different variants. Supports product lifecycle states and soft deletion. Includes timestamps for creation and updates.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_category_id","type":"uuid","description":"The category to which this product belongs. {@link shopping_mall_categories.id}.","relation":{"name":"category","targetModel":"shopping_mall_categories"},"unique":false,"nullable":false},{"name":"shopping_mall_seller_id","type":"uuid","description":"The seller who owns this product. {@link shopping_mall_sellers.id}.","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Unique business code identifying the product.","nullable":false},{"name":"name","type":"string","description":"The display name of the product.","nullable":false},{"name":"description","type":"string","description":"Detailed description of the product.","nullable":true},{"name":"status","type":"string","description":"The lifecycle state of the product, e.g., Draft, Active, Inactive.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the product was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the product was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the product was soft deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_mall_category_id","status"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"shopping_mall_skus","description":"Represents product SKUs (stock keeping units) that specify variants such as color, size, and options for each product. SKUs track inventory quantities and pricing and have lifecycle states. SKUs belong to one product and are managed by sellers.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_product_id","type":"uuid","description":"The product to which this SKU belongs. {@link shopping_mall_products.id}.","relation":{"name":"product","targetModel":"shopping_mall_products"},"unique":false,"nullable":false}],"plainFields":[{"name":"sku_code","type":"string","description":"Unique SKU code within the product.","nullable":false},{"name":"price","type":"double","description":"Retail price of this SKU.","nullable":false},{"name":"weight","type":"double","description":"Weight of the SKU for shipping calculations.","nullable":true},{"name":"status","type":"string","description":"Lifecycle state of the SKU, e.g., Draft, Active, Inactive.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the SKU was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the SKU was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the SKU was soft deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_mall_product_id","sku_code"],"unique":true}],"plainIndexes":[{"fieldNames":["price","status"]}],"ginIndexes":[{"fieldName":"sku_code"}]},{"name":"shopping_mall_inventory","description":"Tracks real-time inventory levels for SKUs managed by sellers in the shopping mall platform. Each inventory record links to a SKU and records available stock quantity with timestamps for auditing inventory changes.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_sku_id","type":"uuid","description":"The SKU that this inventory record refers to. {@link shopping_mall_skus.id}.","relation":{"name":"sku","targetModel":"shopping_mall_skus"},"unique":true,"nullable":false}],"plainFields":[{"name":"quantity","type":"int","description":"Available stock quantity for this SKU.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the inventory record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the inventory record was last updated.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["quantity"]}],"ginIndexes":[]}]},{"filename":"schema-04-carts.prisma","namespace":"Carts","models":[{"name":"shopping_mall_shopping_carts","description":"Shopping carts represent active or transient collections of SKUs that customers intend to purchase. Each cart is tied to a customer (if logged in) or can optionally belong to a guest session. Carts maintain creation and update timestamps to support session persistence and caching. This primary table enables independent CRUD operations for user shopping carts.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_customer_id","type":"uuid","description":"Belonged customer's {@link shopping_mall_customers.id}","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":true}],"plainFields":[{"name":"session_id","type":"string","nullable":true,"description":"Optional session identifier for guests to track carts without login."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this cart was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this cart was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft delete, null if not deleted."}],"uniqueIndexes":[{"fieldNames":["shopping_mall_customer_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[{"fieldName":"session_id"}]},{"name":"shopping_mall_cart_items","description":"Cart items represent individual SKU units added by customers into their shopping carts. Each item belongs to a specific shopping cart and points directly to a SKU variant. This subsidiary table supports detailed cart composition and enables dynamic cart item management.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_shopping_cart_id","type":"uuid","description":"Contained shopping cart's {@link shopping_mall_shopping_carts.id}","relation":{"name":"shoppingCart","targetModel":"shopping_mall_shopping_carts"},"unique":false,"nullable":false},{"name":"shopping_mall_sku_id","type":"uuid","description":"Referenced SKU variant's {@link shopping_mall_skus.id}","relation":{"name":"sku","targetModel":"shopping_mall_skus"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity","type":"int","nullable":false,"description":"Quantity of SKU units added to the cart."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this cart item was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this cart item was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft delete, null if not deleted."}],"uniqueIndexes":[{"fieldNames":["shopping_mall_shopping_cart_id","shopping_mall_sku_id"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_mall_shopping_cart_id","created_at"]}],"ginIndexes":[]},{"name":"shopping_mall_wishlists","description":"Wishlists store saved products for customers who wish to consider purchasing them later. Each wishlist belongs to exactly one customer and tracks creation and update timestamps. This primary table enables independent CRUD operations for wishlists and supports user convenience features.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_customer_id","type":"uuid","description":"Belonged customer's {@link shopping_mall_customers.id}","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":true,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this wishlist was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this wishlist was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft delete, null if not deleted."}],"uniqueIndexes":[{"fieldNames":["shopping_mall_customer_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[]},{"name":"shopping_mall_wishlist_items","description":"Wishlist items represent individual SKUs added by customers to their wishlists. Each item belongs to a single wishlist and points to a SKU variant. This subsidiary table supports detailed wishlist contents and user convenience features.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_wishlist_id","type":"uuid","description":"Contained wishlist's {@link shopping_mall_wishlists.id}","relation":{"name":"wishlist","targetModel":"shopping_mall_wishlists"},"unique":false,"nullable":false},{"name":"shopping_mall_sku_id","type":"uuid","description":"Referenced SKU variant's {@link shopping_mall_skus.id}","relation":{"name":"sku","targetModel":"shopping_mall_skus"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this wishlist item was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when this wishlist item was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp for soft delete, null if not deleted."}],"uniqueIndexes":[{"fieldNames":["shopping_mall_wishlist_id","shopping_mall_sku_id"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_mall_wishlist_id","created_at"]}],"ginIndexes":[]}]},{"filename":"schema-05-sales.prisma","namespace":"Sales","models":[{"name":"shopping_mall_orders","description":"Primary business entity representing customer orders within the shopping mall platform. Each order is linked to a customer, seller, and contains information about total price, status, payment and shipping details. It supports lifecycle tracking with created, updated, and optional deleted timestamps. Orders are central to transactional workflows and aggregate multiple order items. Foreign keys reference customers, sellers, and payment methods.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_customer_id","type":"uuid","description":"Belonged customer's {@link shopping_mall_customers.id}.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_mall_seller_id","type":"uuid","description":"Belonged seller's {@link shopping_mall_sellers.id}.","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":false}],"plainFields":[{"name":"order_number","type":"string","nullable":false,"description":"Unique order number for business identification and tracking."},{"name":"total_price","type":"double","nullable":false,"description":"Total price of the order including taxes and shipping."},{"name":"status","type":"string","nullable":false,"description":"Current status of the order (e.g., Pending Payment, Paid, Processing, Shipped, Delivered, Cancelled)."},{"name":"business_status","type":"string","nullable":false,"description":"Business-specific status for workflow management."},{"name":"payment_method","type":"string","nullable":false,"description":"Payment method used for the order (e.g., credit card, PayPal, bank transfer)."},{"name":"shipping_address","type":"string","nullable":false,"description":"Shipping address for the order delivery."},{"name":"tracking_number","type":"string","nullable":true,"description":"Carrier tracking number for shipment, nullable if not yet shipped."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Record deletion timestamp for soft delete."}],"uniqueIndexes":[{"fieldNames":["order_number"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_mall_customer_id","created_at"]},{"fieldNames":["shopping_mall_seller_id","created_at"]}],"ginIndexes":[{"fieldName":"shipping_address"}]},{"name":"shopping_mall_order_items","description":"Subsidiary entity representing individual items within shopping mall orders. Each record associates an order with a SKU, with details including quantity, price per unit, and total price for that item. This entity supports detailed order contents and SKU-level inventory tracking.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_order_id","type":"uuid","description":"Belonged order's {@link shopping_mall_orders.id}.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":false},{"name":"shopping_mall_sku_id","type":"uuid","description":"Belonged SKU's {@link shopping_mall_skus.id}.","relation":{"name":"sku","targetModel":"shopping_mall_skus"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity","type":"int","nullable":false,"description":"Quantity of the SKU ordered."},{"name":"unit_price","type":"double","nullable":false,"description":"Price per unit of the SKU at the time of order."},{"name":"total_price","type":"double","nullable":false,"description":"Total price for the SKU line item (quantity * unit_price)."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_mall_order_id","shopping_mall_sku_id"]}],"ginIndexes":[]},{"name":"shopping_mall_payments","description":"Primary entity capturing payment transactions associated with orders. Records include payment amount, method, confirmation status, and related timestamps. Supports tracking multiple payments per order in complex payment scenarios.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_order_id","type":"uuid","description":"Belonged order's {@link shopping_mall_orders.id}.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":false}],"plainFields":[{"name":"payment_amount","type":"double","nullable":false,"description":"Amount paid in this transaction."},{"name":"payment_method","type":"string","nullable":false,"description":"Payment method used (e.g., credit card, PayPal, bank transfer)."},{"name":"payment_status","type":"string","nullable":false,"description":"Status of the payment (Pending, Completed, Failed)."},{"name":"transaction_id","type":"string","nullable":true,"description":"External payment gateway transaction identifier, nullable if not applicable."},{"name":"confirmed_at","type":"datetime","nullable":true,"description":"Timestamp when payment was confirmed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_mall_order_id","payment_status"]}],"ginIndexes":[]},{"name":"shopping_mall_order_statuses","description":"Subsidiary entity capturing historical status changes of orders to support audit trails and order lifecycle tracking. Records store status and corresponding timestamps.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_order_id","type":"uuid","description":"Belonged order's {@link shopping_mall_orders.id}.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":false}],"plainFields":[{"name":"status","type":"string","nullable":false,"description":"Order status at this point in time (Pending Payment, Paid, Processing, Shipped, Delivered, Cancelled)."},{"name":"status_changed_at","type":"datetime","nullable":false,"description":"Timestamp when the status was recorded."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_mall_order_id","status_changed_at"]}],"ginIndexes":[]},{"name":"shopping_mall_refund_requests","description":"Primary entity representing refund requests initiated by customers for orders. Includes reason, status, refund amount, and timestamps for request and processing. Connected to orders and customers for validation and audit purposes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_order_id","type":"uuid","description":"Belonged order's {@link shopping_mall_orders.id}.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":false},{"name":"shopping_mall_customer_id","type":"uuid","description":"Belonged customer's {@link shopping_mall_customers.id}.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false}],"plainFields":[{"name":"reason","type":"string","nullable":false,"description":"Reason for the refund request."},{"name":"refund_amount","type":"double","nullable":false,"description":"Amount requested to be refunded."},{"name":"status","type":"string","nullable":false,"description":"Status of the refund request (Pending, Approved, Rejected)."},{"name":"requested_at","type":"datetime","nullable":false,"description":"Timestamp when refund was requested."},{"name":"processed_at","type":"datetime","nullable":true,"description":"Timestamp when refund request was processed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_mall_order_id","status"]}],"ginIndexes":[]},{"name":"shopping_mall_cancellation_requests","description":"Primary entity representing cancellation requests made by customers on orders. Contains reason, status, timestamps, and relationships to orders and customers. Facilitates order cancellation workflows and auditing.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_order_id","type":"uuid","description":"Belonged order's {@link shopping_mall_orders.id}.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":false},{"name":"shopping_mall_customer_id","type":"uuid","description":"Belonged customer's {@link shopping_mall_customers.id}.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false}],"plainFields":[{"name":"reason","type":"string","nullable":false,"description":"Reason for the cancellation request."},{"name":"status","type":"string","nullable":false,"description":"Status of the cancellation request (Pending, Approved, Rejected)."},{"name":"requested_at","type":"datetime","nullable":false,"description":"Timestamp when cancellation was requested."},{"name":"processed_at","type":"datetime","nullable":true,"description":"Timestamp when cancellation request was processed."},{"name":"created_at","type":"datetime","nullable":false,"description":"Record creation timestamp."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Record update timestamp."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_mall_order_id","status"]}],"ginIndexes":[]}]},{"filename":"schema-06-reviews.prisma","namespace":"Reviews","models":[{"name":"shopping_mall_product_reviews","description":"Product reviews submitted by customers who purchased the products. Includes rating, review text, moderation status, and links to related entities such as customers, products, and orders. Supports soft delete and audit timestamps. Independent user management and search capabilities are essential for customer feedback and trust building.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_customer_id","type":"uuid","description":"Belonged customer's {@link shopping_mall_customers.id}.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_mall_product_id","type":"uuid","description":"Reviewed product's {@link shopping_mall_products.id}.","relation":{"name":"product","targetModel":"shopping_mall_products"},"unique":false,"nullable":false},{"name":"shopping_mall_order_id","type":"uuid","description":"Order that confirmed purchase for eligibility. {@link shopping_mall_orders.id}.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":false}],"plainFields":[{"name":"rating","type":"int","description":"Review rating score between 1 and 5 indicating product satisfaction level.","nullable":false},{"name":"review_text","type":"string","description":"Review content text provided by the customer.","nullable":true},{"name":"status","type":"string","description":"Moderation status of the review such as 'pending', 'approved', or 'rejected'.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the review was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the review was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp indicating when the review was deleted, if applicable.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_mall_customer_id","shopping_mall_product_id","shopping_mall_order_id"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_mall_product_id","status","created_at"]}],"ginIndexes":[{"fieldName":"review_text"}]},{"name":"shopping_mall_review_moderations","description":"Administrative moderation records for product reviews, capturing the review reference, admin who performed the moderation, the moderation action taken, comments, and timestamps. Supports soft deletion and audit trails. Managed as a subsidiary entity belonging to product reviews.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_product_review_id","type":"uuid","description":"Reviewed product review {@link shopping_mall_product_reviews.id} which is moderated.","relation":{"name":"productReview","targetModel":"shopping_mall_product_reviews"},"unique":false,"nullable":false},{"name":"shopping_mall_admin_id","type":"uuid","description":"Admin user who performed this moderation action {@link shopping_mall_admins.id}.","relation":{"name":"admin","targetModel":"shopping_mall_admins"},"unique":false,"nullable":false}],"plainFields":[{"name":"action","type":"string","description":"Moderation action taken such as 'approve', 'reject', or 'flag'.","nullable":false},{"name":"comment","type":"string","description":"Administrative comments or reasons related to the moderation action.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when this moderation record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this moderation record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp if this moderation record was deleted.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_mall_product_review_id","shopping_mall_admin_id"]}],"ginIndexes":[]}]},{"filename":"schema-07-administration.prisma","namespace":"Administration","models":[{"name":"shopping_mall_admin_dashboard","description":"Admin dashboard overview to monitor platform operations, presenting key performance indicators (KPIs), summaries of orders, users, and system status. Supports filters by time and operational category for administrators' quick insights and management actions.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"dashboard_name","type":"string","nullable":false,"description":"Unique name identifier for the specific admin dashboard instance or view."},{"name":"description","type":"string","nullable":true,"description":"Optional textual description providing details about the dashboard purpose or scope."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the dashboard record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the dashboard record was last updated."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when the dashboard record was soft deleted."}],"uniqueIndexes":[{"fieldNames":["dashboard_name"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[]},{"name":"shopping_mall_audit_logs","description":"Audit logs capturing immutable historical records of administrative actions, system events, and user activities for compliance and troubleshooting. Logs reference relevant administrators and affected entities to provide traceability.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"admin_id","type":"uuid","nullable":true,"unique":false,"description":"Referencing administrator responsible for the action. {@link shopping_mall_admins.id}","relation":{"name":"admin","targetModel":"shopping_mall_admins"}},{"name":"entity_id","type":"uuid","nullable":true,"unique":false,"description":"Referencing the entity affected by the action, could be order, product, user etc. {@link shopping_mall_orders.id} or other relevant entities","relation":{"name":"entity","targetModel":"shopping_mall_orders"}}],"plainFields":[{"name":"action","type":"string","nullable":false,"description":"Description of the action performed."},{"name":"timestamp","type":"datetime","nullable":false,"description":"Timestamp when the action was performed."},{"name":"details","type":"string","nullable":true,"description":"Optional additional information or metadata about the action."}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["timestamp"]}],"ginIndexes":[{"fieldName":"action"},{"fieldName":"details"}]},{"name":"shopping_mall_reports","description":"Reports generated for administrative insight and operational analytics including sales data, user activity summaries, and inventory status. Reports can reference temporal ranges and filtered entities for targeted analysis.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"generated_by_admin_id","type":"uuid","nullable":true,"unique":false,"description":"Administrator who generated the report. {@link shopping_mall_admins.id}","relation":{"name":"generatedByAdmin","targetModel":"shopping_mall_admins"}}],"plainFields":[{"name":"report_name","type":"string","nullable":false,"description":"Unique name for the report configuration or instance."},{"name":"report_type","type":"string","nullable":false,"description":"Type of report (e.g., sales_summary, user_activity)."},{"name":"content_uri","type":"uri","nullable":true,"description":"URI for accessing the report content or file."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the report record was created."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp when the report record was last modified."},{"name":"deleted_at","type":"datetime","nullable":true,"description":"Timestamp when the report record was soft deleted."}],"uniqueIndexes":[{"fieldNames":["report_name"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]}],"ginIndexes":[]}]}]}