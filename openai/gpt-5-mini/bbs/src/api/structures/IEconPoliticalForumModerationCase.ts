import { tags } from "typia";

/**
 * Moderation case record aggregating related reports and moderation logs.
 *
 * This schema corresponds directly to the Prisma model
 * `econ_political_forum_moderation_cases` and represents the canonical
 * coordination object used by moderators and administrators. It includes
 * assignment fields (assigned_moderator_id, owner_admin_id), linkage to a lead
 * report, lifecycle metadata (status, priority), and legal hold indicators.
 *
 * The case record is used for triage, evidence aggregation, escalation, and
 * appeals. The `deleted_at` field supports soft-archival; active cases have
 * `deleted_at` == null. Administrators and moderators should consult this
 * canonical schema when implementing case workflows and when producing audit
 * exports.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IEconPoliticalForumModerationCase = {
  /**
   * Primary key (UUID) of the moderation case as stored in
   * econ_political_forum_moderation_cases.
   */
  id: string & tags.Format<"uuid">;

  /**
   * Moderator assigned to manage the case
   * (econ_political_forum_moderator.id). Nullable when unassigned.
   */
  assigned_moderator_id?: (string & tags.Format<"uuid">) | null | undefined;

  /**
   * Administrator who owns or finalized the case
   * (econ_political_forum_administrator.id). Nullable until an owner is set.
   */
  owner_admin_id?: (string & tags.Format<"uuid">) | null | undefined;

  /**
   * Representative report id that initiated the case. Nullable; used for
   * quick reference to the originating report.
   */
  lead_report_id?: (string & tags.Format<"uuid">) | null | undefined;

  /**
   * Human-friendly unique case identifier (for example: 'CASE-2025-0001').
   * Unique within the application and used in communications and dashboards.
   */
  case_number: string;

  /** Short descriptive title summarizing the issue for quick identification. */
  title?: string | null | undefined;

  /**
   * Lifecycle status of the case. Use one of the exact token values to
   * indicate case state.
   */
  status: "open" | "investigating" | "closed" | "on_hold";

  /**
   * Operational priority label for triage and escalation. Use exact token
   * values.
   */
  priority: "low" | "normal" | "high" | "urgent";

  /**
   * Concise summary or executive note describing the case purpose and current
   * focus.
   */
  summary?: string | null | undefined;

  /**
   * Reason for administrative escalation (examples: 'legal',
   * 'law_enforcement', 'coordinated_activity'). Nullable when not escalated.
   */
  escalation_reason?: string | null | undefined;

  /**
   * When true, this case has an active legal hold and evidence preservation
   * rules must apply; deletion/purge operations are inhibited.
   */
  legal_hold: boolean;

  /** Case creation timestamp (ISO 8601). Immutable once created. */
  created_at: string & tags.Format<"date-time">;

  /**
   * Last update timestamp for the case (ISO 8601). Updated when mutable
   * fields change.
   */
  updated_at: string & tags.Format<"date-time">;

  /** Timestamp when the case was closed. Nullable if the case remains open. */
  closed_at?: (string & tags.Format<"date-time">) | null | undefined;

  /**
   * Soft-delete timestamp for the case record; when set the case is archived
   * and typically excluded from operational lists unless explicitly requested
   * by administrators.
   */
  deleted_at?: (string & tags.Format<"date-time">) | null | undefined;
};
export namespace IEconPoliticalForumModerationCase {
  /**
   * Request DTO for listing and searching moderation cases.
   *
   * This DTO supports both page/limit and cursor-based pagination, free-text
   * search on summary/title, and multiple filters including status, priority,
   * assigned moderator, owner admin, case number, and legal hold flag. Use
   * this object for moderator and administrative listing endpoints. Note:
   * includeDeleted is restricted to admin callers and should be enforced
   * server-side.
   */
  export type IRequest = {
    /**
     * Page number for page-based pagination (1-based). Use either
     * page/limit or cursor-based pagination. Default: 1.
     */
    page?: (number & tags.Type<"int32">) | undefined;

    /**
     * Maximum number of items to return per page. Default: 20.
     * Server-enforced maximum recommended (for example 100).
     */
    limit?: (number & tags.Type<"int32">) | undefined;

    /**
     * Optional opaque cursor for cursor-based pagination. When provided,
     * the server should ignore page/limit and use cursor semantics.
     */
    cursor?: string | undefined;

    /**
     * Full-text search query applied to case summary/title fields. Use
     * short queries (recommended max length 256 characters) to leverage
     * trigram/full-text indexes.
     */
    query?: string | undefined;

    /**
     * Filter by case status (for example 'open', 'investigating', 'closed',
     * 'on_hold').
     */
    status?: "open" | "investigating" | "closed" | "on_hold" | undefined;

    /** Filter by priority (for example 'low','normal','high','urgent'). */
    priority?: "low" | "normal" | "high" | "urgent" | undefined;

    /**
     * Filter cases assigned to a specific moderator
     * (econ_political_forum_moderator.id).
     */
    assigned_moderator_id?: (string & tags.Format<"uuid">) | undefined;

    /**
     * Filter cases owned by a specific administrator
     * (econ_political_forum_administrator.id).
     */
    owner_admin_id?: (string & tags.Format<"uuid">) | undefined;

    /**
     * Filter by exact case_number (human-friendly case identifier such as
     * 'CASE-2025-0001').
     */
    case_number?: string | undefined;

    /**
     * Filter by legal_hold flag. When true returns cases with an active
     * legal hold.
     */
    legal_hold?: boolean | undefined;

    /** Start of created_at date range (inclusive). ISO 8601 format. */
    created_from?: (string & tags.Format<"date-time">) | undefined;

    /** End of created_at date range (inclusive). ISO 8601 format. */
    created_to?: (string & tags.Format<"date-time">) | undefined;

    /**
     * When true, include soft-deleted (archived) cases. Restricted to
     * administrator callers; non-admin requests with includeDeleted=true
     * should be rejected with 403.
     */
    includeDeleted?: boolean | undefined;

    /** Sort key. Examples: 'created_at', 'priority', 'case_number'. */
    sort_by?: string | undefined;

    /** Sort direction: 'asc' or 'desc'. */
    sort_order?: "asc" | "desc" | undefined;
  };

  /**
   * Create DTO for a moderation case.
   *
   * This request body is used to create a new moderation case record that
   * aggregates related reports and drives escalation workflows. The schema
   * maps to the Prisma model `econ_political_forum_moderation_cases` and
   * includes only fields that may be supplied at creation time.
   * System-managed fields such as `id`, `created_at`, `updated_at`,
   * `closed_at`, and `deleted_at` are not accepted in this DTO and will be
   * generated by the server.
   *
   * Business notes:
   *
   * - `case_number` is required and should be a unique human-facing identifier.
   * - `status` and `priority` use exact enum values.
   * - `legal_hold` is required to indicate preservation requirements at case
   *   creation time.
   */
  export type ICreate = {
    /**
     * Canonical human-friendly case identifier used to reference the
     * moderation case (for example: "CASE-2025-0001").
     *
     * This property maps to the Prisma model column `case_number` and MUST
     * be provided when creating a case. It is intended for operational use
     * in UIs and communications and should be unique across active cases.
     */
    case_number: string;

    /**
     * Optional short title summarizing the case for quick identification.
     *
     * This maps to the Prisma model column `title` (nullable). Use concise,
     * human-readable text that helps moderators quickly understand the
     * subject of the case.
     */
    title?: string | null | undefined;

    /**
     * Optional UUID of the moderator assigned to manage the case.
     *
     * This corresponds to `assigned_moderator_id` in the Prisma model.
     * Provide the moderator's id when assigning at creation; otherwise
     * leave null. When set, the value must be a valid moderator record id.
     */
    assigned_moderator_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Optional UUID of the administrator who owns or will finalize the
     * case.
     *
     * This maps to `owner_admin_id` in the Prisma model. Use only when an
     * administrator should be recorded as the case owner at creation time;
     * otherwise omit or set null.
     */
    owner_admin_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Optional reference to the representative report that initiated the
     * case (UUID).
     *
     * This field maps to `lead_report_id` in the Prisma model. It groups
     * related reports under a single moderation case and should be included
     * when the case originates from a specific report.
     */
    lead_report_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Lifecycle status of the case. Allowed values are exact enum tokens.
     *
     * This property maps to the `status` column in the Prisma model and
     * indicates the current processing state of the case. Use one of the
     * enumerated values exactly as shown.
     */
    status: "open" | "investigating" | "closed" | "on_hold";

    /**
     * Operational priority label for triage (exact enum values).
     *
     * This maps to the `priority` column in the Prisma model. Choose the
     * value that best reflects triage urgency; these values are used to
     * order queues and notify on-duty staff.
     */
    priority: "low" | "normal" | "high" | "urgent";

    /**
     * Optional concise summary or executive note for the case.
     *
     * This field maps to `summary` in the Prisma model and is intended to
     * give moderators a short description suitable for dashboards and quick
     * reviews.
     */
    summary?: string | null | undefined;

    /**
     * Optional escalation reason (for example: 'legal', 'law_enforcement',
     * 'coordinated_activity').
     *
     * Maps to `escalation_reason` in the Prisma model. Provide a short
     * rationale when the case is being escalated.
     */
    escalation_reason?: string | null | undefined;

    /**
     * Flag indicating whether a legal hold should apply to this case and
     * its associated evidence.
     *
     * This maps to the `legal_hold` boolean column in the Prisma model.
     * When true, deletion and purge operations must be inhibited by
     * application logic until the hold is cleared.
     */
    legal_hold: boolean;
  };

  /**
   * Update DTO for a moderation case.
   *
   * All fields are optional and may be provided to modify the existing
   * moderation case. The DTO maps to the Prisma model
   * `econ_political_forum_moderation_cases` and intentionally excludes
   * immutable/system-managed fields such as `id`, `created_at`, `updated_at`,
   * and `deleted_at`.
   *
   * Business notes:
   *
   * - Use the exact enum tokens for `status` and `priority` when updating these
   *   fields.
   * - Modifying `legal_hold` should follow legal/operations procedures and will
   *   be validated by server-side logic.
   */
  export type IUpdate = {
    /**
     * Optional UUID of the moderator assigned to manage the case.
     *
     * On updates, setting this field assigns or reassigns the case to a
     * moderator. This maps to `assigned_moderator_id` in the Prisma model;
     * use null to unassign.
     */
    assigned_moderator_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Optional UUID of the administrator who owns or finalizes the case.
     *
     * On updates, this field may be used to record administrative ownership
     * or transfer. Maps to `owner_admin_id` in the Prisma model.
     */
    owner_admin_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Optional reference to a representative report that initiated or is
     * linked to the case.
     *
     * Maps to `lead_report_id` in the Prisma model. Use to add or change
     * the lead report association.
     */
    lead_report_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Human-friendly case identifier. Updating this value must preserve
     * uniqueness.
     *
     * This maps to `case_number` in the Prisma model. Changes should be
     * performed cautiously and will be validated for uniqueness by the
     * service.
     */
    case_number?: string | null | undefined;

    /**
     * Optional short title summarizing the case for quick identification.
     *
     * Maps to `title` in the Prisma model. Use to clarify or correct the
     * case title.
     */
    title?: string | null | undefined;

    /**
     * Lifecycle status of the case. Allowed exact enum values:
     * 'open','investigating','closed','on_hold'.
     *
     * This updates the `status` column on the Prisma model; transitions may
     * trigger workflow side-effects and are validated by server logic.
     */
    status?: "open" | "investigating" | "closed" | "on_hold" | null | undefined;

    /**
     * Operational priority label for triage. Allowed exact enum values:
     * 'low','normal','high','urgent'.
     *
     * Maps to `priority` in the Prisma model. Changing priority affects
     * queue ordering and alerting behavior.
     */
    priority?: "low" | "normal" | "high" | "urgent" | null | undefined;

    /**
     * Optional concise summary or executive note for the case.
     *
     * This maps to `summary` in the Prisma model and is intended to provide
     * moderators and administrators a human-friendly description of the
     * case.
     */
    summary?: string | null | undefined;

    /**
     * Optional escalation reason (for example:
     * 'legal','law_enforcement','coordinated_activity').
     *
     * Maps to `escalation_reason` in the Prisma model and documents why a
     * case was escalated.
     */
    escalation_reason?: string | null | undefined;

    /**
     * Flag indicating whether a legal hold applies to the case.
     *
     * This maps to `legal_hold` in the Prisma model. Use true to apply a
     * preservation hold or false to release it; changing this field may
     * trigger retention and preservation workflows.
     */
    legal_hold?: boolean | null | undefined;

    /**
     * Optional timestamp indicating when the case was closed.
     *
     * This maps to `closed_at` in the Prisma model. Set when closing the
     * case; use ISO 8601 UTC date-time format.
     */
    closed_at?: (string & tags.Format<"date-time">) | null | undefined;
  };

  /**
   * Moderation case summary DTO.
   *
   * This summary maps directly to the Prisma model
   * `econ_political_forum_moderation_cases` and is intended for moderator and
   * administrator list views. It includes identifying fields (id,
   * case_number), administrative attributes (status, priority, legal_hold)
   * and routing identifiers (assigned_moderator_id, owner_admin_id) where
   * available. The DTO purpose is to enable efficient triage and case routing
   * without exposing sensitive evidence or full case details.
   *
   * Design notes:
   *
   * - Fields that are nullable in the Prisma model are represented using
   *   `oneOf` with a `null` branch to preserve explicit null semantics.
   * - This summary intentionally excludes large textual summaries or sensitive
   *   notes; those belong in the full case DTO accessed via admin/moderator
   *   detail endpoints.
   */
  export type ISummary = {
    /**
     * Primary key of the moderation case
     * (econ_political_forum_moderation_cases.id).
     *
     * Used as the canonical identifier for case-level workflows and audit
     * references.
     */
    id: string & tags.Format<"uuid">;

    /**
     * Human-friendly unique case identifier
     * (econ_political_forum_moderation_cases.case_number).
     *
     * This value is suitable for display in dashboards and for
     * communicating with users and external stakeholders (for example:
     * "CASE-2025-0001").
     */
    case_number: string;

    /**
     * Short title or summary line for the case
     * (econ_political_forum_moderation_cases.title).
     *
     * Intended to give moderators and administrators a quick view of the
     * case subject in list displays.
     */
    title?: string | undefined;

    /**
     * Lifecycle status of the case
     * (econ_political_forum_moderation_cases.status).
     *
     * Typical values are application-defined (for example: 'open',
     * 'investigating', 'closed', 'on_hold'). The server should document
     * exact allowed values in API reference and enforce them in
     * create/update flows.
     */
    status: string;

    /**
     * Operational priority label for triage
     * (econ_political_forum_moderation_cases.priority).
     *
     * Examples: 'low', 'normal', 'high', 'urgent'. Priority drives queue
     * ordering in moderation UIs.
     */
    priority: string;

    /**
     * Identifier of the moderator currently assigned to the case
     * (econ_political_forum_moderation_cases.assigned_moderator_id).
     *
     * Nullable when the case is unassigned. When present, this id
     * references a moderator record for operational routing.
     */
    assigned_moderator_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Identifier of the administrator who owns or finalized the case
     * (econ_political_forum_moderation_cases.owner_admin_id).
     *
     * Nullable; present for escalated or administratively-handled cases.
     */
    owner_admin_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Representative report id that initiated the case
     * (econ_political_forum_moderation_cases.lead_report_id).
     *
     * Nullable when the case was opened proactively or via other workflows.
     */
    lead_report_id?: (string & tags.Format<"uuid">) | null | undefined;

    /**
     * Flag indicating whether a legal hold is applied to the case
     * (econ_political_forum_moderation_cases.legal_hold).
     *
     * When true, deletion and purge workflows must preserve evidence
     * associated with the case until the hold is released.
     */
    legal_hold?: boolean | undefined;

    /**
     * Timestamp when the moderation case was created
     * (econ_political_forum_moderation_cases.created_at).
     *
     * Expressed in ISO 8601 / date-time format; useful for sort and SLA
     * calculations.
     */
    created_at: string & tags.Format<"date-time">;

    /**
     * Timestamp of the last update to the moderation case
     * (econ_political_forum_moderation_cases.updated_at).
     *
     * Useful for tracking progress and showing recent activity in
     * administrative lists.
     */
    updated_at?: (string & tags.Format<"date-time">) | undefined;

    /**
     * Timestamp when the case was closed or resolved
     * (econ_political_forum_moderation_cases.closed_at).
     *
     * Nullable while the case is open; when present indicates finalization
     * time.
     */
    closed_at?: (string & tags.Format<"date-time">) | null | undefined;
  };
}
