import { tags } from "typia";

import { IEEconDiscussPostTopicSort } from "./IEEconDiscussPostTopicSort";

/**
 * Post–topic association entity coming from the Prisma model
 * econ_discuss_post_topics.
 *
 * The underlying table enforces uniqueness per (econ_discuss_post_id,
 * econ_discuss_topic_id) and maintains temporal columns created_at and
 * updated_at for auditability. A soft deletion column (deleted_at) exists in
 * the database to retire links, but it is omitted from this response DTO to
 * avoid exposing internal lifecycle markers to clients.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IEconDiscussPostTopic = {
  /**
   * Primary key of the post–topic association.
   *
   * Maps to econ_discuss_post_topics.id in Prisma.
   */
  id: string & tags.Format<"uuid">;

  /**
   * Associated post identifier.
   *
   * FK to econ_discuss_posts.id (Prisma:
   * econ_discuss_post_topics.econ_discuss_post_id).
   */
  econ_discuss_post_id: string & tags.Format<"uuid">;

  /**
   * Associated topic identifier.
   *
   * FK to econ_discuss_topics.id (Prisma:
   * econ_discuss_post_topics.econ_discuss_topic_id).
   */
  econ_discuss_topic_id: string & tags.Format<"uuid">;

  /**
   * Creation timestamp of this association in UTC (ISO 8601).
   *
   * Maps to econ_discuss_post_topics.created_at (timestamptz).
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * Last update timestamp of this association in UTC (ISO 8601).
   *
   * Maps to econ_discuss_post_topics.updated_at (timestamptz).
   */
  updated_at: string & tags.Format<"date-time">;
};
export namespace IEconDiscussPostTopic {
  /**
   * Request DTO for searching topics associated with a post via the junction
   * (econ_discuss_post_topics) and taxonomy (econ_discuss_topics).
   *
   * Prisma references: Articles.econ_discuss_post_topics;
   * Topics.econ_discuss_topics.
   */
  export type IRequest = {
    /**
     * Optional keyword to search topic name/description using trigram
     * indexes.
     *
     * Prisma reference: Topics.econ_discuss_topics has GIN trigram indexes
     * on name/description.
     */
    q?: string | null | undefined;

    /** Page number for pagination (1-based). */
    page?: (number & tags.Type<"int32"> & tags.Minimum<1>) | null | undefined;

    /**
     * Page size limit. Server enforces an upper bound. Standard pagination
     * parameter replacing pageSize to align with IPage.IRequest guidance.
     */
    limit?:
      | (number & tags.Type<"int32"> & tags.Minimum<1> & tags.Maximum<100>)
      | null
      | undefined;

    /**
     * Sort ordering for results.
     *
     * See IEEconDiscussPostTopicSort for allowed values.
     */
    sort?: IEEconDiscussPostTopicSort | null | undefined;
  };

  /**
   * Create payload to attach a curated topic to a post through the junction
   * table econ_discuss_post_topics.
   *
   * This DTO corresponds to the association creation described by the
   * Articles schema model econ_discuss_post_topics (unique per
   * [econ_discuss_post_id, econ_discuss_topic_id]). The post identifier is
   * typically supplied via the path parameter and is not part of this body.
   * System timestamps (created_at, updated_at) are populated by the backend
   * and are not included here.
   */
  export type ICreate = {
    /**
     * Target topic identifier to attach to the post.
     *
     * Maps to econ_discuss_post_topics.econ_discuss_topic_id (FK →
     * econ_discuss_topics.id) in the Prisma schema. The topic must exist
     * and must not be archived (deleted_at is null) per application
     * policy.
     */
    econ_discuss_topic_id: string & tags.Format<"uuid">;
  };
}
