import { tags } from "typia";

import { IECommunityVisibility } from "./IECommunityVisibility";

/**
 * Community entity as defined in Prisma community_platform_communities.
 *
 * Includes configuration for visibility, safety labels, and archival policy.
 * Relationships to owners/moderators/subscriptions and posts are handled via
 * foreign tables.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type ICommunityPlatformCommunity = {
  /**
   * Primary key of the community.
   *
   * Prisma column: id (UUID).
   */
  id: string & tags.Format<"uuid">;

  /**
   * Globally unique community handle used for routing and mentions.
   *
   * Prisma column: name (unique).
   */
  name: string;

  /**
   * Human-readable title for the community.
   *
   * Prisma column: display_name (nullable).
   */
  display_name?: string | null | undefined;

  /**
   * Optional about text used for discovery and policy transparency.
   *
   * Prisma column: description (nullable).
   */
  description?: string | null | undefined;

  /**
   * Community visibility mode controlling read/write: public | restricted |
   * private.
   *
   * Prisma column: visibility.
   */
  visibility: string;

  /**
   * Whether the community is marked Not Safe For Work.
   *
   * Prisma column: nsfw.
   */
  nsfw: boolean;

  /**
   * Number of days after which posts auto-archive (>= 30).
   *
   * Prisma column: auto_archive_days.
   */
  auto_archive_days: number & tags.Type<"int32">;

  /**
   * Optional default language code (e.g., en, ko).
   *
   * Prisma column: language (nullable).
   */
  language?: string | null | undefined;

  /**
   * Optional default region code (e.g., KR, US).
   *
   * Prisma column: region (nullable).
   */
  region?: string | null | undefined;

  /**
   * Whether discovery is restricted per safety policy.
   *
   * Prisma column: quarantined.
   */
  quarantined: boolean;

  /**
   * Timestamp when quarantine began.
   *
   * Prisma column: quarantined_at (nullable).
   */
  quarantined_at?: (string & tags.Format<"date-time">) | null | undefined;

  /**
   * Creation timestamp.
   *
   * Prisma column: created_at.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * Last update timestamp.
   *
   * Prisma column: updated_at.
   */
  updated_at: string & tags.Format<"date-time">;
};
export namespace ICommunityPlatformCommunity {
  /**
   * Create DTO for communities aligned to Prisma model
   * community_platform_communities.
   *
   * Security and integrity: Excludes system-managed fields (id, created_at,
   * updated_at, deleted_at, quarantined, quarantined_at) and any
   * ownership/actor identifiers. Accepts only business-editable fields
   * required to initialize a community per requirements.
   *
   * Required properties reflect non-null columns or business mandates (name,
   * visibility, nsfw, auto_archive_days). Optional presentation and discovery
   * hints (display_name, description, language, region) may be supplied by
   * the creator.
   */
  export type ICreate = {
    /**
     * Globally unique URL-safe handle for the community.
     *
     * Prisma column: community_platform_communities.name.
     *
     * Business rules: Must be unique platform-wide; used in routing and
     * mentions.
     */
    name: string;

    /**
     * Human-friendly community title for UI surfaces.
     *
     * Prisma column: community_platform_communities.display_name
     * (nullable).
     */
    display_name?: string | null | undefined;

    /**
     * Optional about/description text for discovery and rule transparency.
     *
     * Prisma column: community_platform_communities.description (nullable).
     */
    description?: string | null | undefined;

    /**
     * Community visibility mode controlling access.
     *
     * Prisma column: community_platform_communities.visibility.
     *
     * Allowed values: public | restricted | private.
     */
    visibility: IECommunityVisibility;

    /**
     * Whether the community is labeled Not Safe For Work.
     *
     * Prisma column: community_platform_communities.nsfw.
     *
     * Business effect: Enforces visibility gates and preview shielding per
     * policy.
     */
    nsfw: boolean;

    /**
     * Number of days after which posts auto-archive (read-only). Must be â‰¥
     * 30.
     *
     * Prisma column: community_platform_communities.auto_archive_days
     * (integer).
     */
    auto_archive_days: number & tags.Type<"int32"> & tags.Minimum<30>;

    /**
     * Optional default language code (e.g., "en", "ko").
     *
     * Prisma column: community_platform_communities.language (nullable).
     */
    language?: string | null | undefined;

    /**
     * Optional default region code (e.g., "US", "KR").
     *
     * Prisma column: community_platform_communities.region (nullable).
     */
    region?: string | null | undefined;
  };
}
