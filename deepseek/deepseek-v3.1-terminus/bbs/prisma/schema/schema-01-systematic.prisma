/// Represents distinct discussion channels for organizing economic and
/// political topics. Each channel serves as a container for related sections
/// and discussions, providing thematic organization for the platform's
/// content. Channels define the broad categories under which users can
/// engage in specific discussions.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model discussion_board_channels {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Unique channel code identifier for system references.
  code String
  
  /// Display name of the channel shown to users.
  name String
  
  /// Detailed description explaining the channel's purpose and scope.
  description String?
  
  /// Indicates whether the channel is currently active and accessible.
  is_active Boolean
  
  /// Numerical order for channel display in user interfaces.
  display_order Int
  
  /// Timestamp when the channel was created.
  created_at DateTime
  
  /// Timestamp when the channel was last modified.
  updated_at DateTime
  
  /// Timestamp when the channel was soft deleted.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  discussion_board_sections discussion_board_sections[]
  discussion_board_platform_metrics discussion_board_platform_metrics[]
  
  @@unique([code])
  @@index([is_active, display_order])
  @@index([created_at])
}

/// Organizes content within discussion channels, providing hierarchical
/// structure for topic organization. Sections represent subsections or
/// categories within channels, enabling detailed content categorization and
/// navigation.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model discussion_board_sections {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Parent channel containing this section. {@link
  /// discussion_board_channels.id}.
  discussion_board_channel_id String
  
  /// Parent section for hierarchical organization. {@link
  /// discussion_board_sections.id}.
  parent_section_id String?
  
  /// Unique section code identifier within the channel.
  code String
  
  /// Display name of the section shown to users.
  name String
  
  /// Detailed description explaining the section's purpose and content scope.
  description String?
  
  /// Indicates whether the section is currently active and accessible.
  is_active Boolean
  
  /// Numerical order for section display within the channel.
  display_order Int
  
  /// Type of section (e.g., 'economics', 'politics', 'policy_analysis').
  section_type String
  
  /// Timestamp when the section was created.
  created_at DateTime
  
  /// Timestamp when the section was last modified.
  updated_at DateTime
  
  /// Timestamp when the section was soft deleted.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  channel discussion_board_channels @relation(fields: [discussion_board_channel_id], references: [id], onDelete: Cascade)
  parent discussion_board_sections? @relation("recursive", fields: [parent_section_id], references: [id], onDelete: Cascade)
  
  recursive discussion_board_sections[] @relation("recursive")
  
  @@unique([discussion_board_channel_id, code])
  @@index([discussion_board_channel_id, is_active, display_order], map: "discussion_board_sections_discussion_board_channel_id__b9d51455")
  @@index([parent_section_id])
  @@index([section_type])
}

/// Stores system-wide configuration settings and parameters that control
/// platform behavior and features. These configurations provide centralized
/// management of platform settings, enabling dynamic adjustment of system
/// behavior without code changes.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model discussion_board_configurations {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Unique key identifier for the configuration setting.
  config_key String
  
  /// Value of the configuration setting stored as string.
  config_value String
  
  /// Data type of the configuration value (string, integer, boolean, json).
  data_type String
  
  /// Explanation of the configuration setting's purpose and usage.
  description String?
  
  /// Category grouping related configurations (authentication, moderation, ui,
  /// etc.).
  category String
  
  /// Indicates whether the configuration value requires encryption.
  is_encrypted Boolean
  
  /// Marks system-critical configurations that cannot be modified by users.
  is_system Boolean
  
  /// Timestamp when the configuration was created.
  created_at DateTime
  
  /// Timestamp when the configuration was last modified.
  updated_at DateTime
  
  /// Timestamp when the configuration was soft deleted.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  @@unique([config_key])
  @@index([category])
  @@index([is_system])
}

/// Manages email template content and configurations for various platform
/// notifications. These templates support dynamic content insertion and
/// localization, enabling consistent and professional communication with
/// users across different scenarios.
///
/// @namespace Systematic
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model discussion_board_email_templates {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Unique code identifier for the email template.
  template_code String
  
  /// Descriptive name of the email template for administrative reference.
  template_name String
  
  /// Email subject template with placeholder variables.
  subject_template String
  
  /// Email body template with HTML content and placeholders.
  body_template String
  
  /// Type of email template (notification, verification, warning, etc.).
  template_type String
  
  /// Language code for template localization (en, ko, etc.).
  language_code String
  
  /// Indicates whether the template is currently active for use.
  is_active Boolean
  
  /// JSON metadata describing available template variables and their usage.
  variables_metadata String?
  
  /// Timestamp when the template was created.
  created_at DateTime
  
  /// Timestamp when the template was last modified.
  updated_at DateTime
  
  /// Timestamp when the template was soft deleted.
  deleted_at DateTime?
  
  //----
  // RELATIONS
  //----
  @@unique([template_code, language_code], map: "discussion_board_email_templates_template_code_languag_09f9eeb4")
  @@index([template_type])
  @@index([is_active])
}