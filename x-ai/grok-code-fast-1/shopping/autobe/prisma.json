{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"shopping_platform_channels","description":"Shopping platform channels representing different marketplace segments or regions that merchants can operate in. These are core business entities that organize the platform structure and allow targeted shopping experiences.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"code","type":"string","description":"Unique code identifier for the channel, used for URL routing and categorization.","nullable":false},{"name":"name","type":"string","description":"Human-readable name of the channel displayed to users.","nullable":false},{"name":"description","type":"string","description":"Detailed description explaining the channel's purpose and target audience.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the channel was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of the last update to the channel.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for channel deactivation.","nullable":true}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[],"ginIndexes":[{"fieldName":"name"},{"fieldName":"description"}]},{"name":"shopping_platform_sections","description":"Sections within shopping channels that organize products into logical groupings, supporting the channel's hierarchical structure.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_channel_id","type":"uuid","description":"Belonged channel's shopping_platform_channels.id","relation":{"name":"channel","targetModel":"shopping_platform_channels"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Unique code within the channel for URL routing and organization.","nullable":false},{"name":"name","type":"string","description":"Human-readable name of the section displayed to users.","nullable":false},{"name":"description","type":"string","description":"Explanation of what products or services belong in this section.","nullable":true},{"name":"sort_order","type":"int","description":"Display order among other sections within the same channel.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the section was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of the last update to the section.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for section deactivation.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_platform_channel_id","code"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_channel_id","sort_order"]}],"ginIndexes":[{"fieldName":"name"},{"fieldName":"description"}]},{"name":"shopping_platform_channel_categories","description":"Junction table connecting shopping channels to platform categories, enabling multi-category association for flexible catalog organization.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_channel_id","type":"uuid","description":"Belonged channel's shopping_platform_channels.id","relation":{"name":"channel","targetModel":"shopping_platform_channels"},"unique":false,"nullable":false},{"name":"shopping_platform_category_id","type":"uuid","description":"Belonged category's shopping_platform_categories.id","relation":{"name":"category","targetModel":"shopping_platform_categories"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"Timestamp when the channel-category association was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of the last update to this association.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for association deactivation.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_platform_channel_id","shopping_platform_category_id"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_channel_id"]},{"fieldNames":["shopping_platform_category_id"]}],"ginIndexes":[]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"shopping_platform_buyers","description":"Buyer account information for customers who shop and place orders. Represents the buyer's identity and connection basis for all shopping activities including authentication, personal details, and account status management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Buyer's email address used for authentication and notifications. Must be unique per buyer account.","nullable":false},{"name":"password_hash","type":"string","description":"Hashed password for buyer authentication. Never stores plain passwords.","nullable":false},{"name":"first_name","type":"string","description":"Buyer's first name for personalization and shipping labels.","nullable":false},{"name":"last_name","type":"string","description":"Buyer's last name for personalization and shipping labels.","nullable":false},{"name":"phone","type":"string","description":"Buyer's contact phone number for order communications and support.","nullable":true},{"name":"status","type":"string","description":"Buyer's account status indicating active, suspended, or inactive state for workflow management.","nullable":false},{"name":"loyalty_points","type":"int","description":"Accumulated loyalty points for rewards and special offers, defaulting to zero.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when buyer account was created for audit trails.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last buyer account modification.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for buyers, allowing recovery and preserving referential integrity.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["status"]}],"ginIndexes":[]},{"name":"shopping_platform_sellers","description":"Seller account information for merchants listing products and managing sales. Represents verified business entities managing their catalogs, inventory, and fulfillment operations.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Seller's email address used for authentication, order notifications, and business communications.","nullable":false},{"name":"password_hash","type":"string","description":"Hashed password for seller authentication. Never stores plain passwords.","nullable":false},{"name":"company_name","type":"string","description":"Legal business name of the seller entity for compliance and tax purposes.","nullable":false},{"name":"tax_id","type":"string","description":"Business tax identification number for regulatory compliance and payouts.","nullable":false},{"name":"phone","type":"string","description":"Seller's business contact phone for support and verification purposes.","nullable":false},{"name":"status","type":"string","description":"Seller's business status indicating active, pending verification, suspended, or inactive state.","nullable":false},{"name":"commission_rate","type":"double","description":"Percentage commission rate applied to seller's transactions, ranging from 0 to 100.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when seller account was created for business registration tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last seller account or business detail modification.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for sellers, preserving transaction history and allowing business reactivation.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["tax_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["status"]},{"fieldNames":["commission_rate"]}],"ginIndexes":[]},{"name":"shopping_platform_admins","description":"Admin account information for system administrators managing platform operations, user accounts, content moderation, and system-wide oversight.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Admin's email address used for authentication and secure system access.","nullable":false},{"name":"password_hash","type":"string","description":"Hashed password for admin authentication. Never stores plain passwords.","nullable":false},{"name":"username","type":"string","description":"Admin username for login purposes, unique within admin accounts.","nullable":false},{"name":"full_name","type":"string","description":"Admin's full legal name for audit logging and access verification.","nullable":false},{"name":"department","type":"string","description":"Administrative department or role designation for access control and oversight.","nullable":false},{"name":"status","type":"string","description":"Admin account status indicating active, locked, or disabled state.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when admin account was created for system security tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last admin account modification or security event.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for admins, maintaining security logs and allowing account reactivation.","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["username"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["status"]},{"fieldNames":["department"]}],"ginIndexes":[]},{"name":"shopping_platform_addresses","description":"Address information associated with buyers, sellers, or admins. Each address belongs to exactly one actor through the foreign key references, supporting multiple addresses per user for shipping, billing, and business purposes.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_buyer_id","type":"uuid","description":"Belonged buyer's {@link shopping_platform_buyers.id}","relation":{"name":"buyer","targetModel":"shopping_platform_buyers"},"unique":false,"nullable":true},{"name":"shopping_platform_seller_id","type":"uuid","description":"Belonged seller's {@link shopping_platform_sellers.id}","relation":{"name":"seller","targetModel":"shopping_platform_sellers"},"unique":false,"nullable":true},{"name":"shopping_platform_admin_id","type":"uuid","description":"Belonged admin's {@link shopping_platform_admins.id}","relation":{"name":"admin","targetModel":"shopping_platform_admins"},"unique":false,"nullable":true}],"plainFields":[{"name":"nickname","type":"string","description":"Descriptive name for this address (e.g., 'Home', 'Office', 'Warehouse') to help users identify multiple addresses.","nullable":false},{"name":"street_1","type":"string","description":"Primary street address line including building number and street name.","nullable":false},{"name":"street_2","type":"string","description":"Secondary address line for apartment/unit numbers or additional address details.","nullable":true},{"name":"city","type":"string","description":"City or municipality name for the address location.","nullable":false},{"name":"state","type":"string","description":"State, province, or region name for administrative subdivision.","nullable":false},{"name":"postal_code","type":"string","description":"Postal or ZIP code for mail delivery routing and verification.","nullable":false},{"name":"country","type":"string","description":"Country name or code for international address formatting and shipping.","nullable":false},{"name":"is_default","type":"boolean","description":"Indicates whether this address is the default selection for the owner actor.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when this address was created for historical tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last address detail modification.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for addresses, allowing recovery without affecting active orders.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["country"]},{"fieldNames":["created_at"]},{"fieldNames":["is_default"]}],"ginIndexes":[{"fieldName":"nickname"},{"fieldName":"street_1"}]}]},{"filename":"schema-03-sales.prisma","namespace":"Sales","models":[{"name":"shopping_platform_sales","description":"Product information, the core sales entity representing items available for purchase. {@link shopping_platform_sale_units} Contains basic product details like name, description, and pricing, with relationships to sellers, categories, and shipping addresses.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_seller_id","type":"uuid","description":"Belonged seller's {@link shopping_platform_sellers.id}","relation":{"name":"seller","targetModel":"shopping_platform_sellers"},"unique":false,"nullable":false},{"name":"shopping_platform_category_id","type":"uuid","description":"Belonged category's {@link shopping_platform_categories.id}","relation":{"name":"category","targetModel":"shopping_platform_categories"},"unique":false,"nullable":false},{"name":"shopping_platform_address_id","type":"uuid","description":"Return address for this product's {@link shopping_platform_addresses.id}","relation":{"name":"returnAddress","targetModel":"shopping_platform_addresses"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Unique business identifier for the product.","nullable":false},{"name":"name","type":"string","description":"Display name of the product.","nullable":false},{"name":"description","type":"string","description":"Detailed description of the product.","nullable":true},{"name":"base_price","type":"double","description":"Base selling price in USD.","nullable":false},{"name":"is_active","type":"boolean","description":"Whether the product is currently available for purchase.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_seller_id"]},{"fieldNames":["shopping_platform_category_id"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"name"},{"fieldName":"description"}]},{"name":"shopping_platform_sale_snapshots","description":"Historical snapshots of sales data for audit trails and change tracking. {@link shopping_platform_sales} Captures point-in-time states of product listings with denormalized data for historical accuracy.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_sale_id","type":"uuid","description":"Referenced sale's {@link shopping_platform_sales.id}","relation":{"name":"sale","targetModel":"shopping_platform_sales"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Snapshot of the product code.","nullable":false},{"name":"name","type":"string","description":"Snapshot of the product name.","nullable":false},{"name":"description","type":"string","description":"Snapshot of the product description.","nullable":true},{"name":"base_price","type":"double","description":"Snapshot of the base price.","nullable":false},{"name":"is_active","type":"boolean","description":"Snapshot of active status.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when snapshot was created.","nullable":false}],"uniqueIndexes":[{"fieldNames":["shopping_platform_sale_id","created_at"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_sale_id"]},{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"shopping_platform_sale_units","description":"Product units or variants, subsidiary to main sales entity for managing different options like sizes or colors. {@link shopping_platform_sales} {@link shopping_platform_sale_unit_options} Represents individual purchasable items within a product.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_sale_id","type":"uuid","description":"Parent sale's {@link shopping_platform_sales.id}","relation":{"name":"sale","targetModel":"shopping_platform_sales"},"unique":false,"nullable":false}],"plainFields":[{"name":"sku","type":"string","description":"Stock Keeping Unit unique identifier.","nullable":false},{"name":"name","type":"string","description":"Display name for this unit/variant.","nullable":false},{"name":"price_modifier","type":"double","description":"Price adjustment relative to base price.","nullable":false},{"name":"is_available","type":"boolean","description":"Whether this unit is currently available.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the record was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp, null if not deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["sku"],"unique":true},{"fieldNames":["shopping_platform_sale_id","sku"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_sale_id"]}],"ginIndexes":[{"fieldName":"name"}]},{"name":"shopping_platform_sale_unit_options","description":"Options for sale units, subsidiary entity detailing variant choices like color, size, or material. {@link shopping_platform_sale_units} Provides specific attribute values for product customization.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_sale_unit_id","type":"uuid","description":"Parent unit's {@link shopping_platform_sale_units.id}","relation":{"name":"unit","targetModel":"shopping_platform_sale_units"},"unique":false,"nullable":false}],"plainFields":[{"name":"attribute_name","type":"string","description":"Name of the attribute (e.g., 'color', 'size').","nullable":false},{"name":"attribute_value","type":"string","description":"Value of the attribute (e.g., 'red', 'large').","nullable":false},{"name":"display_order","type":"int","description":"Order for displaying options.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the record was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["shopping_platform_sale_unit_id","attribute_name","attribute_value"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_sale_unit_id"]},{"fieldNames":["attribute_name"]}],"ginIndexes":[]},{"name":"shopping_platform_categories","description":"Product category hierarchy for organizing sales items. {@link shopping_platform_channel_categories} Supports nested categories with parent relationships for efficient browsing.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"parent_category_id","type":"uuid","description":"Parent category's {@link shopping_platform_categories.id} for hierarchical structure.","relation":{"name":"parentCategory","targetModel":"shopping_platform_categories","mappingName":"recursive"},"unique":false,"nullable":true}],"plainFields":[{"name":"name","type":"string","description":"Category display name.","nullable":false},{"name":"description","type":"string","description":"Category description.","nullable":true},{"name":"is_active","type":"boolean","description":"Whether the category is active.","nullable":false},{"name":"sort_order","type":"int","description":"Display order for categories.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the record was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[{"fieldNames":["parent_category_id"]},{"fieldNames":["sort_order"]}],"ginIndexes":[]},{"name":"shopping_platform_inventory","description":"Inventory levels per SKU, subsidiary to sale units for stock management. {@link shopping_platform_sale_units} Tracks available, reserved, and sold quantities with thresholds for automated alerts.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_sale_unit_id","type":"uuid","description":"Associated unit's {@link shopping_platform_sale_units.id}","relation":{"name":"unit","targetModel":"shopping_platform_sale_units"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity_available","type":"int","description":"Current available stock quantity.","nullable":false},{"name":"quantity_reserved","type":"int","description":"Quantity reserved in carts/orders.","nullable":false},{"name":"quantity_sold","type":"int","description":"Total quantity sold.","nullable":false},{"name":"low_stock_threshold","type":"int","description":"Threshold for low stock alerts.","nullable":false},{"name":"is_backordered_allowed","type":"boolean","description":"Whether backorders are allowed.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the record was last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["shopping_platform_sale_unit_id"],"unique":true}],"plainIndexes":[{"fieldNames":["quantity_available"]},{"fieldNames":["low_stock_threshold"]}],"ginIndexes":[]}]},{"filename":"schema-04-carts.prisma","namespace":"Carts","models":[{"name":"shopping_platform_carts","description":"Shopping carts containing selected items for checkout, managed independently by buyers. {@link shopping_platform_buyers.id} Allows multiple active carts per user with temporal auditing for cart management history.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_buyer_id","type":"uuid","description":"Belonged buyer's {@link shopping_platform_buyers.id}","relation":{"name":"buyer","targetModel":"shopping_platform_buyers"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","description":"Custom cart name for organization purposes.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp for auditing cart lifecycle.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp for cart changes.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for recoverable cart removal.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_platform_buyer_id"]}],"ginIndexes":[]},{"name":"shopping_platform_cart_items","description":"Individual items within shopping carts, tracking quantity and product variants. {@link shopping_platform_carts.id} Provides detailed cart contents with foreign key references for effective inventory validation.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_cart_id","type":"uuid","description":"Belonged cart's {@link shopping_platform_carts.id}","relation":{"name":"cart","targetModel":"shopping_platform_carts"},"unique":false,"nullable":false},{"name":"shopping_platform_sale_unit_id","type":"uuid","description":"Referenced product variant's {@link shopping_platform_sale_units.id}","relation":{"name":"saleUnit","targetModel":"shopping_platform_sale_units"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity","type":"int","description":"Quantity of this item in the cart.","nullable":false},{"name":"created_at","type":"datetime","description":"Addition timestamp for item tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp for quantity changes.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion for item removal from cart.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_platform_cart_id","shopping_platform_sale_unit_id"],"unique":true}],"plainIndexes":[],"ginIndexes":[]},{"name":"shopping_platform_wishlists","description":"Wishlists for saving desired products without inventory reservation, managed independently by buyers. {@link shopping_platform_buyers.id} Supports multiple wishlists per user for organization and personalization.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_buyer_id","type":"uuid","description":"Belonged buyer's {@link shopping_platform_buyers.id}","relation":{"name":"buyer","targetModel":"shopping_platform_buyers"},"unique":false,"nullable":false}],"plainFields":[{"name":"name","type":"string","description":"Custom wishlist name for categorization.","nullable":true},{"name":"description","type":"string","description":"Optional description for wishlist purpose.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp for wishlist tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion for wishlist removal.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_platform_buyer_id"]}],"ginIndexes":[{"fieldName":"name"},{"fieldName":"description"}]},{"name":"shopping_platform_wishlist_items","description":"Items saved in user wishlists, linking buyers to desired product variants. {@link shopping_platform_wishlists.id} Enables wishful purchasing tracking without purchase commitment.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_wishlist_id","type":"uuid","description":"Belonged wishlist's {@link shopping_platform_wishlists.id}","relation":{"name":"wishlist","targetModel":"shopping_platform_wishlists"},"unique":false,"nullable":false},{"name":"shopping_platform_sale_unit_id","type":"uuid","description":"Referenced product variant's {@link shopping_platform_sale_units.id}","relation":{"name":"saleUnit","targetModel":"shopping_platform_sale_units"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity","type":"int","description":"Desired quantity for future purchase.","nullable":false},{"name":"created_at","type":"datetime","description":"Addition timestamp to wishlist.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp for changes.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion for item removal from wishlist.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_platform_wishlist_id","shopping_platform_sale_unit_id"],"unique":true}],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-05-orders.prisma","namespace":"Orders","models":[{"name":"shopping_platform_orders","description":"Complete order records representing purchase transactions between buyers and sellers. Tracks order lifecycle from placement through completion, including financial totals, status progression, and relationships to buyers, sellers, and delivery addresses. Central to the e-commerce fulfillment workflow with comprehensive audit capabilities.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_buyer_id","type":"uuid","description":"Buyer's {@link shopping_platform_buyers.id} who placed the order.","relation":{"name":"buyer","targetModel":"shopping_platform_buyers"},"unique":false,"nullable":false},{"name":"shopping_platform_seller_id","type":"uuid","description":"Seller's {@link shopping_platform_sellers.id} fulfilling the order.","relation":{"name":"seller","targetModel":"shopping_platform_sellers"},"unique":false,"nullable":false},{"name":"billing_shopping_platform_address_id","type":"uuid","description":"Billing address's {@link shopping_platform_addresses.id} for the order.","relation":{"name":"billingAddress","targetModel":"shopping_platform_addresses","mappingName":"shopping_platform_orders_of_billing_shopping_platform__77008864"},"unique":false,"nullable":false},{"name":"shipping_shopping_platform_address_id","type":"uuid","description":"Shipping address's {@link shopping_platform_addresses.id} for delivery.","relation":{"name":"shippingAddress","targetModel":"shopping_platform_addresses","mappingName":"shopping_platform_orders_of_shipping_shopping_platform_c2dbd427"},"unique":false,"nullable":false},{"name":"shopping_platform_cart_id","type":"uuid","description":"Original cart's {@link shopping_platform_carts.id} that generated this order.","relation":{"name":"cart","targetModel":"shopping_platform_carts"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Unique order identifier for customer reference and tracking.","nullable":false},{"name":"status","type":"string","description":"Current order status indicating progress through fulfillment phases.","nullable":false},{"name":"business_status","type":"string","description":"Business workflow state for operational tracking and reporting.","nullable":false},{"name":"subtotal","type":"double","description":"Order subtotal before taxes and shipping charges.","nullable":false},{"name":"tax_amount","type":"double","description":"Calculated tax amount based on shipping destination and items.","nullable":false},{"name":"shipping_cost","type":"double","description":"Shipping charges for the order including carrier and service fees.","nullable":false},{"name":"total","type":"double","description":"Final order total including all items, taxes, and shipping.","nullable":false},{"name":"discount_amount","type":"double","description":"Applied discount amount from coupons or promotions.","nullable":false},{"name":"notes","type":"string","description":"Additional customer notes or special handling instructions.","nullable":true},{"name":"created_at","type":"datetime","description":"Order creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Order last modification timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for canceled orders.","nullable":true}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_buyer_id","created_at"]},{"fieldNames":["shopping_platform_seller_id","created_at"]},{"fieldNames":["status"]},{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"shopping_platform_order_snapshots","description":"Historical snapshots of order states for comprehensive audit trails and change tracking. Captures point-in-time representations of orders enabling rollback capabilities and historical reporting. Supports regulatory compliance with complete order modification history.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_order_id","type":"uuid","description":"Referenced order's {@link shopping_platform_orders.id} for snapshot tracking.","relation":{"name":"order","targetModel":"shopping_platform_orders"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Order code at snapshot time.","nullable":false},{"name":"status","type":"string","description":"Order status at snapshot time.","nullable":false},{"name":"business_status","type":"string","description":"Business status at snapshot time.","nullable":false},{"name":"subtotal","type":"double","description":"Subtotal at snapshot time.","nullable":false},{"name":"tax_amount","type":"double","description":"Tax amount at snapshot time.","nullable":false},{"name":"shipping_cost","type":"double","description":"Shipping cost at snapshot time.","nullable":false},{"name":"total","type":"double","description":"Total amount at snapshot time.","nullable":false},{"name":"discount_amount","type":"double","description":"Discount amount at snapshot time.","nullable":false},{"name":"notes","type":"string","description":"Notes at snapshot time.","nullable":true},{"name":"created_at","type":"datetime","description":"Snapshot creation timestamp.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_platform_order_id","created_at"]}],"ginIndexes":[]},{"name":"shopping_platform_order_items","description":"Individual line items within orders detailing specific product purchases. Breaks down orders into constituent products with quantities, pricing, and variant specifications. Supports detailed order fulfillment and inventory allocation.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_order_id","type":"uuid","description":"Parent order's {@link shopping_platform_orders.id}.","relation":{"name":"order","targetModel":"shopping_platform_orders"},"unique":false,"nullable":false},{"name":"shopping_platform_inventory_id","type":"uuid","description":"Inventory item's {@link shopping_platform_inventory.id} being purchased.","relation":{"name":"inventory","targetModel":"shopping_platform_inventory"},"unique":false,"nullable":false}],"plainFields":[{"name":"quantity","type":"int","description":"Number of items ordered for this line item.","nullable":false},{"name":"unit_price","type":"double","description":"Price per item at time of order.","nullable":false},{"name":"total_price","type":"double","description":"Total price for this line item (quantity × unit_price).","nullable":false},{"name":"product_code","type":"string","description":"Product code reference for fulfillment.","nullable":false},{"name":"variant_details","type":"string","description":"Selected product variant specifications (color, size, etc.).","nullable":false},{"name":"created_at","type":"datetime","description":"Item creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Item last modification timestamp.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_platform_order_id"]},{"fieldNames":["shopping_platform_inventory_id"]}],"ginIndexes":[{"fieldName":"variant_details"}]},{"name":"shopping_platform_payments","description":"Financial transaction records tracking payment processing for orders. Captures payment methods, amounts, statuses, and processing details enabling secure financial operations and audit trails. Critical for revenue tracking and dispute resolution.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_order_id","type":"uuid","description":"Associated order's {@link shopping_platform_orders.id}.","relation":{"name":"order","targetModel":"shopping_platform_orders"},"unique":false,"nullable":false}],"plainFields":[{"name":"code","type":"string","description":"Unique payment transaction identifier.","nullable":false},{"name":"method","type":"string","description":"Payment method used (credit card, digital wallet, etc.).","nullable":false},{"name":"status","type":"string","description":"Payment processing status and authorization state.","nullable":false},{"name":"amount","type":"double","description":"Payment amount processed.","nullable":false},{"name":"currency","type":"string","description":"Payment currency code.","nullable":false},{"name":"gateway_transaction_id","type":"string","description":"External payment gateway transaction reference.","nullable":true},{"name":"failure_reason","type":"string","description":"Reason for payment failure if applicable.","nullable":true},{"name":"processed_at","type":"datetime","description":"Payment processing completion timestamp.","nullable":true},{"name":"created_at","type":"datetime","description":"Payment record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Payment record last modification timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["code"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_order_id","status"]},{"fieldNames":["status","created_at"]},{"fieldNames":["processed_at"]}],"ginIndexes":[]},{"name":"shopping_platform_shippings","description":"Shipping and delivery records for orders. Manages carrier assignments, service levels, and delivery instructions. Supports tracking integration and customer communication about delivery progress.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_order_id","type":"uuid","description":"Associated order's {@link shopping_platform_orders.id}.","relation":{"name":"order","targetModel":"shopping_platform_orders"},"unique":true,"nullable":false}],"plainFields":[{"name":"carrier","type":"string","description":"Shipping carrier provider name.","nullable":false},{"name":"service_level","type":"string","description":"Service level (standard, express, overnight).","nullable":false},{"name":"tracking_number","type":"string","description":"Carrier-assigned tracking number.","nullable":true},{"name":"estimated_delivery","type":"datetime","description":"Estimated delivery date and time.","nullable":true},{"name":"actual_delivery","type":"datetime","description":"Actual delivery completion timestamp.","nullable":true},{"name":"status","type":"string","description":"Current shipping status.","nullable":false},{"name":"cost","type":"double","description":"Shipping cost charged.","nullable":false},{"name":"weight","type":"double","description":"Package weight for shipping calculation.","nullable":false},{"name":"dimensions","type":"string","description":"Package dimensions for shipping.","nullable":true},{"name":"special_instructions","type":"string","description":"Special delivery instructions from customer.","nullable":true},{"name":"created_at","type":"datetime","description":"Shipping record creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Shipping record last modification timestamp.","nullable":false}],"uniqueIndexes":[{"fieldNames":["tracking_number"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_order_id"]},{"fieldNames":["status","estimated_delivery"]},{"fieldNames":["carrier"]}],"ginIndexes":[{"fieldName":"special_instructions"}]},{"name":"shopping_platform_trackings","description":"Detailed tracking events and status updates for shipments. Provides granular delivery progress information enabling customers and sellers to monitor package movement through the delivery network.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_shipping_id","type":"uuid","description":"Parent shipping's {@link shopping_platform_shippings.id}.","relation":{"name":"shipping","targetModel":"shopping_platform_shippings"},"unique":false,"nullable":false}],"plainFields":[{"name":"status","type":"string","description":"Tracking status event (picked up, in transit, delivered).","nullable":false},{"name":"location","type":"string","description":"Current or event location description.","nullable":true},{"name":"description","type":"string","description":"Detailed status description from carrier.","nullable":true},{"name":"timestamp","type":"datetime","description":"Event occurrence timestamp.","nullable":false},{"name":"created_at","type":"datetime","description":"Tracking event creation timestamp.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_platform_shipping_id","timestamp"]},{"fieldNames":["status"]}],"ginIndexes":[{"fieldName":"description"}]}]},{"filename":"schema-06-reviews.prisma","namespace":"Reviews","models":[{"name":"shopping_platform_reviews","description":"Customer product reviews including star ratings and text comments for verified purchases. Links to buyers ({@link shopping_platform_buyers.id}) and order items to ensure authenticity and prevent duplicate reviews. Supports moderation features for inappropriate content.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_buyer_id","type":"uuid","description":"Buyer who submitted this review ({@link shopping_platform_buyers.id}).","relation":{"name":"buyer","targetModel":"shopping_platform_buyers"},"unique":false,"nullable":false},{"name":"shopping_platform_order_item_id","type":"uuid","description":"Order item being reviewed ({@link shopping_platform_order_items.id}). Ensures only purchased products can be reviewed.","relation":{"name":"orderItem","targetModel":"shopping_platform_order_items"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Review title summarizing the experience.","nullable":false},{"name":"rating","type":"int","description":"Star rating from 1 to 5.","nullable":false},{"name":"comment","type":"string","description":"Detail review text explaining the rating.","nullable":true},{"name":"is_verified","type":"boolean","description":"Whether this review is from a verified purchase.","nullable":false},{"name":"helpful_count","type":"int","description":"Number of users who found this review helpful.","nullable":false},{"name":"moderation_status","type":"string","description":"Moderation status: pending, approved, rejected, or hidden.","nullable":false},{"name":"created_at","type":"datetime","description":"Review creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for review removal.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_platform_buyer_id","shopping_platform_order_item_id"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_platform_buyer_id","created_at"]},{"fieldNames":["moderation_status","created_at"]},{"fieldNames":["rating","created_at"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"comment"}]},{"name":"shopping_platform_review_images","description":"Images uploaded with product reviews for visual feedback. Directly associated with reviews ({@link shopping_platform_reviews.id}) to support rich review content. Supports multiple images per review.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_review_id","type":"uuid","description":"Review this image belongs to ({@link shopping_platform_reviews.id}).","relation":{"name":"review","targetModel":"shopping_platform_reviews"},"unique":false,"nullable":false}],"plainFields":[{"name":"image_url","type":"uri","description":"URL to the uploaded review image.","nullable":false},{"name":"alt_text","type":"string","description":"Alternative text describing the image for accessibility.","nullable":true},{"name":"sequence_order","type":"int","description":"Display order of images in the review.","nullable":false},{"name":"created_at","type":"datetime","description":"Image upload timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for image removal.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_platform_review_id","sequence_order"]}],"ginIndexes":[]}]},{"filename":"schema-07-oversight.prisma","namespace":"Oversight","models":[{"name":"shopping_platform_seller_dashboards","description":"Seller performance analytics dashboard providing key metrics for individual sellers including sales volume, revenue, customer ratings, and inventory status. This table aggregates performance data to support seller business operations and help them optimize their marketplace presence. Referenced by shopping_platform_sellers.id for seller-specific dashboards.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_seller_id","type":"uuid","description":"Belonged seller's shopping_platform_sellers.id","relation":{"name":"seller","targetModel":"shopping_platform_sellers"},"unique":true,"nullable":false}],"plainFields":[{"name":"total_sales_volume","type":"int","description":"Total number of units sold by this seller.","nullable":false},{"name":"total_revenue","type":"double","description":"Total revenue generated in USD.","nullable":false},{"name":"average_rating","type":"double","description":"Average star rating from customer reviews.","nullable":true},{"name":"active_listings_count","type":"int","description":"Number of currently active product listings.","nullable":false},{"name":"inventory_alerts_count","type":"int","description":"Number of items with low inventory requiring attention.","nullable":false},{"name":"top_product_name","type":"string","description":"Name of the best-performing product.","nullable":true},{"name":"last_updated_at","type":"datetime","description":"When the dashboard metrics were last recalculated.","nullable":false},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_platform_seller_id"],"unique":true}],"plainIndexes":[{"fieldNames":["last_updated_at"]},{"fieldNames":["total_revenue"]},{"fieldNames":["average_rating"]}],"ginIndexes":[]},{"name":"shopping_platform_admin_logins","description":"Tracking of administrative login attempts for security monitoring and compliance requirements. Records login events, IP addresses, and success status to detect suspicious activities and maintain audit trails. Referenced by shopping_platform_admins.id for admin-specific login history.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_admin_id","type":"uuid","description":"Belonged admin's shopping_platform_admins.id","relation":{"name":"admin","targetModel":"shopping_platform_admins"},"unique":false,"nullable":false}],"plainFields":[{"name":"login_timestamp","type":"datetime","description":"When the login attempt occurred.","nullable":false},{"name":"ip_address","type":"string","description":"IP address from which the login attempt was made.","nullable":false},{"name":"user_agent","type":"string","description":"Browser/user agent string for device identification.","nullable":true},{"name":"successful_login","type":"boolean","description":"Whether the login attempt was successful.","nullable":false},{"name":"failure_reason","type":"string","description":"Reason for failure if unsuccessful (e.g., invalid credentials, account locked).","nullable":true},{"name":"session_duration","type":"int","description":"Duration of the session in minutes if login was successful.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["login_timestamp"]},{"fieldNames":["successful_login"]},{"fieldNames":["shopping_platform_admin_id","login_timestamp"]}],"ginIndexes":[{"fieldName":"ip_address"}]},{"name":"shopping_platform_audit_logs","description":"Comprehensive audit trail for all platform administrative actions and critical business events. Records changes, deletions, and significant system events for compliance, troubleshooting, and security monitoring. Referenced by shopping_platform_admins.id for admin actions traced to responsible administrators.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_platform_admin_id","type":"uuid","description":"Responsible admin's shopping_platform_admins.id","relation":{"name":"admin","targetModel":"shopping_platform_admins"},"unique":false,"nullable":false}],"plainFields":[{"name":"affected_entity_id","type":"uuid","description":"ID of the entity that was modified (could be sale, seller, admin, user, product, etc.). Generic UUID without specific table reference to support auditing any platform entity.","nullable":true},{"name":"action_timestamp","type":"datetime","description":"When the audited action occurred.","nullable":false},{"name":"action_type","type":"string","description":"Type of action performed (CREATE, UPDATE, DELETE, LOGIN, etc.).","nullable":false},{"name":"entity_type","type":"string","description":"Type of entity affected (sale, seller, admin, buyer, product, etc.).","nullable":false},{"name":"old_value","type":"string","description":"Previous state of changed field in JSON format.","nullable":true},{"name":"new_value","type":"string","description":"New state of changed field in JSON format.","nullable":true},{"name":"ip_address","type":"string","description":"IP address from which the action originated.","nullable":false},{"name":"user_agent","type":"string","description":"Browser/user agent string at the time of action.","nullable":true},{"name":"description","type":"string","description":"Human-readable description of the action performed.","nullable":true},{"name":"created_at","type":"datetime","description":"Creation timestamp.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["action_timestamp"]},{"fieldNames":["action_type"]},{"fieldNames":["entity_type"]},{"fieldNames":["shopping_platform_admin_id","action_timestamp"]}],"ginIndexes":[{"fieldName":"description"}]}]}]}