/// Stores discussion posts created by users on economic and political
/// topics. This is the primary content entity on the platform, allowing
/// registered users to initiate structured discussions on various topics.
/// Discussions can be edited within 24 hours of posting and can be moved
/// through various lifecycle states (active, locked, archived) based on
/// community engagement and moderation decisions.
///
/// @namespace Discussions
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model discussion_board_discussions {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Author of the discussion. {@link discussion_board_registereduser.id}.
  discussion_board_registereduser_id String
  
  /// Category for the discussion. {@link discussion_board_categories.id}.
  discussion_board_categories_id String
  
  /// Title of the discussion post. Must be between 10-150 characters to ensure
  /// clarity and focus.
  title String
  
  /// Main content of the discussion post. Must be between 50-10,000 characters
  /// to encourage substantive contributions while preventing abuse.
  content String
  
  /// Timestamp when the discussion was created. Used for displaying
  /// chronological order and calculating recency in ranking algorithms.
  created_at DateTime
  
  /// Timestamp when the discussion was last updated. Updated when the
  /// discussion is edited within the 24-hour window. Automatically set by
  /// @updatedAt.
  updated_at DateTime
  
  /// Lifecycle status of the discussion (active, locked, archived, deleted).
  business_status String
  
  /// Type of discussion (policy_debate, ideological_comparison,
  /// event_analysis) to support structured formats for civil discourse.
  discussion_type String
  
  //----
  // RELATIONS
  //----
  author discussion_board_registereduser @relation(fields: [discussion_board_registereduser_id], references: [id], onDelete: Cascade)
  category discussion_board_categories @relation(fields: [discussion_board_categories_id], references: [id], onDelete: Cascade)
  
  discussion_board_comments discussion_board_comments[]
  discussion_board_votes discussion_board_votes[]
  discussion_board_reports discussion_board_reports[]
  
  @@index([discussion_board_registereduser_id], map: "discussion_board_discussions_discussion_board_register_6f50e764")
  
  @@unique([created_at])
  @@index([created_at, updated_at])
  @@index([discussion_board_categories_id])
  @@index([business_status, created_at])
  @@index([discussion_type, created_at])
}