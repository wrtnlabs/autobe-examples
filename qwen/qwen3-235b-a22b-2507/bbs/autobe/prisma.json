{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"discussion_board_categories","description":"Business purpose and context: Stores category information for organizing discussions with proper metadata and lifecycle management. Supports platform's organization of content by topics like economic policy, foreign relations, and domestic issues as specified in requirements.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"parent_id","type":"uuid","description":"Category hierarchy parent. {@link discussion_board_categories.id}.","relation":{"name":"parent","targetModel":"discussion_board_categories","mappingName":"recursive"},"unique":false,"nullable":true},{"name":"created_by_id","type":"uuid","description":"Creator user reference. {@link discussion_board_registereduser.id}.","relation":{"name":"createdBy","targetModel":"discussion_board_registereduser"},"unique":false,"nullable":true}],"plainFields":[{"name":"name","type":"string","description":"Category name for organizing discussions (e.g., Fiscal Policy, Monetary Policy, International Relations). Used for content categorization across the platform.","nullable":false},{"name":"description","type":"string","description":"Category description providing context and guidelines for appropriate discussion topics within this category.","nullable":true},{"name":"slug","type":"string","description":"URL-friendly identifier for the category used in routing and SEO. Generated from the category name.","nullable":false},{"name":"color","type":"string","description":"Visual identification color code for the category in the UI (e.g., #FF5733) to help users distinguish categories.","nullable":true},{"name":"is_active","type":"boolean","description":"Category enabled status indicator. When false, new discussions cannot be created in this category.","nullable":false},{"name":"display_order","type":"int","description":"Sorting priority for category display in UI. Lower numbers appear first in category listings.","nullable":false},{"name":"created_at","type":"datetime","description":"Category creation timestamp for audit and display purposes.","nullable":false},{"name":"updated_at","type":"datetime","description":"Category modification timestamp for tracking changes.","nullable":false}],"uniqueIndexes":[{"fieldNames":["slug"],"unique":true}],"plainIndexes":[{"fieldNames":["is_active","display_order"]}],"ginIndexes":[{"fieldName":"name"}]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"discussion_board_guestuser","description":"Represents unauthenticated visitors who can browse public content on the discussion board. Guest users have view-only permissions and must register to participate in discussions.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"User's verified email address used for authentication and notifications.","nullable":false},{"name":"session_token","type":"string","description":"Temporary session identifier for guest users to maintain state during browsing.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp of guest user creation or first session.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last guest user activity or update.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp if guest session is marked for removal.","nullable":true},{"name":"status","type":"string","description":"Account status (active, suspended, disabled).","nullable":false}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","status"]}],"ginIndexes":[]},{"name":"discussion_board_registereduser","description":"Authenticated users who can actively participate in discussions on the economic/political discussion board. Registered users can create discussions, post comments, vote on content, and report inappropriate content.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_guestuser_id","type":"uuid","description":"References originating guest session. {@link discussion_board_guestuser.id}.","relation":{"name":"guestUser","targetModel":"discussion_board_guestuser"},"unique":true,"nullable":false}],"plainFields":[{"name":"email","type":"string","description":"User's verified email address used for authentication and notifications.","nullable":false},{"name":"password_hash","type":"string","description":"BCrypt hash of user's password for secure authentication.","nullable":false},{"name":"username","type":"string","description":"User's display name for public identification in discussions.","nullable":false},{"name":"bio","type":"string","description":"User's self-description or professional affiliation.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp of user registration.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last profile update.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for account deletion.","nullable":true},{"name":"status","type":"string","description":"Account status (active, suspended, banned, pending_verification).","nullable":false},{"name":"email_verified","type":"boolean","description":"Indicates whether user's email address has been verified.","nullable":false}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["username"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","status","email_verified"]}],"ginIndexes":[]},{"name":"discussion_board_moderator","description":"Trusted community members with responsibility for maintaining civil discourse on the discussion board. Moderators can review reported content, remove inappropriate content, issue warnings to users, and temporarily suspend accounts.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Moderator's email address for official communications.","nullable":false},{"name":"password_hash","type":"string","description":"BCrypt hash of moderator's password for secure authentication.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp of moderator appointment.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last moderator privilege update.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp if moderator privileges are removed.","nullable":true},{"name":"status","type":"string","description":"Moderator status (active, suspended, revoked).","nullable":false},{"name":"specialization","type":"string","description":"Moderator's area of expertise (economics, politics, foreign_policy, domestic_policy).","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","status","specialization"]}],"ginIndexes":[{"fieldName":"specialization"}]},{"name":"discussion_board_administrator","description":"Platform managers with complete control over system operation. Administrators can manage user accounts, configure platform settings, assign moderator roles, access complete audit logs, and perform system maintenance.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","description":"Administrator's email address for official communications.","nullable":false},{"name":"password_hash","type":"string","description":"BCrypt hash of administrator's password for secure authentication.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp of administrator appointment.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last administrator privilege update.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp if administrator privileges are removed.","nullable":true},{"name":"status","type":"string","description":"Administrator status (active, suspended, revoked).","nullable":false},{"name":"department","type":"string","description":"Administrator's organizational department (operations, security, compliance).","nullable":true}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","status","department"]}],"ginIndexes":[{"fieldName":"department"}]}]},{"filename":"schema-03-discussions.prisma","namespace":"Discussions","models":[{"name":"discussion_board_discussions","description":"Stores discussion posts created by users on economic and political topics. This is the primary content entity on the platform, allowing registered users to initiate structured discussions on various topics. Discussions can be edited within 24 hours of posting and can be moved through various lifecycle states (active, locked, archived) based on community engagement and moderation decisions.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_registereduser_id","type":"uuid","description":"Author of the discussion. {@link discussion_board_registereduser.id}.","relation":{"name":"author","targetModel":"discussion_board_registereduser"},"unique":false,"nullable":false},{"name":"discussion_board_categories_id","type":"uuid","description":"Category for the discussion. {@link discussion_board_categories.id}.","relation":{"name":"category","targetModel":"discussion_board_categories"},"unique":false,"nullable":false}],"plainFields":[{"name":"title","type":"string","description":"Title of the discussion post. Must be between 10-150 characters to ensure clarity and focus.","nullable":false},{"name":"content","type":"string","description":"Main content of the discussion post. Must be between 50-10,000 characters to encourage substantive contributions while preventing abuse.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the discussion was created. Used for displaying chronological order and calculating recency in ranking algorithms.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the discussion was last updated. Updated when the discussion is edited within the 24-hour window. Automatically set by @updatedAt.","nullable":false},{"name":"business_status","type":"string","description":"Lifecycle status of the discussion (active, locked, archived, deleted).","nullable":false},{"name":"discussion_type","type":"string","description":"Type of discussion (policy_debate, ideological_comparison, event_analysis) to support structured formats for civil discourse.","nullable":false}],"uniqueIndexes":[{"fieldNames":["created_at"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at","updated_at"]},{"fieldNames":["discussion_board_categories_id"]},{"fieldNames":["business_status","created_at"]},{"fieldNames":["discussion_type","created_at"]}],"ginIndexes":[{"fieldName":"content"},{"fieldName":"title"}]}]},{"filename":"schema-04-comments.prisma","namespace":"Comments","models":[{"name":"discussion_board_comments","description":"Represents user comments on discussions within the economic/political discussion board. This table stores individual comments that create threaded conversations in response to discussion posts.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_discussion_id","type":"uuid","description":"Reference to the parent discussion. {@link discussion_board_discussions.id}.","relation":{"name":"discussion","targetModel":"discussion_board_discussions"},"unique":false,"nullable":false},{"name":"registered_user_id","type":"uuid","description":"Reference to the registered user who authored the comment. {@link discussion_board_registereduser.id}.","relation":{"name":"author","targetModel":"discussion_board_registereduser"},"unique":false,"nullable":false},{"name":"parent_comment_id","type":"uuid","description":"Reference to the parent comment in the thread. {@link discussion_board_comments.id}.","relation":{"name":"parent","targetModel":"discussion_board_comments","mappingName":"recursive"},"unique":false,"nullable":true}],"plainFields":[{"name":"content","type":"string","description":"The actual text content of the comment, limited to 2000 characters as specified in requirements.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the comment was initially created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the comment was last updated.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Timestamp when the comment was soft-deleted, if applicable.","nullable":true}],"uniqueIndexes":[{"fieldNames":["created_at","registered_user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["discussion_board_discussion_id","created_at"]},{"fieldNames":["parent_comment_id","created_at"]},{"fieldNames":["registered_user_id","created_at"]}],"ginIndexes":[{"fieldName":"content"}]}]},{"filename":"schema-05-voting.prisma","namespace":"Voting","models":[{"name":"discussion_board_votes","description":"Vote record for discussions and comments, supporting the dual-axis voting system with quality and agreement assessments.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_discussions_id","type":"uuid","description":"Target discussion. {@link discussion_board_discussions.id}.","relation":{"name":"discussion","targetModel":"discussion_board_discussions"},"unique":false,"nullable":true},{"name":"discussion_board_comments_id","type":"uuid","description":"Target comment. {@link discussion_board_comments.id}.","relation":{"name":"comment","targetModel":"discussion_board_comments"},"unique":false,"nullable":true},{"name":"discussion_board_registereduser_id","type":"uuid","description":"User who cast the vote. {@link discussion_board_registereduser.id}.","relation":{"name":"voter","targetModel":"discussion_board_registereduser"},"unique":false,"nullable":false}],"plainFields":[{"name":"quality_vote","type":"string","description":"Assessment of argument quality (Excellent, Good, Poor, Uncivil)","nullable":false},{"name":"agreement_vote","type":"string","description":"Personal agreement with position (Strongly Agree, Agree, Disagree, Strongly Disagree)","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp of vote creation","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last vote update","nullable":false}],"uniqueIndexes":[{"fieldNames":["discussion_board_discussions_id","discussion_board_registereduser_id"],"unique":true},{"fieldNames":["discussion_board_comments_id","discussion_board_registereduser_id"],"unique":true}],"plainIndexes":[{"fieldNames":["discussion_board_discussions_id"]},{"fieldNames":["discussion_board_comments_id"]},{"fieldNames":["discussion_board_registereduser_id"]}],"ginIndexes":[{"fieldName":"quality_vote"},{"fieldName":"agreement_vote"}]},{"name":"discussion_board_reputation","description":"User reputation score calculated based on community feedback and voting patterns.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_registereduser_id","type":"uuid","description":"User whose reputation is being tracked. {@link discussion_board_registereduser.id}.","relation":{"name":"user","targetModel":"discussion_board_registereduser"},"unique":true,"nullable":false}],"plainFields":[{"name":"score","type":"double","description":"Current reputation score, ranging from 0.0 to 100.0","nullable":false},{"name":"last_calculated","type":"datetime","description":"Timestamp of when the reputation score was last calculated","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp of reputation record creation","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp of last reputation update","nullable":false}],"uniqueIndexes":[{"fieldNames":["discussion_board_registereduser_id"],"unique":true}],"plainIndexes":[],"ginIndexes":[]}]},{"filename":"schema-06-moderation.prisma","namespace":"Moderation","models":[{"name":"discussion_board_reports","description":"User-submitted reports on inappropriate content. This primary entity enables users to flag content that violates community guidelines, ensuring accountability and maintaining civil discourse on the platform. It supports independent reporting workflows and cross-discussion monitoring.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_registereduser_id","type":"uuid","description":"Reporting user who flagged the content. {@link discussion_board_registereduser.id}.","relation":{"name":"reportingUser","targetModel":"discussion_board_registereduser"},"unique":false,"nullable":false},{"name":"discussion_board_discussions_id","type":"uuid","description":"Target discussion being reported. {@link discussion_board_discussions.id}.","relation":{"name":"reportedDiscussion","targetModel":"discussion_board_discussions"},"unique":false,"nullable":true},{"name":"discussion_board_comments_id","type":"uuid","description":"Target comment being reported. {@link discussion_board_comments.id}.","relation":{"name":"reportedComment","targetModel":"discussion_board_comments"},"unique":false,"nullable":true}],"plainFields":[{"name":"reason","type":"string","description":"User-provided explanation for the report.","nullable":false},{"name":"category","type":"string","description":"Report classification (harassment, misinformation, spam, rule violation, etc.).","nullable":false},{"name":"status","type":"string","description":"Current state of the report (pending, under_review, resolved, dismissed).","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the report was submitted.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the report was last updated.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["discussion_board_registereduser_id","status"]},{"fieldNames":["discussion_board_discussions_id","created_at"]},{"fieldNames":["discussion_board_comments_id","created_at"]},{"fieldNames":["status","created_at"]}],"ginIndexes":[{"fieldName":"reason"}]},{"name":"discussion_board_moderation_logs","description":"Immutable audit trails of all moderator actions. This snapshot entity captures point-in-time decisions made during content moderation, preserving a complete history of interventions to maintain transparency and accountability within the governance system.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_moderator_id","type":"uuid","description":"Moderator who took the action. {@link discussion_board_moderator.id}.","relation":{"name":"moderator","targetModel":"discussion_board_moderator"},"unique":false,"nullable":false},{"name":"discussion_board_reports_id","type":"uuid","description":"Original report that triggered this action. {@link discussion_board_reports.id}.","relation":{"name":"report","targetModel":"discussion_board_reports"},"unique":false,"nullable":true}],"plainFields":[{"name":"action_type","type":"string","description":"Type of moderation action taken (warning_issued, content_removed, user_suspended, etc.).","nullable":false},{"name":"details","type":"string","description":"Specific information about the moderation action.","nullable":false},{"name":"justification","type":"string","description":"Reasoning and explanation for the moderator's decision.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the moderation action was recorded.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["discussion_board_moderator_id","created_at"]},{"fieldNames":["discussion_board_reports_id","created_at"]},{"fieldNames":["action_type","created_at"]}],"ginIndexes":[{"fieldName":"justification"}]},{"name":"discussion_board_warnings","description":"Formal warnings issued to users for guideline violations. This primary entity enables the moderation system to track disciplinary actions, provide educational feedback to users, and support escalation protocols for repeated offenses.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"discussion_board_registereduser_id","type":"uuid","description":"User who received the warning. {@link discussion_board_registereduser.id}.","relation":{"name":"user","targetModel":"discussion_board_registereduser"},"unique":false,"nullable":false},{"name":"discussion_board_moderator_id","type":"uuid","description":"Moderator who issued the warning. {@link discussion_board_moderator.id}.","relation":{"name":"moderator","targetModel":"discussion_board_moderator"},"unique":false,"nullable":false},{"name":"discussion_board_reports_id","type":"uuid","description":"Original report that led to the warning. {@link discussion_board_reports.id}.","relation":{"name":"report","targetModel":"discussion_board_reports"},"unique":false,"nullable":true}],"plainFields":[{"name":"reason","type":"string","description":"Violation category that prompted the warning.","nullable":false},{"name":"details","type":"string","description":"Specific explanation of the guideline violation.","nullable":false},{"name":"issued_at","type":"datetime","description":"Timestamp when the warning was issued.","nullable":false},{"name":"resolved_at","type":"datetime","description":"Timestamp when the warning was resolved or expired.","nullable":true},{"name":"status","type":"string","description":"Current state of the warning (active, resolved, expired).","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the warning record was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the warning record was last updated.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["discussion_board_registereduser_id","status"]},{"fieldNames":["discussion_board_moderator_id","issued_at"]},{"fieldNames":["discussion_board_reports_id","issued_at"]},{"fieldNames":["status","issued_at"]}],"ginIndexes":[{"fieldName":"details"}]}]}]}