{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"economic_board_topics","description":"System-defined topic categories for the economic/political discussion board. These are fixed, immutable categories that govern content organization and filtering across the platform. All posts must reference exactly one of these predefined topics.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","nullable":false,"description":"The exact name of the topic category. Must be one of the seven predefined system values: \"Inflation\", \"Tax Policy\", \"Elections\", \"Global Trade\", \"Monetary Policy\", \"Labor Markets\", \"Fiscal Policy\"."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when this topic category was initially registered in the system. Immutable after creation."},{"name":"updated_at","type":"datetime","nullable":false,"description":"Timestamp of the last modification to this topic's metadata. Always equal to created_at since topic names are immutable after creation."},{"name":"is_active","type":"boolean","nullable":false,"description":"Indicates whether this topic is currently available for new post creation. Topics may be deactivated if unused for 90+ days but historical posts retain their original topic reference."},{"name":"description","type":"string","nullable":true,"description":"Optional human-readable description explaining the scope and purpose of this topic category."}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["is_active"]},{"fieldNames":["name","is_active"]}],"ginIndexes":[]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"economic_board_guest","description":"Represents an anonymous visitor to the economic discussion board. This model tracks guest interactions for moderation and system behavior without requiring authentication.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the guest first accessed the system or interacted with it."},{"name":"session_id","type":"string","nullable":false,"description":"Unique session identifier generated by the system to persist guest state across interactions."},{"name":"ip_hash","type":"string","nullable":true,"description":"Cryptographic hash of the guest's IP address for moderation and abuse detection. No personal identifying information is stored."},{"name":"last_active","type":"datetime","nullable":false,"description":"The last timestamp when the guest performed any action on the system."}],"uniqueIndexes":[{"fieldNames":["session_id"],"unique":true},{"fieldNames":["ip_hash"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["last_active"]}],"ginIndexes":[]},{"name":"economic_board_member","description":"Represents an authenticated user who can create posts and replies. Each member has a persistent identity tracked across sessions via secure JWT authentication.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Unique email address used for account registration and verification. Must be validated before full privileges are granted."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for authentication. Never stores plain text passwords."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the member account was registered."},{"name":"verified_at","type":"datetime","nullable":true,"description":"Timestamp when email verification was completed. Null until verified."},{"name":"last_login","type":"datetime","nullable":false,"description":"The most recent successful login timestamp."},{"name":"is_active","type":"boolean","nullable":false,"description":"Flag indicating whether the member account is active. If false, account is suspended and cannot post or log in."},{"name":"auth_jwt_id","type":"uuid","nullable":false,"description":"UUID of the current active JWT token for session management."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["auth_jwt_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["last_login"]},{"fieldNames":["is_active"]}],"ginIndexes":[]},{"name":"economic_board_admin","description":"Represents a privileged user with moderation permissions to approve, reject, or delete posts. Admin accounts are pre-configured by the system owner and cannot be registered by users.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"email","type":"string","nullable":false,"description":"Email address of the admin. Must match a pre-approved list defined in system configuration."},{"name":"password_hash","type":"string","nullable":false,"description":"Hashed password for admin authentication. Never stores plain text passwords."},{"name":"created_at","type":"datetime","nullable":false,"description":"Timestamp when the admin account was provisioned by the system owner."},{"name":"last_login","type":"datetime","nullable":false,"description":"The most recent successful admin login timestamp."},{"name":"is_active","type":"boolean","nullable":false,"description":"Flag indicating whether the admin account is active. If false, login and moderation access are denied."},{"name":"auth_jwt_id","type":"uuid","nullable":false,"description":"UUID of the current active JWT token for admin session management."}],"uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["auth_jwt_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["last_login"]},{"fieldNames":["is_active"]}],"ginIndexes":[]}]},{"filename":"schema-03-posts.prisma","namespace":"Posts","models":[{"name":"economic_board_posts","description":"Core economic and political discussion posts, each associated with a topic and subject to moderation lifecycle.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"economic_board_topics_id","type":"uuid","description":"Topic that this post belongs to. {@link economic_board_topics.id}.","relation":{"name":"topic","targetModel":"economic_board_topics"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"Timestamp when the post was submitted.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the post was last edited.","nullable":false},{"name":"status","type":"string","description":"Moderation status of the post: 'pending', 'published', 'rejected', or 'deleted'.","nullable":false},{"name":"subject","type":"string","description":"Brief title or subject line of the post (max 120 characters).","nullable":false},{"name":"content","type":"string","description":"Full text content of the post (max 5,000 characters).","nullable":false},{"name":"reply_count","type":"int","description":"Number of direct replies to this post.","nullable":false},{"name":"edited","type":"boolean","description":"Whether this post has been edited after initial submission.","nullable":false},{"name":"edited_at","type":"datetime","description":"Timestamp of last edit. Null if never edited.","nullable":true},{"name":"author_hash","type":"string","description":"System-generated anonymous identifier derived from IP and timestamp for guest posts.","nullable":true},{"name":"admin_id","type":"uuid","description":"ID of admin who last modified status (approve/reject/delete).","nullable":true},{"name":"moderation_reason","type":"string","description":"Reason provided by admin for rejection or deletion. Null if not rejected/deleted.","nullable":true}],"uniqueIndexes":[{"fieldNames":["admin_id","created_at"],"unique":true},{"fieldNames":["author_hash","created_at"],"unique":true}],"plainIndexes":[{"fieldNames":["status","economic_board_topics_id"]},{"fieldNames":["created_at"]}],"ginIndexes":[]}]},{"filename":"schema-04-replies.prisma","namespace":"Replies","models":[{"name":"economic_board_replies","description":"Replies to economic/political forum posts. Each reply is automatically published without moderation, forms a threaded relationship with a parent post, and has constrained content length for concise responses. Archived for read-performance optimization without user authentication.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"economic_board_post_id","type":"uuid","description":"Reference to the parent economic board post that this reply answers. {@link economic_board_posts.id}.","relation":{"name":"post","targetModel":"economic_board_posts"},"nullable":false,"unique":false},{"name":"economic_board_guest_id","type":"uuid","description":"Reference to the anonymous guest who submitted this reply. {@link economic_board_guest.id}.","relation":{"name":"guest","targetModel":"economic_board_guest"},"nullable":false,"unique":false}],"plainFields":[{"name":"content","type":"string","description":"The text content of the reply. Must be between 5 and 1,000 characters as per business rules.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the reply was submitted in ISO 8601 format (UTC).","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the reply was last modified. Initially set to created_at.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["economic_board_post_id","created_at"]},{"fieldNames":["created_at"]},{"fieldNames":["economic_board_guest_id"]}],"ginIndexes":[{"fieldName":"content"}]}]}]}