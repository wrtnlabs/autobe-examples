import { tags } from "typia";

/**
 * Detailed information about a specific reply to a post in the
 * economic/political discussion board.
 *
 * This schema defines the structure of the response when retrieving information
 * about a specific reply from the economic_board_replies table. It includes all
 * essential metadata about the reply, ensuring complete context for display in
 * discussion threads.
 *
 * The response contains the unique identifier for the reply, the content text
 * with character limits enforced, and two timestamps indicating creation and
 * last update times. The edited flag provides additional context about whether
 * the reply has been modified since its original submission.
 *
 * All fields are determined by the system based on the economic_board_replies
 * schema in the Prisma database. The schema excludes system-managed reference
 * fields like 'economic_board_guest_id' and 'economic_board_post_id' from the
 * response as these are not to be exposed in client-facing DTOs according to
 * security rules. The system follows the business rules that replies are
 * automatically published without moderation, have no author identifiers
 * exposed publicly, and can be edited only within a 24-hour window.
 *
 * This comprehensive response format enables client applications to render
 * replies accurately in discussion threads, with proper attribution,
 * chronological ordering, and edit tracking while maintaining the platform's
 * commitment to anonymous participation and civil discourse.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IEconomicBoardReply = {
  /**
   * Primary key identifier for the reply.
   *
   * This UUID is generated by the system upon creation and serves as the
   * unique identifier for each reply in the economic_board_replies table. It
   * is used to reference the reply in subsequent operations such as
   * retrieving, updating, or deleting the reply. The UUID format ensures
   * global uniqueness across distributed systems and allows for efficient
   * database indexing and querying.
   *
   * This field is automatically assigned by the system and is included in
   * responses to provide a stable reference for the reply, enabling client
   * applications to track and manage replies consistently across sessions and
   * requests.
   */
  id: string & tags.Format<"uuid">;

  /**
   * The text content of the reply. Must be between 5 and 1,000 characters as
   * per business rules.
   *
   * This property maps directly to the 'content' column in the
   * economic_board_replies Prisma schema. The character limit enforces
   * concise responses while allowing sufficient detail for meaningful
   * discussion about economic and political topics. This constraint ensures
   * replies remain focused and readable within the discussion thread
   * structure.
   *
   * The content must be substantive and relevant to the parent post topic. It
   * may include analysis, questions, or commentary that contributes to the
   * economic or political discourse without personal attacks, proprietary
   * information, or misleading data. The system validates this constraint
   * during creation and update operations to maintain quality standards for
   * public discourse.
   */
  content: string & tags.MinLength<5> & tags.MaxLength<1000>;

  /**
   * Timestamp when the reply was submitted in ISO 8601 format (UTC).
   *
   * This field maps directly to the 'created_at' column in the
   * economic_board_replies Prisma schema, which is marked with
   * @db.Timestamptz. It records the exact moment when the reply was created
   * and submitted to the system. This field is automatically set by the
   * system using the current UTC timestamp and cannot be modified by users or
   * administrators.
   *
   * The ISO 8601 format ensures global consistency in date/time
   * representation, enabling accurate interpretation across different time
   * zones and systems.
   *
   * The 'created_at' timestamp is critical for maintaining chronological
   * order of replies within a discussion thread and for implementing
   * time-based filtering and sorting preferences in the user interface.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * Timestamp when the reply was last modified. Initially set to created_at.
   *
   * This field maps directly to the 'updated_at' column in the
   * economic_board_replies Prisma schema, which is marked with
   * @db.Timestamptz. It tracks the last time the reply content was edited.
   * When a reply is first created, this field is set to the same value as
   * created_at. If the reply is edited within the 24-hour edit window, this
   * field is updated to the current UTC timestamp.
   *
   * This field serves as an audit trail for content modifications and is
   * essential for maintaining the integrity of the discussion thread when
   * edits occur. It cannot be manually changed by users or administrators,
   * ensuring data authenticity and preventing tampering.
   *
   * The 'updated_at' field complements the 'edited' boolean flag by providing
   * precise timing information about when edits occurred.
   */
  updated_at: string & tags.Format<"date-time">;

  /**
   * Whether this reply has been edited after initial submission.
   *
   * This boolean flag maps directly to the 'edited' column in the
   * economic_board_replies Prisma schema. It indicates whether the content of
   * the reply has been modified since its original creation. It is set to
   * false when the reply is first created and is set to true when an edit is
   * made within the allowed 24-hour editing window.
   *
   * This field complements the updated_at field by providing a simple
   * indicator of whether the reply content has changed since publication. The
   * platform uses this flag to display an "[Edited]" marker next to edited
   * replies, informing other users that the content has been updated since
   * its original submission.
   *
   * This transparency promotes accountability and allows readers to assess
   * the context of the conversation accurately.
   */
  edited: boolean;
};
export namespace IEconomicBoardReply {
  /**
   * Creation data for a new reply to a specific post in the
   * economic/political discussion board.
   *
   * This schema defines the structure of the request body used when creating
   * a new reply to a post. It contains only the essential field needed to
   * create a reply - the content text. Replies are automatically published
   * without moderation and are associated with the parent post identified by
   * the postId path parameter.
   *
   * The system enforces strict validation on the content field: it must be
   * between 5 and 1,000 characters in length. This ensures replies are
   * substantive while maintaining readability in discussion threads. The
   * requirement for minimum 5 characters prevents empty or insignificant
   * submissions, while the 1,000-character limit keeps conversations focused
   * and prevents overly long replies that could disrupt the thread
   * structure.
   *
   * Authentication is handled via JWT token in the header, which identifies
   * the member submitting the reply. Guests are prohibited from submitting
   * replies, and attempts by guest users will result in a 403 Forbidden
   * response. The reply is tracked in the economic_board_replies table with a
   * foreign key relationship to the post, and the author is associated with
   * the guest session context for anonymized identification.
   *
   * This schema follows the principle of minimal data requirements for
   * creation operations, including only the necessary field while relying on
   * the path parameter for context.
   */
  export type ICreate = {
    /**
     * Content of the reply to be submitted to the target post. Must be
     * between 5 and 1,000 characters as per business rules.
     *
     * The reply content must be substantial and relevant to the discussion.
     * It cannot be empty, contain only whitespace characters, or consist
     * solely of punctuation marks or emojis without meaningful text. The
     * character limit ensures replies remain concise while still allowing
     * for thoughtful responses. This restriction prevents spam and
     * encourages quality interaction within the discussion thread.
     *
     * The system supports Unicode characters and international text
     * formats. Non-English characters are handled properly in display and
     * storage.
     */
    content: string & tags.MinLength<5> & tags.MaxLength<1000>;
  };

  /**
   * Update details for a reply to an economic/political discussion post. This
   * schema defines the structure for modifying existing replies.
   *
   * This type is used exclusively in the PUT
   * /economicBoard/member/posts/{postId}/replies/{replyId} operation.
   *
   * Only the content field is updatable, as replies have no other mutable
   * properties in the system. The system automatically handles updated_at and
   * edited flags upon successful update.
   *
   * All updates must maintain the 5-1,000 character constraint, and are only
   * permitted within 24 hours of the reply's creation, as enforced by the
   * business logic layer. This schema ensures only valid update data is
   * processed by the system.
   */
  export type IUpdate = {
    /**
     * Updated content of the reply to replace the existing content. Must be
     * between 5 and 1,000 characters as per business rules.
     *
     * This property maps directly to the 'content' column in the
     * economic_board_replies Prisma schema, which is marked with a
     * constraint requiring the text to be between 5 and 1,000 characters.
     * The system validates this constraint during update operations to
     * ensure replies remain concise while allowing sufficient detail for
     * meaningful discussion about economic and political topics.
     *
     * The update must maintain the same business rules as the original
     * creation: the content must be substantive and relevant to the parent
     * post topic, avoiding personal attacks, proprietary information, or
     * misleading data. This constraint ensures quality standards for public
     * discourse are maintained during modifications.
     *
     * Note that the 'updated_at' and 'edited' fields on the server are
     * automatically handled by the system when this field is updated; they
     * are not explicit inputs to this request object.
     */
    content: string & tags.MinLength<5> & tags.MaxLength<1000>;
  };
}
