/// Represents an anonymous visitor to the economic discussion board. This
/// model tracks guest interactions for moderation and system behavior
/// without requiring authentication.
///
/// @namespace Actors
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model economic_board_guest {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Timestamp when the guest first accessed the system or interacted with it.
  created_at DateTime
  
  /// Unique session identifier generated by the system to persist guest state
  /// across interactions.
  session_id String
  
  /// Cryptographic hash of the guest's IP address for moderation and abuse
  /// detection. No personal identifying information is stored.
  ip_hash String?
  
  /// The last timestamp when the guest performed any action on the system.
  last_active DateTime
  
  //----
  // RELATIONS
  //----
  economic_board_replies economic_board_replies[]
  
  @@unique([session_id])
  @@unique([ip_hash])
  @@index([created_at])
  @@index([last_active])
}

/// Represents an authenticated user who can create posts and replies. Each
/// member has a persistent identity tracked across sessions via secure JWT
/// authentication.
///
/// @namespace Actors
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model economic_board_member {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Unique email address used for account registration and verification. Must
  /// be validated before full privileges are granted.
  email String
  
  /// Hashed password for authentication. Never stores plain text passwords.
  password_hash String
  
  /// Timestamp when the member account was registered.
  created_at DateTime
  
  /// Timestamp when email verification was completed. Null until verified.
  verified_at DateTime?
  
  /// The most recent successful login timestamp.
  last_login DateTime
  
  /// Flag indicating whether the member account is active. If false, account
  /// is suspended and cannot post or log in.
  is_active Boolean
  
  /// UUID of the current active JWT token for session management.
  auth_jwt_id String
  
  //----
  // RELATIONS
  //----
  @@unique([email])
  @@unique([auth_jwt_id])
  @@index([created_at])
  @@index([last_login])
  @@index([is_active])
}

/// Represents a privileged user with moderation permissions to approve,
/// reject, or delete posts. Admin accounts are pre-configured by the system
/// owner and cannot be registered by users.
///
/// @namespace Actors
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model economic_board_admin {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Email address of the admin. Must match a pre-approved list defined in
  /// system configuration.
  email String
  
  /// Hashed password for admin authentication. Never stores plain text
  /// passwords.
  password_hash String
  
  /// Timestamp when the admin account was provisioned by the system owner.
  created_at DateTime
  
  /// The most recent successful admin login timestamp.
  last_login DateTime
  
  /// Flag indicating whether the admin account is active. If false, login and
  /// moderation access are denied.
  is_active Boolean
  
  /// UUID of the current active JWT token for admin session management.
  auth_jwt_id String
  
  //----
  // RELATIONS
  //----
  @@unique([email])
  @@unique([auth_jwt_id])
  @@index([created_at])
  @@index([last_login])
  @@index([is_active])
}