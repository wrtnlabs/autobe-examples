{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"name":"political_discussion_board_system_config","description":"System-wide configuration settings that control operational parameters and feature toggles across the political discussion board platform. These key-value pairs define system behavior and are referenced by other domains.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"updated_by_admin_id","type":"uuid","description":"Administrator who last updated this configuration setting {@link political_discussion_board_admin.id}","nullable":true,"relation":{"name":"updatedByAdmin","targetModel":"political_discussion_board_admin","mappingName":"political_discussion_board_system_config_of_updated_by_admin_id"},"unique":false},{"name":"created_by_admin_id","type":"uuid","description":"Administrator who created this configuration setting {@link political_discussion_board_admin.id}","nullable":false,"relation":{"name":"createdByAdmin","targetModel":"political_discussion_board_admin","mappingName":"political_discussion_board_system_config_of_created_by_admin_id"},"unique":false}],"plainFields":[{"name":"config_key","type":"string","description":"Unique identifier for the configuration parameter (e.g., 'max_post_length', 'voting_threshold')","nullable":false},{"name":"config_value","type":"string","description":"Value for the configuration parameter, stored as string and parsed by application logic","nullable":false},{"name":"description","type":"string","description":"Business description explaining the purpose and usage of this configuration parameter","nullable":false},{"name":"category","type":"string","description":"Functional category grouping for related settings (e.g., 'security', 'limits', 'features')","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when this configuration was first created","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when this configuration was last updated","nullable":false},{"name":"is_active","type":"boolean","description":"Whether this configuration setting is currently active and should be applied by the system","nullable":false},{"name":"data_type","type":"string","description":"Data type hint for parsing the config_value (string, integer, boolean, json)","nullable":false}],"uniqueIndexes":[{"fieldNames":["config_key"],"unique":true}],"plainIndexes":[{"fieldNames":["category"]},{"fieldNames":["created_by_admin_id"]},{"fieldNames":["updated_by_admin_id"]}],"ginIndexes":[]},{"name":"political_discussion_board_audit_log","description":"Comprehensive audit trail capturing all significant user actions and system events for compliance, security monitoring, and moderation workflows across the entire platform.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"target_post_id","type":"uuid","description":"Related post that was affected by this action {@link political_discussion_board_posts.id}","nullable":true,"relation":{"name":"targetPost","targetModel":"political_discussion_board_posts"},"unique":false},{"name":"target_reply_id","type":"uuid","description":"Related reply that was affected by this action {@link political_discussion_board_replies.id}","nullable":true,"relation":{"name":"targetReply","targetModel":"political_discussion_board_replies"},"unique":false},{"name":"user_id","type":"uuid","description":"User who performed this action, if applicable {@link political_discussion_board_member.id}","nullable":true,"relation":{"name":"user","targetModel":"political_discussion_board_member"},"unique":false}],"plainFields":[{"name":"action_type","type":"string","description":"Type of action performed (login, post_create, reply_edit, vote, moderation_action)","nullable":false},{"name":"description","type":"string","description":"Detailed description of what action was taken and relevant context","nullable":false},{"name":"ip_address","type":"string","description":"IP address from which the action originated for security monitoring","nullable":false},{"name":"user_agent","type":"string","description":"Browser or client user agent string for device tracking and security analysis","nullable":false},{"name":"action_timestamp","type":"datetime","description":"Exact timestamp when this action occurred for chronological audit trail","nullable":false},{"name":"metadata","type":"string","description":"Additional JSON metadata about the action, such as changes made or system state","nullable":true},{"name":"user_type","type":"string","description":"Type of user who performed the action (guest, member, moderator, admin)","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["ip_address"]},{"fieldNames":["user_id","action_timestamp"]},{"fieldNames":["action_timestamp"]},{"fieldNames":["action_type"]}],"ginIndexes":[{"fieldName":"description"}]},{"name":"political_discussion_board_error_log","description":"Application error tracking system for monitoring system reliability, debugging issues, and maintaining platform stability. Captures technical errors and system failures for operational excellence.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"User who encountered this error, if applicable {@link political_discussion_board_member.id}","nullable":true,"relation":{"name":"user","targetModel":"political_discussion_board_member"},"unique":false}],"plainFields":[{"name":"error_type","type":"string","description":"Category of error (authentication_error, validation_error, database_error, server_error)","nullable":false},{"name":"error_message","type":"string","description":"Detailed error message or exception description for debugging purposes","nullable":false},{"name":"error_code","type":"string","description":"Machine-readable error code for programmatic handling and categorization","nullable":true},{"name":"severity","type":"string","description":"Severity level (low, medium, high, critical) indicating impact on system functionality","nullable":false},{"name":"stack_trace","type":"string","description":"Stack trace or function call chain where the error originated for developer debugging","nullable":true},{"name":"request_url","type":"string","description":"URL or endpoint where the error occurred for request tracking and analysis","nullable":true},{"name":"request_method","type":"string","description":"HTTP request method (GET, POST, PUT, DELETE) used when the error occurred","nullable":true},{"name":"timestamp","type":"datetime","description":"Timestamp when the error occurred for timeline analysis and debugging","nullable":false},{"name":"resolved_at","type":"datetime","description":"Timestamp when this error was resolved, if applicable for tracking resolution time","nullable":true},{"name":"resolution_notes","type":"string","description":"Notes about how this error was resolved for future reference and documentation","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["timestamp"]},{"fieldNames":["error_type","severity"]},{"fieldNames":["error_code"]},{"fieldNames":["user_id"]},{"fieldNames":["severity","timestamp"]},{"fieldNames":["resolved_at"]}],"ginIndexes":[{"fieldName":"error_message"}]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"name":"political_discussion_board_guest","description":"Guest user accounts with limited read-only access to public political discussions. These users can browse content but cannot participate in discussions or access premium features.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_profile_id","type":"uuid","description":"Target model's {@link political_discussion_board_user_profiles.id}. Optional link to detailed profile information.","relation":{"name":"userProfile","targetModel":"political_discussion_board_user_profiles"},"unique":false,"nullable":true}],"plainFields":[{"name":"username","type":"string","description":"Unique username for guest identification. Used for session tracking and browsing history.","nullable":false},{"name":"email","type":"string","description":"Email address for account tracking and optional registration prompts. Must be valid format for potential future conversion.","nullable":false},{"name":"password_hash","type":"string","description":"Hashed password for guest account security. Required even for limited access accounts to maintain security standards.","nullable":false},{"name":"email_verified","type":"boolean","description":"Whether the email address has been verified through confirmation process. False for most guest accounts unless converted.","nullable":false},{"name":"is_active","type":"boolean","description":"Account status indicating whether the guest account is currently active and allowed to browse content.","nullable":false},{"name":"last_login_at","type":"datetime","description":"Timestamp of the most recent login to track guest engagement and session management.","nullable":true},{"name":"created_at","type":"datetime","description":"Account creation timestamp for tracking guest user acquisition and analytics.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp for account information changes like password updates.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for guest accounts that have been removed or expired due to inactivity.","nullable":true}],"uniqueIndexes":[{"fieldNames":["username"],"unique":true},{"fieldNames":["email"],"unique":true}],"plainIndexes":[{"fieldNames":["last_login_at"]},{"fieldNames":["created_at"]},{"fieldNames":["is_active","last_login_at"]}],"ginIndexes":[]},{"description":"Registered member users with authentication capabilities. These users form the core community with full participation rights, voting privileges, and reputation-based features essential for quality political discourse.","foreignFields":[{"description":"Related profile information containing personal and professional details {@link political_discussion_board_user_profiles.id}","name":"user_profile_id","nullable":false,"relation":{"name":"userProfile","targetModel":"political_discussion_board_user_profiles"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"political_discussion_board_member","plainFields":[{"description":"Unique username for community identification","name":"username","nullable":false,"type":"string"},{"description":"Email address for account recovery and notifications","name":"email","nullable":false,"type":"string"},{"description":"Hashed password using bcrypt with salt for secure authentication","name":"password_hash","nullable":false,"type":"string"},{"description":"Whether email has been verified through confirmation process","name":"email_verified","nullable":false,"type":"boolean"},{"description":"Community reputation score from 0-10000 based on quality contributions","name":"reputation_score","nullable":false,"type":"int"},{"description":"Account activation status for security and suspension","name":"is_active","nullable":false,"type":"boolean"},{"description":"Last login timestamp for activity tracking and engagement metrics","name":"last_login_at","nullable":false,"type":"datetime"},{"description":"Registration timestamp for user lifecycle analytics","name":"created_at","nullable":false,"type":"datetime"},{"description":"Account modification timestamp for tracking changes","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft deletion timestamp for account suspension/termination","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["reputation_score"]},{"fieldNames":["last_login_at"]},{"fieldNames":["is_active","reputation_score"]},{"fieldNames":["email_verified"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["username"],"unique":true},{"fieldNames":["email"],"unique":true}]},{"name":"political_discussion_board_moderator","description":"Trusted community moderators with special privileges to manage content, enforce policies, and maintain civil discourse standards in political discussions.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"member_id","type":"uuid","description":"Target model's {@link political_discussion_board_member.id} Reference to the underlying member account that grants basic permissions.","relation":{"name":"member","targetModel":"political_discussion_board_member"},"unique":false,"nullable":false},{"name":"user_profile_id","type":"uuid","description":"Target model's {@link political_discussion_board_user_profiles.id} Redundant but convenient reference to profile information.","relation":{"name":"userProfile","targetModel":"political_discussion_board_user_profiles"},"unique":false,"nullable":false}],"plainFields":[{"name":"moderator_level","type":"int","description":"Moderator hierarchy level (1-5) indicating scope of responsibilities and escalation authority. Higher levels have more permissions.","nullable":false},{"name":"appointed_at","type":"datetime","description":"Date when the user was granted moderator privileges. Used for tenure tracking and responsibility assignment.","nullable":false},{"name":"moderator_status","type":"string","description":"Current moderation status: active, training, review, suspended. Controls access to moderation tools.","nullable":false},{"name":"areas_of_expertise","type":"string","description":"Comma-separated list of political, economic, or policy areas where the moderator has special knowledge.","nullable":true},{"name":"total_moderations","type":"int","description":"Total number of moderation actions taken (approvals, rejections, warnings). Tracks moderator activity and effectiveness.","nullable":false},{"name":"accuracy_rate","type":"double","description":"Percentage rate of moderation decisions upheld on appeal. Quality metric for moderator performance evaluation.","nullable":false},{"name":"last_moderation_at","type":"datetime","description":"Timestamp of most recent moderation action for activity monitoring and workload distribution.","nullable":true},{"name":"created_at","type":"datetime","description":"Moderator role creation timestamp for tracking community governance development.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp for moderator status changes, level modifications, or performance reviews.","nullable":false}],"uniqueIndexes":[{"fieldNames":["member_id"],"unique":true}],"plainIndexes":[{"fieldNames":["moderator_level"]},{"fieldNames":["moderator_status"]},{"fieldNames":["appointed_at"]},{"fieldNames":["last_moderation_at"]},{"fieldNames":["accuracy_rate"]}],"ginIndexes":[]},{"name":"political_discussion_board_admin","description":"System administrators with comprehensive platform management privileges including user management, system configuration, and emergency response capabilities.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"member_id","type":"uuid","description":"Target model's {@link political_discussion_board_member.id} Reference to the underlying member account that forms the base of administrative privileges.","relation":{"name":"member","targetModel":"political_discussion_board_member"},"unique":false,"nullable":false}],"plainFields":[{"name":"admin_level","type":"int","description":"Administrator hierarchy level (1-10) indicating system access scope. Level 10 provides complete system control.","nullable":false},{"name":"can_manage_users","type":"boolean","description":"Whether the admin can create, modify, or delete user accounts and manage user permissions across the platform.","nullable":false},{"name":"can_manage_content","type":"boolean","description":"Whether the admin can edit, hide, or remove any content including posts, replies, and user-generated material.","nullable":false},{"name":"can_manage_system","type":"boolean","description":"Whether the admin can modify system configuration, platform settings, and global preferences.","nullable":false},{"name":"can_access_analytics","type":"boolean","description":"Whether the admin can view platform analytics, user statistics, and performance metrics.","nullable":false},{"name":"can_manage_moderators","type":"boolean","description":"Whether the admin can appoint, train, supervise, and remove community moderators.","nullable":false},{"name":"is_super_admin","type":"boolean","description":"Whether this administrator has unlimited privileges across all platform functions and data access.","nullable":false},{"name":"appointed_at","type":"datetime","description":"Date when the user was granted administrative privileges for authorization tracking and audit compliance.","nullable":false},{"name":"last_admin_action_at","type":"datetime","description":"Timestamp of most recent administrative action for security monitoring and activity tracking.","nullable":true},{"name":"created_at","type":"datetime","description":"Administrator role creation timestamp for system governance tracking and role management.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last update timestamp for permission changes, level modifications, or administrative reviews.","nullable":false}],"uniqueIndexes":[{"fieldNames":["member_id"],"unique":true}],"plainIndexes":[{"fieldNames":["admin_level"]},{"fieldNames":["is_super_admin"]},{"fieldNames":["appointed_at"]},{"fieldNames":["last_admin_action_at"]}],"ginIndexes":[]},{"name":"political_discussion_board_user_profiles","description":"Comprehensive user profile information containing personal details, professional background, interests, and preferences for personalized user experience and community engagement.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"user_type","type":"string","description":"Type of user account this profile belongs to: guest, member, moderator, admin. Determines which user entity references this profile.","nullable":false},{"name":"user_id","type":"uuid","description":"Foreign key reference to the specific user account (guest, member, moderator, or admin ID) that this profile describes.","nullable":false},{"name":"display_name","type":"string","description":"Public display name shown throughout the platform and in community interactions. Can be different from username.","nullable":false},{"name":"biography","type":"string","description":"Personal biography or description of interests, expertise, and background for community introduction and credibility.","nullable":true},{"name":"location","type":"string","description":"Geographic location information (city, state, country) for regional community building and local issue discussions.","nullable":true},{"name":"profession","type":"string","description":"Professional background or current occupation relevant to political and economic discussions for credibility establishment.","nullable":true},{"name":"education_level","type":"string","description":"Highest level of education completed for community context and discussion credibility purposes.","nullable":true},{"name":"political_affiliation","type":"string","description":"Self-identified political affiliation or ideology for transparent community discourse. Optional to encourage diverse participation.","nullable":true},{"name":"interests","type":"string","description":"Comma-separated list of political, economic, or policy interests for content recommendations and community matching.","nullable":true},{"name":"profile_image_url","type":"uri","description":"URL to profile image or avatar for visual identification in community interactions and user interface.","nullable":true},{"name":"website_url","type":"uri","description":"Personal website or professional URL for additional information about the user's background or expertise.","nullable":true},{"name":"twitter_handle","type":"string","description":"Twitter or social media handle for cross-platform identity verification and extended community connections.","nullable":true},{"name":"profile_visibility","type":"string","description":"Profile visibility setting: public, members_only, private. Controls who can view detailed profile information.","nullable":false},{"name":"is_verified","type":"boolean","description":"Whether the profile has been verified through identity confirmation or professional credential validation.","nullable":false},{"name":"verification_notes","type":"string","description":"Internal notes about the verification process including verification method, date, and verifying administrator.","nullable":true},{"name":"privacy_settings","type":"string","description":"JSON configuration for privacy preferences including notification settings, data sharing options, and visibility controls.","nullable":false},{"name":"notification_preferences","type":"string","description":"JSON configuration for email and in-app notification preferences including frequency, topics, and delivery methods.","nullable":false},{"name":"created_at","type":"datetime","description":"Profile creation timestamp for tracking user onboarding and profile completion analytics.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp for profile information updates including biography, interests, or privacy changes.","nullable":false}],"uniqueIndexes":[{"fieldNames":["user_type","user_id"],"unique":true},{"fieldNames":["display_name"],"unique":true}],"plainIndexes":[{"fieldNames":["user_type"]},{"fieldNames":["profile_visibility"]},{"fieldNames":["created_at"]}],"ginIndexes":[{"fieldName":"biography"},{"fieldName":"interests"}]}]},{"filename":"schema-03-content.prisma","namespace":"Content","models":[{"name":"political_discussion_board_categories","description":"Discussion categories that organize posts by topic area including fiscal policy, international trade, and regulatory developments.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"created_by_admin_id","type":"uuid","description":"Administrator who created this category {@link political_discussion_board_admin.id}","nullable":false,"relation":{"name":"createdByAdmin","targetModel":"political_discussion_board_admin","mappingName":"political_discussion_board_categories_of_created_by_admin_id"},"unique":false},{"name":"updated_by_admin_id","type":"uuid","description":"Administrator who last updated this category {@link political_discussion_board_admin.id}","nullable":true,"relation":{"name":"updatedByAdmin","targetModel":"political_discussion_board_admin","mappingName":"political_discussion_board_categories_of_updated_by_admin_id"},"unique":false}],"plainFields":[{"name":"name","type":"string","description":"Category name describing the topic area for discussions","nullable":false},{"name":"description","type":"string","description":"Detailed explanation of what discussions belong in this category","nullable":false},{"name":"color_code","type":"string","description":"Hex color code for visual distinction in the interface","nullable":true},{"name":"sort_order","type":"int","description":"Numerical order for displaying categories in menus","nullable":false},{"name":"is_active","type":"boolean","description":"Whether this category is available for new posts","nullable":false},{"name":"created_at","type":"datetime","description":"Category creation timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for category removal","nullable":true}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[{"fieldNames":["sort_order"]},{"fieldNames":["is_active"]},{"fieldNames":["created_at"]},{"fieldNames":["created_by_admin_id"]},{"fieldNames":["updated_by_admin_id"]}],"ginIndexes":[]},{"name":"political_discussion_board_tags","description":"Tags for flexible topic classification that complement categories. Tags allow granular topic labeling and cross-categorization of political and economic discussions, enabling users to find content by specific issues, people, or themes.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"name","type":"string","description":"Tag name for topic classification like \"inflation\" or \"healthcare\"","nullable":false},{"name":"description","type":"string","description":"Explanation of what content this tag should be applied to","nullable":false},{"name":"color_code","type":"string","description":"Hex color code for visual tag styling","nullable":true},{"name":"usage_count","type":"int","description":"Number of posts currently using this tag","nullable":false},{"name":"is_active","type":"boolean","description":"Whether new posts can use this tag","nullable":false},{"name":"created_at","type":"datetime","description":"Tag creation timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp","nullable":true}],"uniqueIndexes":[{"fieldNames":["name"],"unique":true}],"plainIndexes":[{"fieldNames":["is_active"]},{"fieldNames":["usage_count"]},{"fieldNames":["created_at"]}],"ginIndexes":[]},{"description":"Main discussion posts that form the core content of the platform. Posts represent individual topics of political and economic discourse, containing user-generated content and serving as the foundation for threaded reply conversations. Users create posts to start discussions on specific policies, issues, or questions.","foreignFields":[{"description":"Target model's {@link political_discussion_board_categories.id}","name":"political_discussion_board_category_id","nullable":false,"relation":{"name":"category","targetModel":"political_discussion_board_categories"},"type":"uuid","unique":false},{"description":"Member who created this post {@link political_discussion_board_member.id}","name":"political_discussion_board_member_id","nullable":false,"relation":{"name":"author","targetModel":"political_discussion_board_member"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"content"}],"material":false,"name":"political_discussion_board_posts","plainFields":[{"description":"Post title that appears in discussion listings and search results","name":"title","nullable":false,"type":"string"},{"description":"Main post content with full discussion starter text and supporting arguments","name":"content","nullable":false,"type":"string"},{"description":"Post status: draft, published, locked, or archived","name":"status","nullable":false,"type":"string"},{"description":"Number of times this post has been viewed by community members","name":"view_count","nullable":false,"type":"int"},{"description":"Whether this post is pinned to the top of category listings","name":"is_pinned","nullable":false,"type":"boolean"},{"description":"Whether new replies are allowed on this post","name":"allow_replies","nullable":false,"type":"boolean"},{"description":"Post creation timestamp for auditing and sorting","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft deletion timestamp for post removal while preserving audit trail","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["political_discussion_board_category_id","created_at"]},{"fieldNames":["political_discussion_board_member_id","created_at"]},{"fieldNames":["status"]},{"fieldNames":["created_at"]},{"fieldNames":["is_pinned"]},{"fieldNames":["view_count"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[]},{"description":"Threaded replies that form discussion conversations under posts. Replies enable nested conversations about political and economic topics, allowing users to respond to specific points, ask questions, and engage in meaningful dialogue while maintaining conversation thread structure.","foreignFields":[{"description":"Target model's {@link political_discussion_board_posts.id}","name":"political_discussion_board_post_id","nullable":false,"relation":{"name":"post","targetModel":"political_discussion_board_posts"},"type":"uuid","unique":false},{"description":"Member who created this reply {@link political_discussion_board_member.id}","name":"political_discussion_board_member_id","nullable":false,"relation":{"name":"author","targetModel":"political_discussion_board_member"},"type":"uuid","unique":false},{"description":"Target model's {@link political_discussion_board_replies.id} for reply threading","name":"parent_reply_id","nullable":true,"relation":{"mappingName":"recursive","name":"parentReply","targetModel":"political_discussion_board_replies"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"content"}],"material":false,"name":"political_discussion_board_replies","plainFields":[{"description":"Reply content that responds to the post or parent reply","name":"content","nullable":false,"type":"string"},{"description":"Thread depth level (0 for direct post replies, max 4)","name":"depth_level","nullable":false,"type":"int"},{"description":"Display order within the same parent reply level","name":"sort_order","nullable":false,"type":"int"},{"description":"Whether this reply is marked as the accepted or most helpful answer","name":"is_accepted","nullable":false,"type":"boolean"},{"description":"Reply creation timestamp for conversation ordering","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft deletion timestamp for reply removal while preserving conversation structure","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["political_discussion_board_post_id","created_at"]},{"fieldNames":["political_discussion_board_member_id","created_at"]},{"fieldNames":["parent_reply_id"]},{"fieldNames":["depth_level"]},{"fieldNames":["is_accepted"]},{"fieldNames":["created_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["political_discussion_board_post_id","parent_reply_id","sort_order"],"unique":true}]},{"name":"political_discussion_board_post_tags","description":"Junction table enabling many-to-many relationships between posts and tags. This allows flexible topic classification where posts can have multiple tags and tags can be applied to multiple posts, providing rich content discovery and filtering capabilities for political and economic discussions.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"political_discussion_board_post_id","type":"uuid","description":"Target model's {@link political_discussion_board_posts.id}","relation":{"name":"post","targetModel":"political_discussion_board_posts"},"unique":false,"nullable":false},{"name":"political_discussion_board_tag_id","type":"uuid","description":"Target model's {@link political_discussion_board_tags.id}","relation":{"name":"tag","targetModel":"political_discussion_board_tags"},"unique":false,"nullable":false}],"plainFields":[{"name":"created_at","type":"datetime","description":"When this tag assignment was created","nullable":false}],"uniqueIndexes":[{"fieldNames":["political_discussion_board_post_id","political_discussion_board_tag_id"],"unique":true}],"plainIndexes":[{"fieldNames":["political_discussion_board_tag_id"]},{"fieldNames":["created_at"]}],"ginIndexes":[]},{"name":"political_discussion_board_content_snapshots","description":"Historical snapshots capturing content states over time for audit trails and content recovery. Snapshots preserve the original state of posts and replies when edited, providing immutable historical records essential for content moderation and transparency in political and economic discussions.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"political_discussion_board_post_id","type":"uuid","description":"Target model's {@link political_discussion_board_posts.id} if this is a post snapshot","relation":{"name":"post","targetModel":"political_discussion_board_posts"},"unique":false,"nullable":true},{"name":"political_discussion_board_reply_id","type":"uuid","description":"Target model's {@link political_discussion_board_replies.id} if this is a reply snapshot","relation":{"name":"reply","targetModel":"political_discussion_board_replies"},"unique":false,"nullable":true}],"plainFields":[{"name":"content_type","type":"string","description":"Whether this is a post or reply snapshot","nullable":false},{"name":"original_title","type":"string","description":"The title content at time of snapshot","nullable":true},{"name":"original_content","type":"string","description":"The content body at time of snapshot","nullable":false},{"name":"author_notes","type":"string","description":"Reason for edit or additional context","nullable":true},{"name":"version_number","type":"int","description":"Sequential version number for this content","nullable":false},{"name":"snapshot_at","type":"datetime","description":"When this snapshot was created","nullable":false}],"uniqueIndexes":[{"fieldNames":["political_discussion_board_post_id","version_number"],"unique":true},{"fieldNames":["political_discussion_board_reply_id","version_number"],"unique":true}],"plainIndexes":[{"fieldNames":["content_type"]},{"fieldNames":["version_number"]},{"fieldNames":["snapshot_at"]}],"ginIndexes":[]}]},{"filename":"schema-04-interaction.prisma","namespace":"Interaction","models":[{"name":"political_discussion_board_votes","description":"Voting system for political discussion content where users rate posts and replies, with quality-based scoring that influences content visibility and author reputation. Handles vote creation, modification, and retraction with fraud detection capabilities.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"voter_user_id","type":"uuid","description":"The voter's user ID - can reference members, moderators, or admins for proper user tracking","relation":{"name":"voter","targetModel":"political_discussion_board_member"},"unique":false,"nullable":false},{"name":"political_discussion_board_post_id","type":"uuid","description":"The post being voted on (exclusive with reply votes)","relation":{"name":"targetPost","targetModel":"political_discussion_board_posts"},"unique":false,"nullable":true},{"name":"political_discussion_board_reply_id","type":"uuid","description":"The reply being voted on (exclusive with post votes)","relation":{"name":"targetReply","targetModel":"political_discussion_board_replies"},"unique":false,"nullable":true}],"ginIndexes":[{"fieldName":"user_agent"}],"plainFields":[{"name":"vote_type","type":"string","description":"Type of vote: upvote, downvote, neutral vote for quality control","nullable":false},{"name":"vote_value","type":"int","description":"Numerical vote value (1 for upvote, -1 for downvote, 0 for neutral)","nullable":false},{"name":"business_status","type":"string","description":"Current status of the vote: active, retracted, flagged, or system_removed for lifecycle management","nullable":false},{"name":"created_at","type":"datetime","description":"When this vote was cast","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp for vote changes","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for vote withdrawal","nullable":true},{"name":"ip_address","type":"string","description":"IP address for vote fraud detection and duplicate prevention","nullable":false},{"name":"user_agent","type":"string","description":"Browser user agent for additional fraud detection","nullable":true}],"plainIndexes":[{"fieldNames":["voter_user_id","created_at"]},{"fieldNames":["voter_user_id","vote_type","business_status"]},{"fieldNames":["political_discussion_board_post_id","vote_value","business_status"]},{"fieldNames":["political_discussion_board_reply_id","vote_value","business_status"]},{"fieldNames":["created_at","vote_type","business_status"]}],"uniqueIndexes":[{"fieldNames":["voter_user_id","political_discussion_board_post_id"],"unique":true},{"fieldNames":["voter_user_id","political_discussion_board_reply_id"],"unique":true}]},{"name":"political_discussion_board_search_history","description":"User search history tracking for analytics, personalization, and privacy management while enabling search result optimization. Tracks search queries, filters, and user engagement with results for improving search algorithms.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"political_discussion_board_member_id","type":"uuid","description":"The member who performed the search for proper user tracking","relation":{"name":"searcher","targetModel":"political_discussion_board_member"},"unique":false,"nullable":false}],"ginIndexes":[{"fieldName":"search_query"},{"fieldName":"normalized_query"}],"plainFields":[{"name":"search_query","type":"string","description":"The actual search terms entered by the user","nullable":false},{"name":"normalized_query","type":"string","description":"Normalized version of search for aggregation and analytics","nullable":false},{"name":"filter_categories","type":"string","description":"Comma-separated list of category filters applied","nullable":true},{"name":"filter_date_from","type":"datetime","description":"Start date for date range filter if applied","nullable":true},{"name":"filter_date_to","type":"datetime","description":"End date for date range filter if applied","nullable":true},{"name":"filter_author","type":"string","description":"Author filter if applied (username or profile_id)","nullable":true},{"name":"business_status","type":"string","description":"Business status: active, filtered, flagged for search activity lifecycle management","nullable":false},{"name":"results_count","type":"int","description":"Number of search results returned","nullable":false},{"name":"results_clicked","type":"int","description":"Number of results the user clicked on","nullable":false},{"name":"search_timestamp","type":"datetime","description":"When the search was performed","nullable":false},{"name":"session_id","type":"string","description":"Session identifier for grouping related searches","nullable":true},{"name":"ip_address","type":"string","description":"IP address for privacy compliance and abuse detection","nullable":false}],"plainIndexes":[{"fieldNames":["political_discussion_board_member_id","search_timestamp"]},{"fieldNames":["normalized_query","search_timestamp"]},{"fieldNames":["search_timestamp","business_status","results_count"]},{"fieldNames":["filter_categories","search_timestamp"]}],"uniqueIndexes":[]},{"description":"Email notification system for user interactions, content updates, and community activities with customizable preferences and delivery tracking","foreignFields":[{"description":"Recipient of the notification {@link political_discussion_board_user_profiles.id}","name":"political_discussion_board_user_profiles_id","nullable":false,"relation":{"name":"recipient","targetModel":"political_discussion_board_user_profiles","mappingName":"political_discussion_board_notifications_of_political__93e206b7"},"type":"uuid","unique":false},{"description":"User who triggered the notification (null for system notifications)","name":"sender_user_id","nullable":true,"relation":{"name":"sender","targetModel":"political_discussion_board_user_profiles","mappingName":"political_discussion_board_notifications_of_sender_user_id"},"type":"uuid","unique":false},{"description":"Related post for content notifications {@link political_discussion_board_posts.id}","name":"related_post_id","nullable":true,"relation":{"name":"relatedPost","targetModel":"political_discussion_board_posts"},"type":"uuid","unique":false},{"description":"Related reply for discussion notifications {@link political_discussion_board_replies.id}","name":"related_reply_id","nullable":true,"relation":{"name":"relatedReply","targetModel":"political_discussion_board_replies"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"political_discussion_board_notifications","plainFields":[{"description":"Type: new_reply, mention, vote, follow, subscription_digest, newsletter","name":"notification_type","nullable":false,"type":"string"},{"description":"Email subject line for the notification","name":"subject","nullable":false,"type":"string"},{"description":"HTML content of the notification email","name":"content_html","nullable":false,"type":"string"},{"description":"Plain text version of the notification email","name":"content_text","nullable":false,"type":"string"},{"description":"Priority level: urgent, normal, low, digest","name":"priority","nullable":false,"type":"string"},{"description":"When the notification was created","name":"created_at","nullable":false,"type":"datetime"},{"description":"When to send the notification (for batch processing)","name":"scheduled_for","nullable":true,"type":"datetime"},{"description":"When the notification was actually sent","name":"sent_at","nullable":true,"type":"datetime"},{"description":"Email delivery status: pending, sent, failed, bounced, suppressed","name":"email_status","nullable":false,"type":"string"},{"description":"Whether the user has marked this notification as read","name":"is_read","nullable":false,"type":"boolean"},{"description":"Number of times user clicked links in the notification","name":"click_through_count","nullable":false,"type":"int"}],"plainIndexes":[{"fieldNames":["political_discussion_board_user_profiles_id","sent_at","is_read"]},{"fieldNames":["scheduled_for","email_status","priority"]},{"fieldNames":["created_at","notification_type","priority"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[]},{"description":"Social following system allowing users to follow other users for content discovery and activity notifications","foreignFields":[{"description":"The user being followed {@link political_discussion_board_user_profiles.id}","name":"political_discussion_board_user_profiles_id","nullable":false,"relation":{"name":"followedUser","targetModel":"political_discussion_board_user_profiles","mappingName":"political_discussion_board_user_follows_of_political_d_6b685a8f"},"type":"uuid","unique":false},{"description":"The user doing the following {@link political_discussion_board_user_profiles.id}","name":"political_discussion_board_user_profiles_id_follower","nullable":false,"relation":{"name":"followerUser","targetModel":"political_discussion_board_user_profiles","mappingName":"political_discussion_board_user_follows_of_political_d_c41b293d"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"political_discussion_board_user_follows","plainFields":[{"description":"Type of follow: general, content_only, urgent_notifications","name":"follow_type","nullable":false,"type":"string"},{"description":"When the follow relationship was established","name":"created_at","nullable":false,"type":"datetime"},{"description":"Whether both users follow each other back","name":"mutual_follow","nullable":false,"type":"boolean"},{"description":"Whether follower wants notifications about followed user's new content","name":"notifications_enabled","nullable":false,"type":"boolean"}],"plainIndexes":[{"fieldNames":["political_discussion_board_user_profiles_id","mutual_follow"]},{"fieldNames":["political_discussion_board_user_profiles_id_follower","notifications_enabled"]},{"fieldNames":["follow_type","created_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["political_discussion_board_user_profiles_id","political_discussion_board_user_profiles_id_follower"],"unique":true}]},{"description":"Content bookmarking system for users to save and organize interesting discussions and posts for later reference","foreignFields":[{"description":"User who bookmarked the content {@link political_discussion_board_user_profiles.id}","name":"political_discussion_board_user_profiles_id","nullable":false,"relation":{"name":"user","targetModel":"political_discussion_board_user_profiles"},"type":"uuid","unique":false},{"description":"Bookmarked post (exclusive with reply bookmarks)","name":"political_discussion_board_posts_id","nullable":true,"relation":{"name":"bookmarkedPost","targetModel":"political_discussion_board_posts"},"type":"uuid","unique":false},{"description":"Bookmarked reply (exclusive with post bookmarks)","name":"political_discussion_board_replies_id","nullable":true,"relation":{"name":"bookmarkedReply","targetModel":"political_discussion_board_replies"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"bookmark_title"},{"fieldName":"bookmark_description"},{"fieldName":"bookmark_category"}],"material":false,"name":"political_discussion_board_bookmarks","plainFields":[{"description":"Custom title users can set for personal organization","name":"bookmark_title","nullable":true,"type":"string"},{"description":"Optional note about why this was bookmarked","name":"bookmark_description","nullable":true,"type":"string"},{"description":"User-defined category for organizing bookmarks","name":"bookmark_category","nullable":true,"type":"string"},{"description":"When the bookmark was created","name":"created_at","nullable":false,"type":"datetime"},{"description":"When the bookmark was last modified","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Whether this is marked as a favorite bookmark","name":"is_favorite","nullable":false,"type":"boolean"},{"description":"How many times the user has accessed this bookmark","name":"access_count","nullable":false,"type":"int"},{"description":"When the user last accessed this bookmark","name":"last_accessed_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["political_discussion_board_user_profiles_id","bookmark_category"]},{"fieldNames":["is_favorite","last_accessed_at"]},{"fieldNames":["created_at","access_count"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["political_discussion_board_user_profiles_id","political_discussion_board_posts_id"],"unique":true},{"fieldNames":["political_discussion_board_user_profiles_id","political_discussion_board_replies_id"],"unique":true}]}]},{"filename":"schema-05-moderation.prisma","namespace":"Moderation","models":[{"description":"Content violation reports submitted by users to flag inappropriate content including posts, replies, or other community contributions","foreignFields":[{"description":"User who submitted the report. {@link political_discussion_board_member.id}","name":"reporter_id","nullable":false,"relation":{"name":"reporter","targetModel":"political_discussion_board_member","mappingName":"political_discussion_board_content_reports_of_reporter_id"},"type":"uuid","unique":false},{"description":"Author of the content being reported. {@link political_discussion_board_member.id}","name":"content_author_id","nullable":false,"relation":{"name":"contentAuthor","targetModel":"political_discussion_board_member","mappingName":"political_discussion_board_content_reports_of_content_author_id"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"description"}],"material":false,"name":"political_discussion_board_content_reports","plainFields":[{"description":"Type of content being reported (post, reply, attachment)","name":"content_type","nullable":false,"type":"string"},{"description":"Reference ID to the actual content item","name":"content_id","nullable":false,"type":"uuid"},{"description":"Primary category of violation (spam, harassment, misinformation, etc.)","name":"category","nullable":false,"type":"string"},{"description":"Assigned severity level (1-5) for prioritization","name":"severity","nullable":false,"type":"int"},{"description":"Detailed explanation of the violation","name":"description","nullable":false,"type":"string"},{"description":"Links to supporting evidence or screenshots","name":"evidence","nullable":true,"type":"string"},{"description":"Current status (pending, under_review, resolved, false_report)","name":"status","nullable":false,"type":"string"},{"description":"Explanation of resolution decision","name":"resolution","nullable":true,"type":"string"},{"description":"When the report was resolved","name":"resolution_date","nullable":true,"type":"datetime"},{"description":"When the report was submitted","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["status","severity","created_at"]},{"fieldNames":["category","status","created_at"]},{"fieldNames":["content_id","status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["reporter_id","content_type","content_id"],"unique":true}]},{"description":"Official actions taken by moderators including warnings, content removal, user restrictions, and bans","foreignFields":[{"description":"Moderator who performed the action. {@link political_discussion_board_moderator.id}","name":"moderator_id","nullable":false,"relation":{"name":"moderator","targetModel":"political_discussion_board_moderator"},"type":"uuid","unique":false},{"description":"User who received the moderation action. {@link political_discussion_board_member.id}","name":"target_user_id","nullable":true,"relation":{"name":"targetUser","targetModel":"political_discussion_board_member"},"type":"uuid","unique":false},{"description":"Associated content report if action resulted from user report. {@link political_discussion_board_content_reports.id}","name":"content_report_id","nullable":true,"relation":{"name":"contentReport","targetModel":"political_discussion_board_content_reports"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"reason"}],"material":false,"name":"political_discussion_board_moderation_actions","plainFields":[{"description":"Type of moderation action (warning, content_removal, temporary_suspension, permanent_ban, etc.)","name":"action_type","nullable":false,"type":"string"},{"description":"Type of content affected (post, reply, attachment, profile, user)","name":"content_type","nullable":false,"type":"string"},{"description":"Reference to specific content item or user","name":"content_id","nullable":true,"type":"uuid"},{"description":"Detailed explanation of why the action was taken","name":"reason","nullable":false,"type":"string"},{"description":"Action severity level (1-10) for escalation tracking","name":"severity","nullable":false,"type":"int"},{"description":"Duration in days for temporary actions (null for permanent actions)","name":"duration","nullable":true,"type":"int"},{"description":"When temporary restrictions expire","name":"effective_until","nullable":true,"type":"datetime"},{"description":"Previous warning that was escalated to this action","name":"escalated_from","nullable":true,"type":"uuid"},{"description":"Whether this action can be appealed","name":"is_appealable","nullable":false,"type":"boolean"},{"description":"Current status (active, expired, overturned)","name":"status","nullable":false,"type":"string"},{"description":"When the action was performed","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last status update","name":"updated_at","nullable":false,"type":"datetime"},{"description":"When the action automatically expires if temporary","name":"expires_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["action_type","status","created_at"]},{"fieldNames":["target_user_id","status","effective_until"]},{"fieldNames":["status","expires_at"]},{"fieldNames":["created_at","action_type"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[]},{"description":"User appeals against moderation actions including appeal review process and final decisions","foreignFields":[{"description":"User who filed the appeal. {@link political_discussion_board_member.id}","name":"appellant_id","nullable":false,"relation":{"name":"appellant","targetModel":"political_discussion_board_member"},"type":"uuid","unique":false},{"description":"Moderation action being appealed. {@link political_discussion_board_moderation_actions.id}","name":"moderation_action_id","nullable":false,"relation":{"name":"moderationAction","targetModel":"political_discussion_board_moderation_actions"},"type":"uuid","unique":false},{"description":"Moderator who reviewed the appeal. {@link political_discussion_board_moderator.id}","name":"reviewer_id","nullable":true,"relation":{"name":"reviewer","targetModel":"political_discussion_board_moderator"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"appeal_reason"}],"material":false,"name":"political_discussion_board_appeals","plainFields":[{"description":"Detailed explanation of why the moderation action should be overturned","name":"appeal_reason","nullable":false,"type":"string"},{"description":"Additional evidence or context that wasn't considered originally","name":"new_evidence","nullable":true,"type":"string"},{"description":"User acknowledgment of policy violation if applicable","name":"acknowledgment","nullable":true,"type":"string"},{"description":"Appeal status (pending, under_review, approved, rejected, dismissed)","name":"status","nullable":false,"type":"string"},{"description":"Internal notes from reviewer about decision process","name":"review_notes","nullable":true,"type":"string"},{"description":"Final decision outcome with detailed explanation","name":"decision","nullable":true,"type":"string"},{"description":"When the appeal decision was made","name":"decision_date","nullable":true,"type":"datetime"},{"description":"When the appeal was submitted","name":"filing_date","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["status","filing_date"]},{"fieldNames":["appellant_id","status"]},{"fieldNames":["decision_date"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["appellant_id","moderation_action_id"],"unique":true}]},{"description":"Centralized queue for organizing and prioritizing content moderation tasks across all moderation activities","foreignFields":[{"description":"Moderator currently assigned to handle this item. {@link political_discussion_board_moderator.id}","name":"assigned_moderator_id","nullable":true,"relation":{"name":"assignedModerator","targetModel":"political_discussion_board_moderator"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"notes"}],"material":false,"name":"political_discussion_board_moderation_queue","plainFields":[{"description":"Type of item in queue (content_report, flagged_user, pattern_match, manual_review)","name":"item_type","nullable":false,"type":"string"},{"description":"Reference ID to the actual item (report, user, pattern, etc.)","name":"item_id","nullable":false,"type":"uuid"},{"description":"Priority score (1-100) for queue ordering","name":"priority","nullable":false,"type":"int"},{"description":"Primary category for routing (harassment, spam, misinformation, policy)","name":"category","nullable":false,"type":"string"},{"description":"Queue status (waiting, assigned, in_progress, completed, escalated)","name":"status","nullable":false,"type":"string"},{"description":"Estimated effort in minutes for resolution","name":"estimated_effort","nullable":true,"type":"int"},{"description":"Due date based on SLA and priority","name":"deadline","nullable":false,"type":"datetime"},{"description":"Administrative notes and context","name":"notes","nullable":true,"type":"string"},{"description":"When item entered the queue","name":"created_at","nullable":false,"type":"datetime"},{"description":"When item was assigned to moderator","name":"assigned_at","nullable":true,"type":"datetime"},{"description":"When processing was completed","name":"completed_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["status","priority","deadline"]},{"fieldNames":["category","status","priority"]},{"fieldNames":["assigned_at","created_at"]},{"fieldNames":["deadline"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["item_type","item_id"],"unique":true},{"fieldNames":["assigned_moderator_id","item_id"],"unique":true}]},{"description":"Catalog of specific policy violations and community standards used for categorizing infractions and tracking enforcement patterns","foreignFields":[{"description":"Parent category for hierarchical violation organization. {@link political_discussion_board_policy_violations.id}","name":"parent_violation_id","nullable":true,"relation":{"name":"parentViolation","targetModel":"political_discussion_board_policy_violations","mappingName":"recursive"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"description"}],"material":false,"name":"political_discussion_board_policy_violations","plainFields":[{"description":"Unique identifier for policy violation category (H1, D3, M2 format)","name":"code","nullable":false,"type":"string"},{"description":"Human-readable name of the policy violation","name":"name","nullable":false,"type":"string"},{"description":"Detailed description of what constitutes this violation","name":"description","nullable":false,"type":"string"},{"description":"Primary category (harassment, spam, misinformation, hate, etc.)","name":"category","nullable":false,"type":"string"},{"description":"Default severity level (1-5) for automatic categorization","name":"severity_level","nullable":false,"type":"int"},{"description":"Default first action for this violation type","name":"first_action","nullable":false,"type":"string"},{"description":"Whether repeated violations escalate severity","name":"repeat_escalation","nullable":false,"type":"boolean"},{"description":"Whether violations of this type can be appealed","name":"requires_appeal","nullable":false,"type":"boolean"},{"description":"Whether this violation type is currently enforced","name":"is_active","nullable":false,"type":"boolean"},{"description":"When this violation category was established","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification time","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["category","severity_level"]},{"fieldNames":["is_active","category"]},{"fieldNames":["parent_violation_id"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["code"],"unique":true},{"fieldNames":["name"],"unique":true}]}]},{"filename":"schema-06-media.prisma","namespace":"Media","models":[{"name":"political_discussion_board_attachments","description":"File attachment management system for user content including posts, replies, and user profiles. Handles file validation, storage management, and access control with support for multiple attachment types within size constraints.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"uploaded_by_id","type":"uuid","description":"The member who uploaded this attachment. References user who owns the file attachment.","relation":{"name":"uploadedBy","targetModel":"political_discussion_board_member"},"unique":false,"nullable":false},{"name":"political_discussion_board_post_id","type":"uuid","description":"Associated post when attachment belongs to a main discussion topic.","relation":{"name":"post","targetModel":"political_discussion_board_posts"},"unique":false,"nullable":true},{"name":"political_discussion_board_reply_id","type":"uuid","description":"Associated reply when attachment belongs to a comment or reply in discussions.","relation":{"name":"reply","targetModel":"political_discussion_board_replies"},"unique":false,"nullable":true},{"name":"political_discussion_board_content_snapshot_id","type":"uuid","description":"Associated content snapshot when attachment is part of historical content preservation.","relation":{"name":"contentSnapshot","targetModel":"political_discussion_board_content_snapshots"},"unique":false,"nullable":true}],"plainFields":[{"name":"file_name","type":"string","description":"Original filename provided by the user for attachment identification.","nullable":false},{"name":"file_size","type":"int","description":"File size in bytes for storage tracking and quota management.","nullable":false},{"name":"mime_type","type":"string","description":"MIME type for file format identification and browser handling.","nullable":false},{"name":"file_hash","type":"string","description":"SHA256 hash for duplicate detection and integrity verification.","nullable":false},{"name":"storage_path","type":"string","description":"Internal storage path or object key in cloud storage system.","nullable":false},{"name":"download_count","type":"int","description":"Number of times the attachment has been downloaded for analytics.","nullable":false},{"name":"business_status","type":"string","description":"Business processing status: pending, approved, rejected, processing for approval workflows.","nullable":false},{"name":"is_virus_scanned","type":"boolean","description":"Whether the file has passed malware scanning security checks.","nullable":false},{"name":"scan_status","type":"string","description":"Malware scan status: clean, suspicious, infected, not_scanned for security tracking.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the attachment was first uploaded to the system.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the attachment record was last modified.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft delete timestamp for attachment removal while preserving referential integrity.","nullable":true}],"uniqueIndexes":[{"fieldNames":["file_hash"],"unique":true},{"fieldNames":["storage_path"],"unique":true}],"plainIndexes":[{"fieldNames":["uploaded_by_id","created_at"]},{"fieldNames":["business_status","created_at"]},{"fieldNames":["mime_type","created_at"]},{"fieldNames":["scan_status","created_at"]}],"ginIndexes":[{"fieldName":"file_name"}]},{"name":"political_discussion_board_file_metadata","description":"Comprehensive metadata storage for all file types including EXIF data, technical specifications, and content analysis. Provides detailed technical information for search, categorization, and processing workflows.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"attachment_id","type":"uuid","description":"The associated attachment this metadata describes. Links to parent file object.","relation":{"name":"attachment","targetModel":"political_discussion_board_attachments"},"unique":true,"nullable":false}],"plainFields":[{"name":"width","type":"int","description":"Image width in pixels for image attachments, null for other file types.","nullable":true},{"name":"height","type":"int","description":"Image height in pixels for image attachments, null for other file types.","nullable":true},{"name":"duration","type":"int","description":"Media duration in seconds for audio/video files, null for other types.","nullable":true},{"name":"bit_rate","type":"int","description":"Audio/video bit rate in kilobits per second for quality assessment.","nullable":true},{"name":"codec","type":"string","description":"Video or audio codec used in media files for compatibility checking.","nullable":true},{"name":"color_space","type":"string","description":"Color space information for images and videos for processing purposes.","nullable":true},{"name":"camera_make","type":"string","description":"Camera manufacturer from EXIF data for photography uploads.","nullable":true},{"name":"camera_model","type":"string","description":"Specific camera model from EXIF data for detailed equipment info.","nullable":true},{"name":"focal_length","type":"string","description":"Focal length information from EXIF for photography context.","nullable":true},{"name":"iso_speed","type":"int","description":"ISO speed rating from EXIF for photography analysis.","nullable":true},{"name":"capture_date","type":"datetime","description":"Original capture timestamp from EXIF or file creation date.","nullable":true},{"name":"gps_latitude","type":"double","description":"GPS latitude from EXIF for location-based content tagging.","nullable":true},{"name":"gps_longitude","type":"double","description":"GPS longitude from EXIF for location-based content tagging.","nullable":true},{"name":"description","type":"string","description":"User-provided description or automatically extracted text content.","nullable":true},{"name":"tags","type":"string","description":"Comma-separated tags for content categorization and search optimization.","nullable":true},{"name":"language","type":"string","description":"Detected language for text content in documents or image OCR results.","nullable":true},{"name":"word_count","type":"int","description":"Counted words in text-based documents for content analysis.","nullable":true},{"name":"page_count","type":"int","description":"Total pages in document files for navigation and preview generation.","nullable":true},{"name":"has_text_layer","type":"boolean","description":"Whether document contains searchable text layer for indexing.","nullable":false},{"name":"ocr_confidence","type":"double","description":"Confidence score for OCR text extraction accuracy percentage.","nullable":true},{"name":"ai_analysis_score","type":"double","description":"AI content analysis confidence for automated categorization.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when metadata was extracted and stored.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when metadata record was last modified.","nullable":false}],"uniqueIndexes":[{"fieldNames":["attachment_id"],"unique":true}],"plainIndexes":[{"fieldNames":["width","height"]},{"fieldNames":["capture_date"]},{"fieldNames":["gps_latitude","gps_longitude"]},{"fieldNames":["language","ai_analysis_score"]},{"fieldNames":["has_text_layer","page_count"]}],"ginIndexes":[{"fieldName":"description"},{"fieldName":"tags"}]},{"name":"political_discussion_board_image_processing","description":"Image processing workflow tracking for thumbnail generation, format conversion, and optimization. Manages processing pipeline for various image sizes and formats needed for web delivery.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"attachment_id","type":"uuid","description":"The attachment being processed for image transformations and optimizations.","relation":{"name":"attachment","targetModel":"political_discussion_board_attachments"},"unique":false,"nullable":false}],"plainFields":[{"name":"processing_status","type":"string","description":"Current status: pending, processing, completed, failed for workflow tracking.","nullable":false},{"name":"original_format","type":"string","description":"Original image file format before processing for version tracking.","nullable":false},{"name":"target_formats","type":"string","description":"JSON array of target formats: webp, avif, jpeg for multi-format delivery.","nullable":false},{"name":"size_variant","type":"string","description":"Size variant being processed: original, large, medium, small, thumbnail.","nullable":false},{"name":"width_pixels","type":"int","description":"Target width in pixels for this specific processing variant.","nullable":false},{"name":"height_pixels","type":"int","description":"Target height in pixels for this specific processing variant.","nullable":false},{"name":"quality_percentage","type":"int","description":"JPEG quality setting percentage for compression optimization.","nullable":false},{"name":"processing_started_at","type":"datetime","description":"Timestamp when processing began for performance monitoring.","nullable":true},{"name":"processing_completed_at","type":"datetime","description":"Timestamp when processing finished successfully.","nullable":true},{"name":"processing_duration_seconds","type":"int","description":"Calculated processing time in seconds for workflow optimization.","nullable":true},{"name":"output_file_size","type":"int","description":"Final processed file size in bytes for delivery optimization.","nullable":true},{"name":"error_message","type":"string","description":"Error details if processing failed for debugging and retry logic.","nullable":true},{"name":"retry_count","type":"int","description":"Number of processing attempts for resilience and monitoring.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when this processing job was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when processing status or results were last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["attachment_id","size_variant","target_formats"],"unique":true}],"plainIndexes":[{"fieldNames":["attachment_id","processing_status"]},{"fieldNames":["processing_started_at"]},{"fieldNames":["processing_completed_at"]},{"fieldNames":["quality_percentage","width_pixels"]}],"ginIndexes":[]},{"name":"political_discussion_board_content_delivery","description":"Content delivery network optimization and geographic distribution tracking. Manages CDN endpoints, caching policies, and performance monitoring for global content delivery.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"attachment_id","type":"uuid","description":"The content attachment being delivered through CDN infrastructure.","relation":{"name":"attachment","targetModel":"political_discussion_board_attachments"},"unique":false,"nullable":false}],"plainFields":[{"name":"cdn_provider","type":"string","description":"Content delivery network provider: cloudflare, fastly, akamai, aws_cloudfront.","nullable":false},{"name":"edge_location","type":"string","description":"Geographic edge location code for optimal content delivery routing.","nullable":false},{"name":"cache_status","type":"string","description":"Current cache status: hit, miss, expired, invalidating for delivery tracking.","nullable":false},{"name":"cache_duration_seconds","type":"int","description":"Configured cache duration in seconds for CDN optimization settings.","nullable":false},{"name":"content_encoding","type":"string","description":"Content encoding like gzip, br, deflate for optimal delivery compression.","nullable":true},{"name":"content_type","type":"string","description":"MIME type served by CDN may vary from original for optimization.","nullable":false},{"name":"response_time_ms","type":"int","description":"Measured response time in milliseconds for performance monitoring.","nullable":true},{"name":"transfer_bytes","type":"int","description":"Total bytes transferred including compression and encoding overhead.","nullable":true},{"name":"hit_count","type":"int","description":"Number of cache hits for this delivery endpoint and optimization.","nullable":false},{"name":"miss_count","type":"int","description":"Number of cache misses requiring origin server fetching.","nullable":false},{"name":"last_accessed_at","type":"datetime","description":"Most recent access timestamp for cache lifecycle management.","nullable":true},{"name":"user_region","type":"string","description":"Geographic region of accessing user for performance analytics.","nullable":true},{"name":"network_type","type":"string","description":"Network type: residential, mobile, enterprise for delivery optimization.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when this delivery configuration was created.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when delivery metrics were last updated.","nullable":false}],"uniqueIndexes":[{"fieldNames":["attachment_id","cdn_provider","edge_location"],"unique":true}],"plainIndexes":[{"fieldNames":["edge_location","cache_status"]},{"fieldNames":["user_region","cache_status"]},{"fieldNames":["last_accessed_at"]},{"fieldNames":["response_time_ms"]}],"ginIndexes":[]}]},{"filename":"schema-07-session.prisma","namespace":"Session","models":[{"name":"political_discussion_board_sessions","description":"User authentication sessions managing login state across the platform with enhanced security tracking and business logic support for the political discussion board's multi-tier user system.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"The user's {@link political_discussion_board_member.id} who owns this session, supporting all user types through unified member model.","nullable":false,"relation":{"name":"user","targetModel":"political_discussion_board_member"},"unique":false}],"plainFields":[{"name":"session_token","type":"string","description":"Cryptographically secure session token for authentication with high entropy generation.","nullable":false},{"name":"user_agent","type":"string","description":"Browser or client user agent for device fingerprinting and security analysis.","nullable":true},{"name":"expires_at","type":"datetime","description":"Timestamp when session expires, with automatic cleanup processes for expired sessions.","nullable":false},{"name":"last_activity_at","type":"datetime","description":"Timestamp of last authenticated activity for session timeout management.","nullable":false},{"name":"is_active","type":"boolean","description":"Whether session is currently valid for authentication, enabling session revocation.","nullable":false},{"name":"session_type","type":"string","description":"Type of session: web, mobile, api, admin for different access patterns and security levels.","nullable":false},{"name":"business_status","type":"string","description":"Business status: active, suspended, expired, revoked for session lifecycle management.","nullable":false},{"name":"login_method","type":"string","description":"Authentication method used: password, oauth, mfa for security tracking and compliance.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when session was created for audit trails and session duration tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when session was last updated for activity monitoring and security analysis.","nullable":false}],"uniqueIndexes":[{"fieldNames":["session_token"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id","is_active"]},{"fieldNames":["expires_at","is_active"]},{"fieldNames":["last_activity_at","is_active"]},{"fieldNames":["session_type","business_status"]}],"ginIndexes":[]},{"name":"political_discussion_board_access_tokens","description":"OAuth2-style access tokens for API authentication with enhanced security features and business logic support for premium authentication tiers.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"The member user's {@link political_discussion_board_member.id} who owns this access token.","nullable":false,"relation":{"name":"user","targetModel":"political_discussion_board_member"},"unique":false},{"name":"session_id","type":"uuid","description":"The session's {@link political_discussion_board_sessions.id} that this access token is linked to for token lifecycle management.","nullable":true,"relation":{"name":"session","targetModel":"political_discussion_board_sessions"},"unique":false}],"plainFields":[{"name":"token_hash","type":"string","description":"Hashed access token for secure storage and verification with cryptographic hashing.","nullable":false},{"name":"scopes","type":"string","description":"Comma-separated permission scopes granted to this token for fine-grained API access control.","nullable":false},{"name":"expires_at","type":"datetime","description":"Timestamp when access token expires with automatic cleanup and renewal processes.","nullable":false},{"name":"is_revoked","type":"boolean","description":"Whether token has been manually revoked before expiration for security incident response.","nullable":false},{"name":"token_type","type":"string","description":"Token type: bearer, jwt for different authentication schemes and security levels.","nullable":false},{"name":"business_status","type":"string","description":"Business status: active, expired, revoked, suspended for token lifecycle tracking.","nullable":false},{"name":"rate_limit_tier","type":"int","description":"API rate limiting tier (1-5) based on user subscription level for premium feature support.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when access token was created for security audits and token lifecycle management.","nullable":false},{"name":"last_used_at","type":"datetime","description":"Timestamp when token was last used for activity monitoring and security analysis.","nullable":true},{"name":"updated_at","type":"datetime","description":"Timestamp when token was last updated for revocation tracking and security monitoring.","nullable":false}],"uniqueIndexes":[{"fieldNames":["token_hash"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id","is_revoked"]},{"fieldNames":["expires_at","is_revoked"]},{"fieldNames":["session_id","is_revoked"]},{"fieldNames":["token_type","business_status"]}],"ginIndexes":[]},{"name":"political_discussion_board_refresh_tokens","description":"OAuth2 refresh tokens for seamless re-authentication with enhanced security features and business logic support for premium user tiers.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"access_token_id","type":"uuid","description":"The access token's {@link political_discussion_board_access_tokens.id} that this refresh token is linked to for token lifecycle management.","relation":{"name":"accessToken","targetModel":"political_discussion_board_access_tokens"},"unique":true,"nullable":false},{"name":"user_id","type":"uuid","description":"The member user's {@link political_discussion_board_member.id} who owns this refresh token for unified authentication.","relation":{"name":"user","targetModel":"political_discussion_board_member"},"unique":false,"nullable":false}],"plainFields":[{"name":"token_hash","type":"string","description":"Hashed refresh token for secure storage and verification with cryptographic protection.","nullable":false},{"name":"expires_at","type":"datetime","description":"Timestamp when refresh token expires with automatic cleanup and rotation processes.","nullable":false},{"name":"is_revoked","type":"boolean","description":"Whether refresh token has been manually revoked for security incident response and user logout.","nullable":false},{"name":"rotation_count","type":"int","description":"Number of times this token has been rotated for security tracking and token lifecycle management.","nullable":false},{"name":"business_status","type":"string","description":"Business status: active, rotated, revoked, expired for refresh token lifecycle tracking.","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when refresh token was created for security audits and token age tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when refresh token was last updated for rotation tracking and security monitoring.","nullable":false}],"uniqueIndexes":[{"fieldNames":["token_hash"],"unique":true}],"plainIndexes":[{"fieldNames":["user_id","is_revoked"]},{"fieldNames":["expires_at","is_revoked"]},{"fieldNames":["business_status","rotation_count"]}],"ginIndexes":[]},{"name":"political_discussion_board_multi_factor_auth","description":"Multi-factor authentication records for enhanced security with support for various 2FA methods including TOTP, SMS, and hardware tokens with business logic for premium user tiers.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"The member user's {@link political_discussion_board_member.id} who owns this MFA configuration for unified authentication.","relation":{"name":"user","targetModel":"political_discussion_board_member"},"unique":true,"nullable":false}],"plainFields":[{"name":"method_type","type":"string","description":"Type of MFA method: totp, sms, hardware, backup_codes for different security levels.","nullable":false},{"name":"secret_encrypted","type":"string","description":"Encrypted secret key for TOTP or hardware token setup with secure encryption.","nullable":true},{"name":"phone_number","type":"string","description":"Phone number for SMS-based MFA stored in E.164 format with privacy protection.","nullable":true},{"name":"backup_codes","type":"string","description":"Comma-separated backup codes for account recovery with secure generation.","nullable":true},{"name":"is_enabled","type":"boolean","description":"Whether MFA is currently enabled for this user with immediate effect on authentication.","nullable":false},{"name":"is_verified","type":"boolean","description":"Whether the MFA method has been successfully verified through setup process.","nullable":false},{"name":"verification_attempts","type":"int","description":"Number of verification attempts during setup process for security monitoring.","nullable":false},{"name":"backup_codes_used","type":"int","description":"Number of backup codes that have been consumed for security tracking and account recovery.","nullable":false},{"name":"last_used_at","type":"datetime","description":"Timestamp when MFA was last used for activity monitoring and security analysis.","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when MFA configuration was created for audit trails and setup tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when MFA configuration was last updated for status changes and security monitoring.","nullable":false}],"uniqueIndexes":[{"fieldNames":["user_id"],"unique":true}],"plainIndexes":[{"fieldNames":["method_type","is_enabled"]},{"fieldNames":["is_verified","is_enabled"]}],"ginIndexes":[]},{"name":"political_discussion_board_login_attempts","description":"Security audit log of login attempts for account protection and intrusion detection. Tracks both successful and failed authentication attempts with detailed context for security analysis.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_id","type":"uuid","description":"The member user's {@link political_discussion_board_members.id} associated with this login attempt when identified.","relation":{"name":"user","targetModel":"political_discussion_board_member"},"unique":false,"nullable":true},{"name":"ip_address_id","type":"uuid","description":"Reference to IP address configuration for security analysis and geographic tracking.","relation":{"name":"ipAddress","targetModel":"political_discussion_board_system_config"},"unique":false,"nullable":true}],"plainFields":[{"name":"username_attempted","type":"string","description":"Username or email attempted during login for failed attempt analysis and account enumeration protection.","nullable":true},{"name":"ip_address","type":"string","description":"IP address from which login attempt originated for security tracking and rate limiting.","nullable":false},{"name":"user_agent","type":"string","description":"Browser or client user agent string for device identification and security fingerprinting.","nullable":true},{"name":"was_successful","type":"boolean","description":"Whether this login attempt was successful for security monitoring and intrusion detection.","nullable":false},{"name":"failure_reason","type":"string","description":"Reason for login failure: invalid_credentials, account_locked, mfa_required for security analysis.","nullable":true},{"name":"attempt_number","type":"int","description":"Sequential attempt number for this IP/user combination for rate limiting and security analysis.","nullable":false},{"name":"geographic_location","type":"string","description":"Geographic location derived from IP for security analysis and anomaly detection.","nullable":true},{"name":"risk_score","type":"int","description":"Security risk score (1-100) based on patterns, location, and attempt characteristics.","nullable":false},{"name":"is_suspicious","type":"boolean","description":"Whether this attempt has been flagged as suspicious for security monitoring and investigation.","nullable":false},{"name":"attempted_at","type":"datetime","description":"Timestamp when login attempt was made for timeline analysis and rate limiting.","nullable":false},{"name":"additional_context","type":"string","description":"Additional JSON-encoded context for security analysis including device fingerprinting data.","nullable":true}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["user_id","attempted_at"]},{"fieldNames":["ip_address","attempted_at"]},{"fieldNames":["was_successful","attempted_at"]},{"fieldNames":["is_suspicious","risk_score"]},{"fieldNames":["username_attempted","attempted_at"]}],"ginIndexes":[]}]}]}