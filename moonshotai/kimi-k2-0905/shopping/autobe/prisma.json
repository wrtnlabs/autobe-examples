{"files":[{"filename":"schema-01-systematic.prisma","namespace":"Systematic","models":[{"description":"Marketplace channel configuration defining different sales channels or storefronts within the multi-vendor shopping mall platform. Channels organize sellers and products into distinct market segments or geographic regions.","foreignFields":[],"ginIndexes":[],"material":false,"name":"shopping_mall_channels","plainFields":[{"description":"Unique channel identifier code used for system reference and URL generation.","name":"code","nullable":false,"type":"string"},{"description":"Display name of the channel shown to customers and sellers in the marketplace.","name":"name","nullable":false,"type":"string"},{"description":"Detailed description explaining the channel's purpose, target audience, and business model.","name":"description","nullable":true,"type":"string"},{"description":"Indicates if this is the primary/default channel for the platform.","name":"primary","nullable":false,"type":"boolean"},{"description":"Specifies whether seller participation in this channel is mandatory or optional.","name":"required","nullable":false,"type":"boolean"},{"description":"Determines if sellers can only participate in this channel or multiple channels simultaneously.","name":"exclusive","nullable":false,"type":"boolean"},{"description":"Channel operational status indicating active, inactive, or maintenance modes.","name":"status","nullable":false,"type":"string"},{"description":"Configures whether channel settings multiply with other configuration parameters or override them.","name":"multiplicative","nullable":false,"type":"boolean"},{"description":"Timestamp when the channel configuration was created.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Timestamp when the channel configuration was last modified.","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["primary","status"]},{"fieldNames":["created_at"]},{"fieldNames":["status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["code"],"unique":true}]},{"description":"Content sections for organizing marketplace features, content blocks, and navigation elements within the platform. Sections provide logical groupings for UI components and functionality organization.","foreignFields":[{"description":"Parent section's {@link shopping_mall_sections.id} for hierarchical section organization.","name":"parent_id","nullable":true,"relation":{"mappingName":"recursive","name":"parent","targetModel":"shopping_mall_sections"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_sections","plainFields":[{"description":"Unique section identifier code used for system reference and navigation routing.","name":"code","nullable":false,"type":"string"},{"description":"Display name of the section shown in navigation and administrative interfaces.","name":"name","nullable":false,"type":"string"},{"description":"Section title used for display headers and SEO optimization in content areas.","name":"title","nullable":false,"type":"string"},{"description":"Detailed description explaining the section's content and organizational purpose.","name":"description","nullable":true,"type":"string"},{"description":"Display order position for sections within their parent container or navigation structure.","name":"sequence","nullable":false,"type":"int"},{"description":"Indicates if this section contains restricted administrative or system-level content.","name":"secret","nullable":false,"type":"boolean"},{"description":"Timestamp when the section was created.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Timestamp when the section was last modified.","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["parent_id","sequence"]},{"fieldNames":["sequence"]},{"fieldNames":["secret"]},{"fieldNames":["created_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["code"],"unique":true}]},{"description":"System-wide configuration settings controlling platform behavior, feature flags, integration parameters, and operational rules across the entire shopping mall marketplace.","foreignFields":[{"description":"Channel's {@link shopping_mall_channels.id} this configuration applies to, or null for global settings.","name":"channel_id","nullable":true,"relation":{"name":"channel","targetModel":"shopping_mall_channels"},"type":"uuid","unique":false},{"description":"Section's {@link shopping_mall_sections.id} this configuration belongs to, or null for system-wide settings.","name":"section_id","nullable":true,"relation":{"name":"section","targetModel":"shopping_mall_sections"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_configurations","plainFields":[{"description":"Unique configuration key code used for programmatic reference and system integration.","name":"code","nullable":false,"type":"string"},{"description":"Human-readable name describing the configuration setting's purpose and functionality.","name":"name","nullable":false,"type":"string"},{"description":"Detailed explanation of the configuration setting, its impact, and recommended values.","name":"description","nullable":true,"type":"string"},{"description":"Configuration value stored as string for maximum flexibility across different data types.","name":"value","nullable":false,"type":"string"},{"description":"Indicates if this configuration parameter is mandatory for system operation.","name":"required","nullable":false,"type":"boolean"},{"description":"Specifies whether configuration values combine mathematically with other settings or act as absolute values.","name":"multiplicative","nullable":false,"type":"boolean"},{"description":"Display order for configuration settings within groups or administrative interfaces.","name":"sequence","nullable":false,"type":"int"},{"description":"Timestamp when the configuration was created.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Timestamp when the configuration was last modified.","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["channel_id","section_id","sequence"]},{"fieldNames":["section_id","sequence"]},{"fieldNames":["sequence"]},{"fieldNames":["created_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["channel_id","section_id","code"],"unique":true}]},{"description":"System audit logs recording platform activities, user actions, administrative changes, errors, and operational events for compliance, troubleshooting, and system monitoring purposes.","foreignFields":[{"description":"Channel's {@link shopping_mall_channels.id} where the logged event occurred, if applicable.","name":"channel_id","nullable":true,"relation":{"name":"channel","targetModel":"shopping_mall_channels"},"type":"uuid","unique":false},{"description":"Section's {@link shopping_mall_sections.id} related to the logged event, if applicable.","name":"section_id","nullable":true,"relation":{"name":"section","targetModel":"shopping_mall_sections"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_system_logs","plainFields":[{"description":"Log event type code identifying the specific system action or event that occurred.","name":"code","nullable":false,"type":"string"},{"description":"Human-readable title describing the logged event for quick identification.","name":"title","nullable":false,"type":"string"},{"description":"Detailed event description containing context, parameters, and relevant data.","name":"body","nullable":true,"type":"string"},{"description":"IP address from which the logged action originated, for security and auditing purposes.","name":"ip","nullable":true,"type":"string"},{"description":"Timestamp when the system log entry was created.","name":"created_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["channel_id","code","created_at"]},{"fieldNames":["section_id","code","created_at"]},{"fieldNames":["code","created_at"]},{"fieldNames":["ip","created_at"]},{"fieldNames":["created_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[]}]},{"filename":"schema-02-actors.prisma","namespace":"Actors","models":[{"description":"Customer accounts representing registered users who can browse products, manage shopping carts, place orders, write reviews, and maintain multiple shipping addresses. Customers have complete e-commerce lifecycle access including wishlist management and personalized recommendations.","foreignFields":[{"description":"Related {@link shopping_mall_user_profiles.id} containing comprehensive customer profile information.","name":"user_profile_id","nullable":false,"relation":{"mappingName":"shopping_mall_customers_of_user_profile_id","name":"userProfile","targetModel":"shopping_mall_user_profiles"},"type":"uuid","unique":true},{"description":"Customer's default shipping address for checkout convenience.","name":"shipping_address_id","nullable":true,"relation":{"mappingName":"shopping_mall_customers_of_shipping_address_id","name":"shippingAddress","targetModel":"shopping_mall_user_profiles"},"type":"uuid","unique":false},{"description":"Customer's default billing address for payment processing.","name":"billing_address_id","nullable":true,"relation":{"mappingName":"shopping_mall_customers_of_billing_address_id","name":"billingAddress","targetModel":"shopping_mall_user_profiles"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"nickname"}],"material":false,"name":"shopping_mall_customers","plainFields":[{"description":"Customer email address used for authentication and communication. Must be unique across the platform.","name":"email","nullable":false,"type":"string"},{"description":"Timestamp of email verification completion for security confirmation.","name":"email_verified_at","nullable":true,"type":"datetime"},{"description":"Customer display name visible to other users and in communications.","name":"nickname","nullable":false,"type":"string"},{"description":"Customer phone number for order notifications, delivery coordination, and account verification.","name":"phone","nullable":true,"type":"string"},{"description":"Timestamp of phone verification completion for secure communication.","name":"phone_verified_at","nullable":true,"type":"datetime"},{"description":"Bcrypt-hashed password for secure authentication supporting complex password requirements.","name":"password_hash","nullable":false,"type":"string"},{"description":"Account verification status indicating email confirmation, phone verification, and identity validation progress.","name":"verification_status","nullable":false,"type":"string"},{"description":"Timestamp of customer's most recent platform login used for activity tracking and session management.","name":"last_login_at","nullable":true,"type":"datetime"},{"description":"Customer account operational status: active, suspended, closed.","name":"account_status","nullable":false,"type":"string"},{"description":"Account creation timestamp for customer lifecycle tracking and business analytics.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last account modification timestamp tracking profile changes and business information updates.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Account soft deletion timestamp enabling customer recovery while maintaining data integrity for order history.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["phone"]},{"fieldNames":["verification_status"]},{"fieldNames":["last_login_at"]},{"fieldNames":["created_at"]},{"fieldNames":["account_status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["email"],"unique":true},{"fieldNames":["user_profile_id"],"unique":true}]},{"name":"shopping_mall_sellers","description":"Seller accounts representing businesses and vendors who can manage product catalogs, track inventory, process orders, and operate their own digital storefronts within the marketplace ecosystem.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"user_profile_id","type":"uuid","description":"Related {@link shopping_mall_user_profiles.id} containing comprehensive seller profile information.","relation":{"name":"userProfile","targetModel":"shopping_mall_user_profiles"},"unique":true,"nullable":false}],"plainFields":[{"name":"business_email","type":"string","description":"Business email address for seller authentication and professional communication.","nullable":false},{"name":"business_name","type":"string","description":"Official business name registered with appropriate authorities for marketplace verification.","nullable":false},{"name":"password_hash","type":"string","description":"Bcrypt-hashed password providing secure access to seller dashboard and business operations.","nullable":false},{"name":"tax_id","type":"string","description":"Government-issued tax identification number for business verification and compliance reporting.","nullable":false},{"name":"business_phone","type":"string","description":"Primary business contact phone for customer service and payment processing communication.","nullable":true},{"name":"verification_status","type":"string","description":"Business verification status tracking through document validation, license confirmation, and banking verification.","nullable":false},{"name":"account_status","type":"string","description":"Seller account operational status controlling marketplace visibility and selling privileges.","nullable":false},{"name":"is_active","type":"boolean","description":"Business active status determining storefront visibility and order processing capabilities.","nullable":false},{"name":"join_date","type":"datetime","description":"Seller registration date for business relationship tracking and marketplace growth analytics.","nullable":false},{"name":"last_login_at","type":"datetime","description":"Most recent seller dashboard access timestamp for activity monitoring and security auditing.","nullable":true},{"name":"created_at","type":"datetime","description":"Seller account creation timestamp for business analytics and regulatory compliance.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last business information update tracking changes for compliance and audit purposes.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Business account suspension timestamp enabling recovery analysis while maintaining transaction history.","nullable":true}],"uniqueIndexes":[{"fieldNames":["business_email"],"unique":true},{"fieldNames":["tax_id"],"unique":true}],"plainIndexes":[{"fieldNames":["verification_status"]},{"fieldNames":["account_status"]},{"fieldNames":["join_date"]}],"ginIndexes":[{"fieldName":"business_name"}]},{"description":"Administrator accounts with platform oversight capabilities including user management, content moderation, financial monitoring, system configuration, and comprehensive reporting access for marketplace operations.","foreignFields":[{"description":"Related {@link shopping_mall_user_profiles.id} containing comprehensive administrator profile information.","name":"user_profile_id","nullable":false,"relation":{"name":"userProfile","targetModel":"shopping_mall_user_profiles"},"type":"uuid","unique":true}],"ginIndexes":[],"material":false,"name":"shopping_mall_administrators","plainFields":[{"description":"Administrator email address for secure login and administrative notifications.","name":"email","nullable":false,"type":"string"},{"description":"Bcrypt-hashed password with enhanced security requirements for administrative account protection.","name":"password_hash","nullable":false,"type":"string"},{"description":"Administrative role designation determining system access permissions and operational responsibilities.","name":"admin_role","nullable":false,"type":"string"},{"description":"Organizational department assignment for role-based access control and internal communication routing.","name":"department","nullable":true,"type":"string"},{"description":"Granular permission configuration defining specific administrative capabilities and data access restrictions.","name":"permissions","nullable":false,"type":"string"},{"description":"Super administrator privileges enabling unrestricted platform access and critical configuration changes.","name":"is_super_admin","nullable":false,"type":"boolean"},{"description":"Administrator account active status controlling platform management capabilities and sensitive operation access.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Last administrative dashboard access timestamp for security monitoring and activity auditing.","name":"last_login_at","nullable":true,"type":"datetime"},{"description":"Administrator account creation timestamp for organizational tracking and security audit purposes.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last administrative permission update timestamp tracking access changes for security compliance.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Administrator account deactivation timestamp maintaining audit trail while disabling management access.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["admin_role"]},{"fieldNames":["is_super_admin"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["email"],"unique":true}]},{"description":"Guest user tracking for temporary shopping experiences enabling product browsing, cart management, and anonymous session persistence while maintaining privacy and data minimization standards for unregistered platform visitors.","foreignFields":[{"description":"Related {@link shopping_mall_user_profiles.id} containing temporary guest profile information.","name":"user_profile_id","nullable":false,"relation":{"name":"userProfile","targetModel":"shopping_mall_user_profiles"},"type":"uuid","unique":true}],"ginIndexes":[],"material":false,"name":"shopping_mall_guests","plainFields":[{"description":"Temporary session identifier for guest user tracking and cart persistence across page visits.","name":"session_id","nullable":false,"type":"string"},{"description":"Visitor IP address for session management and basic geographic analysis while respecting privacy regulations.","name":"ip_address","nullable":false,"type":"string"},{"description":"Browser user agent information enabling session management and device recognition for guest experience optimization.","name":"user_agent","nullable":true,"type":"string"},{"description":"Guest session expiration timestamp enabling automatic cleanup while preserving user data during authorized periods.","name":"expires_at","nullable":false,"type":"datetime"},{"description":"Guest session active status for cart operations and temporary feature access control.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Most recent guest interaction timestamp for session lifetime management and data cleanup scheduling.","name":"last_activity_at","nullable":true,"type":"datetime"},{"description":"Guest session creation timestamp for anonymous shopping analytics and session duration tracking.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last guest interaction tracking for session renewal and activity monitoring during anonymous browsing.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Guest session cleanup timestamp enabling data minimization while maintaining privacy compliance standards.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["ip_address"]},{"fieldNames":["is_active"]},{"fieldNames":["expires_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["session_id"],"unique":true}]},{"description":"User authentication session management tracking login sessions across devices and browsers with comprehensive security monitoring, access control, and automatic session cleanup for enhanced platform security and user experience management.","foreignFields":[{"description":"Related customer's {@link shopping_mall_customers.id} when session belongs to a registered customer.","name":"shopping_mall_customer_id","nullable":true,"relation":{"name":"customer","targetModel":"shopping_mall_customers"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_user_sessions","plainFields":[{"description":"Secure session token for authentication validation and API access authorization while maintaining security standards.","name":"session_token","nullable":false,"type":"string"},{"description":"JWT refresh token enabling extended session duration without repeated authentication challenges.","name":"refresh_token","nullable":true,"type":"string"},{"description":"Device and browser information for session identification across multiple access points and security monitoring.","name":"device_info","nullable":true,"type":"string"},{"description":"Session IP address for security monitoring and geolocation tracking while respecting user privacy requirements.","name":"ip_address","nullable":false,"type":"string"},{"description":"Browser user agent providing device and platform information for session management and analytics.","name":"user_agent","nullable":true,"type":"string"},{"description":"Session active status controlling authentication validity and user access authorization throughout platform operations.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Session expiration timestamp enforcing security policies and automatic logout protocols for user protection.","name":"expires_at","nullable":false,"type":"datetime"},{"description":"Most recent platform interaction timestamp tracking user engagement and session lifecycle management.","name":"last_activity_at","nullable":true,"type":"datetime"},{"description":"Initial session creation tracking authentication events and activity analysis across platform modules.","name":"login_at","nullable":false,"type":"datetime"},{"description":"Session creation timestamp for session analytics and security monitoring across authentication events.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last session activity tracking for session renewal calculations and automatic expiration management.","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["expires_at"]},{"fieldNames":["last_activity_at"]},{"fieldNames":["shopping_mall_customer_id"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["session_token"],"unique":true}]},{"description":"Comprehensive user profile information serving as the central repository for all user types enabling detailed profile management, comprehensive personal information, social features platform-wide across the marketplace.","foreignFields":[],"ginIndexes":[{"fieldName":"first_name"},{"fieldName":"last_name"},{"fieldName":"display_name"}],"material":false,"name":"shopping_mall_user_profiles","plainFields":[{"description":"User first name for personalized communication and profile identification throughout the marketplace platform.","name":"first_name","nullable":false,"type":"string"},{"description":"User last name enabling complete profile identification and personalization across customer service and communication.","name":"last_name","nullable":false,"type":"string"},{"description":"Public display name visible to other users for communication and social interaction within platform guidelines.","name":"display_name","nullable":false,"type":"string"},{"description":"User biography description supporting personal profile customization and social engagement features.","name":"bio","nullable":true,"type":"string"},{"description":"Profile photo URL for user identification and social features within platform content guidelines and privacy standards.","name":"avatar_url","nullable":true,"type":"uri"},{"description":"User date of birth for age verification, personalized recommendations, and demographic analytics while respecting privacy.","name":"date_of_birth","nullable":true,"type":"datetime"},{"description":"User gender identification for personalized experiences and demographic analytics with complete privacy protection.","name":"gender","nullable":true,"type":"string"},{"description":"Preferred interface language for localized experience and communication preferences supporting international users.","name":"language_preference","nullable":false,"type":"string"},{"description":"User timezone preference for date/time display and notification scheduling consistent with personal preferences.","name":"timezone","nullable":false,"type":"string"},{"description":"Primary address information for shipping, billing, and location-based service personalization while maintaining privacy.","name":"address_line1","nullable":true,"type":"string"},{"description":"Secondary address information such as apartment number or suite detail for complete address specification.","name":"address_line2","nullable":true,"type":"string"},{"description":"City location information for geographic services, shipping optimization, and regional customization features.","name":"city","nullable":true,"type":"string"},{"description":"State or province information for address validation, tax calculations, and regional compliance requirements.","name":"state","nullable":true,"type":"string"},{"description":"Postal code for address verification, shipping calculations, and geographic service optimization.","name":"postal_code","nullable":true,"type":"string"},{"description":"Country identification for international shipping, compliance requirements, and regional service configuration.","name":"country","nullable":true,"type":"string"},{"description":"Primary contact phone number for customer service, order notifications, and platform communication while maintaining privacy.","name":"phone","nullable":true,"type":"string"},{"description":"Profile verification status confirming identity validation and completion requirements for platform trust building.","name":"is_verified","nullable":false,"type":"boolean"},{"description":"Profile active status controlling visibility and platform access while maintaining data integrity for historical purposes.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Profile creation timestamp for identity management and user lifecycle analytics across platform operations.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last profile modification timestamp for change tracking and audit trail maintenance across user activities.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Profile deletion timestamp enabling data minimization while maintaining compliance requirements for record retention.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["city","state","country"],"name":"address_index"}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[]}]},{"filename":"schema-03-sales.prisma","namespace":"Sales","models":[{"description":"Core product definitions representing unified catalog items offered by sellers across the marketplace. Contains standardized product information with temporal tracking for price history and promotional integration while maintaining complete seller relationship audit trails.","foreignFields":[{"description":"Belonged seller's {@link shopping_mall_sellers.id}. Links products to their offering sellers and enables comprehensive seller-specific performance tracking across marketplace operations.","name":"shopping_mall_seller_id","nullable":false,"relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false},{"description":"Primary category's {@link shopping_mall_categories.id} for main product classification while supporting multiple category assignments for enhanced discoverability.","name":"primary_category_id","nullable":true,"relation":{"name":"primaryCategory","targetModel":"shopping_mall_categories"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"name"},{"fieldName":"description"},{"fieldName":"long_description"},{"fieldName":"search_keywords"}],"material":false,"name":"shopping_mall_products","plainFields":[{"description":"Unique product identifier code used for SKU generation and comprehensive inventory management across the marketplace platform.","name":"code","nullable":false,"type":"string"},{"description":"Product display name used in catalog listings and search results with comprehensive multilingual support for customer discovery.","name":"name","nullable":false,"type":"string"},{"description":"Detailed product description supporting rich formatting and multimedia content for comprehensive customer information and persuasive marketing.","name":"description","nullable":false,"type":"string"},{"description":"Extended product description supporting unlimited text content for SEO optimization and comprehensive customer education about product features.","name":"long_description","nullable":true,"type":"string"},{"description":"URL of the main product image for catalog display and customer visual presentation with automatic image optimization for various device sizes.","name":"primary_image_url","nullable":false,"type":"uri"},{"description":"JSON array containing URLs of additional product images supporting comprehensive visual representation and customer confidence building.","name":"additional_image_urls","nullable":true,"type":"string"},{"description":"Product visibility control enabling sellers to activate, deactivate, or preview listings without losing historical performance data.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Business workflow status tracking product lifecycle stages including active, discontinued, seasonal, limited, exclusive and promotion-ready states.","name":"business_status","nullable":false,"type":"string"},{"description":"Base retail price for the product used as default pricing reference before promotional adjustments and seller-specific markup calculations.","name":"base_price","nullable":false,"type":"double"},{"description":"Product acquisition cost enabling margin calculations and comprehensive seller performance analytics across product lifecycle management.","name":"cost_price","nullable":true,"type":"double"},{"description":"Product pricing currency code (USD, EUR, etc.) supporting comprehensive international marketplace operations with automatic conversion.","name":"currency","nullable":false,"type":"string"},{"description":"Product weight in kilograms for accurate shipping calculations and inventory management across multiple fulfillment centers.","name":"weight","nullable":true,"type":"double"},{"description":"Product length in centimeters for shipping calculations and efficient warehouse storage space allocation requirements.","name":"dimensions_length","nullable":true,"type":"double"},{"description":"Product width in centimeters enabling optimal warehouse carton selection and automated capacity planning for marketplace seller inventory management.","name":"dimensions_width","nullable":true,"type":"double"},{"description":"Product height in centimeters supporting dimensional weight calculations and comprehensive shipping cost optimization across multiple carrier platforms.","name":"dimensions_height","nullable":true,"type":"double"},{"description":"Inventory management classification enabling differentiated tracking strategies including standard, perishable, serialized, bundle, and digital product handling.","name":"inventory_type","nullable":false,"type":"string"},{"description":"JSON configuration defining personalized product options enabling customer customization while maintaining proper SKU generation for fulfillment tracking.","name":"customizable_options","nullable":true,"type":"string"},{"description":"Enhanced search keywords and synonyms supporting intelligent discovery algorithms and comprehensive external search engine optimization.","name":"search_keywords","nullable":true,"type":"string"},{"description":"Flexible tagging system for categorization beyond traditional hierarchies enabling semantic search and cross-category product discovery capabilities.","name":"tags","nullable":true,"type":"string"},{"description":"Product creation timestamp for audit trails and chronological tracking across seller performance analysis and marketplace growth metrics.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp for data freshness monitoring and synchronization across distributed marketplace systems and external integrations.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft deletion timestamp enabling product recovery and maintaining historical integrity for comprehensive marketplace analytics.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_mall_seller_id","is_active"]},{"fieldNames":["business_status","is_active"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["code"],"unique":true},{"fieldNames":["shopping_mall_seller_id","code"],"unique":true}]},{"description":"Individual SKU inventory variants representing specific product combinations with comprehensive option tracking. Enables granular inventory management per variant with independent pricing capabilities and real-time stock level monitoring while maintaining complete pricing history for marketplace operations.","foreignFields":[{"description":"Belonged product's {@link shopping_mall_products.id} linking variants to parent products and maintaining comprehensive variant hierarchy relationships.","name":"shopping_product_id","nullable":false,"relation":{"name":"product","targetModel":"shopping_mall_products"},"type":"uuid","unique":false},{"description":"Parent variant's {@link shopping_mall_product_variants.id} enabling variant configuration inheritance and simplified management for complex product option hierarchies.","name":"parent_variant_id","nullable":true,"relation":{"mappingName":"recursive","name":"parent","targetModel":"shopping_mall_product_variants"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"name"},{"fieldName":"options_json"},{"fieldName":"tags"},{"fieldName":"search_keywords"}],"material":false,"name":"shopping_mall_product_variants","plainFields":[{"description":"Unique Stock Keeping Unit identifier for this specific variant combination across the entire marketplace platform with comprehensive barcode integration.","name":"sku","nullable":false,"type":"string"},{"description":"Variant display name showing option combinations clearly identifiable by customers and supporting multilingual marketplace operations with size, color, and material descriptions.","name":"name","nullable":false,"type":"string"},{"description":"Comprehensive variant option details stored as JSON structure including unlimited color, size, material, configuration options enabling flexible product customization.","name":"options_json","nullable":false,"type":"string"},{"description":"Variant-specific price enabling premium pricing for specific options while maintaining competitive pricing strategies for enhanced marketplace profitability.","name":"price","nullable":false,"type":"double"},{"description":"Non-promotional reference price supporting markdown display and savings calculations providing customer value indicators and improved conversion rates.","name":"original_price","nullable":true,"type":"double"},{"description":"Variant acquisition cost enabling precise profit margin calculations and comprehensive seller performance analytics across product lifecycle management.","name":"cost_price","nullable":true,"type":"double"},{"description":"Available inventory count for this specific SKU variant enabling per-variant stock management with automated restock triggers and low stock notifications.","name":"inventory_quantity","nullable":false,"type":"int"},{"description":"Currently reserved inventory count for pending orders preventing overselling while maintaining accurate real-time stock visibility across marketplace operations.","name":"reserved_quantity","nullable":false,"type":"int"},{"description":"Inventory level triggering proactive seller alerts for reorder management and automated marketplace notifications preventing stockout scenarios.","name":"low_stock_threshold","nullable":false,"type":"int"},{"description":"Maximum allowable backorder quantity enabling oversell scenarios for high-velocity products while maintaining customer expectation management.","name":"maximum_backorder","nullable":true,"type":"int"},{"description":"Variant-specific image gallery URLs supporting different photography for option combinations including advanced product visualization and lifestyle imagery.","name":"images","nullable":true,"type":"string"},{"description":"Precise product weight in grams for accurate shipping cost calculations with industry-compliant dimensional weight pricing across carrier integrations.","name":"weight_grams","nullable":true,"type":"int"},{"description":"Product length in millimeters for precise fulfillment center operations with automated dimensional shipping rate calculations for marketplace environments.","name":"dimensions_length_mm","nullable":true,"type":"int"},{"description":"Product width in millimeters enabling optimal warehouse carton selection and automated capacity planning for marketplace seller inventory management.","name":"dimensions_width_mm","nullable":true,"type":"int"},{"description":"Product height in millimeters supporting dimensional weight calculations and comprehensive shipping cost optimization across multiple carrier platforms.","name":"dimensions_height_mm","nullable":true,"type":"int"},{"description":"Universal Product Code (UPC) or equivalent barcode identifier enabling comprehensive retail integration and efficient point-of-sale system operations.","name":"barcode","nullable":true,"type":"string"},{"description":"Original manufacturer SKU code providing audit trail capabilities and enabling comprehensive cross-referencing across marketplace seller integrations.","name":"manufacturer_sku","nullable":true,"type":"string"},{"description":"International harmonized system code for global trade classification enabling comprehensive customs documentation and international shipping compliance.","name":"harmonized_code","nullable":true,"type":"string"},{"description":"ISO country code indicating product origin enabling regulatory compliance, import/export documentation, and comprehensive quality control monitoring.","name":"country_of_origin","nullable":true,"type":"string"},{"description":"Digital product flag enabling separate fulfillment workflows for digital downloads eliminating inventory requirements while maintaining comprehensive marketplace integration.","name":"is_digital","nullable":false,"type":"boolean"},{"description":"Standard processing time in business days setting customer expectations while enabling automated shipping calculation and comprehensive delivery planning.","name":"fulfillment_time_days","nullable":true,"type":"int"},{"description":"Variant-specific business workflow status tracking lifecycle stages including active, seasonal, limited, exclusive, and discontinued states.","name":"business_status","nullable":false,"type":"string"},{"description":"Flexible variant-specific tags and keywords enhancing search visibility and enabling sophisticated marketplace discovery algorithms with comprehensive semantic analysis.","name":"tags","nullable":true,"type":"string"},{"description":"Variant-specific search optimization keywords and synonyms supporting enhanced product discovery across marketplace search algorithms and external platforms.","name":"search_keywords","nullable":true,"type":"string"},{"description":"Variant creation timestamp for audit trails and chronological tracking across comprehensive seller performance monitoring and business intelligence analysis.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp for data freshness monitoring and synchronization across multi-vendor marketplace operations with comprehensive audit compliance.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft deletion timestamp enabling variant recovery while maintaining historical data integrity for comprehensive marketplace analytics and seller performance tracking.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["price"]},{"fieldNames":["inventory_quantity"]},{"fieldNames":["business_status"]},{"fieldNames":["is_digital"]},{"fieldNames":["country_of_origin"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["sku"],"unique":true},{"fieldNames":["shopping_product_id","sku"],"unique":true}]},{"description":"Hierarchical category system enabling intuitive product organization and discovery. Serves as the primary navigation mechanism for customers to browse products across the marketplace with unlimited depth support and comprehensive meta-information management.","foreignFields":[{"description":"Parent category's {@link shopping_mall_categories.id} for unlimited hierarchical depth and logical category relationships supporting complex marketplace taxonomy.","name":"parent_id","nullable":true,"relation":{"mappingName":"recursive","name":"parent","targetModel":"shopping_mall_categories"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"name"}],"material":false,"name":"shopping_mall_categories","plainFields":[{"description":"Category display name used in navigation menus and product filtering for enhanced customer discovery with multilingual support.","name":"name","nullable":false,"type":"string"},{"description":"SEO-friendly URL identifier enabling optimized category navigation and comprehensive search engine visibility.","name":"slug","nullable":false,"type":"string"},{"description":"Comprehensive category description supporting SEO optimization and providing additional context for improved customer browsing experience.","name":"description","nullable":false,"type":"string"},{"description":"Extended category description supporting unlimited text content for enhanced customer education and advanced search engine optimization.","name":"long_description","nullable":true,"type":"string"},{"description":"URL of category icon for visual navigation aids and promotional display purposes with comprehensive device responsiveness.","name":"icon_url","nullable":true,"type":"uri"},{"description":"URL of category banner image for enhanced visual presentation and marketing campaign integration across marketplace operations.","name":"banner_url","nullable":true,"type":"uri"},{"description":"Manual positioning control enabling strategic category ordering in navigation menus and display interfaces for improved user experience.","name":"sort_order","nullable":false,"type":"int"},{"description":"Category visibility control enabling platform managers to activate, deactivate, or phase out category navigation as marketplace strategy evolves.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Featured category flag enabling promotional category highlighting for seasonal campaigns, new product categories, and strategic marketplace positioning.","name":"is_featured","nullable":false,"type":"boolean"},{"description":"Root category classification enabling proper taxonomy management with distinction between primary categories and subcategories for improved organization.","name":"is_root","nullable":false,"type":"boolean"},{"description":"Category SEO meta title optimization for improved search engine rankings and enhanced customer discovery across external platforms.","name":"meta_title","nullable":true,"type":"string"},{"description":"Category SEO meta description for comprehensive search engine optimization and improved category visibility across major search platforms.","name":"meta_description","nullable":true,"type":"string"},{"description":"Category SEO keywords and meta tags supporting improved search visibility with comprehensive keyword density optimization for marketplace discovery.","name":"meta_keywords","nullable":true,"type":"string"},{"description":"URL of category featured image for homepage display and promotional marketing integration supporting seasonal product category campaigns.","name":"featured_image_url","nullable":true,"type":"uri"},{"description":"Comprehensive SEO-friendly category path supporting advanced structured data and comprehensive search engine optimization across marketplace taxonomy.","name":"seo_path","nullable":true,"type":"string"},{"description":"Google category classification supporting product feed integration and comprehensive Google Shopping campaign management capabilities.","name":"google_category_id","nullable":true,"type":"string"},{"description":"Google category path mapping supporting comprehensive Google Shopping integration with complete hierarchical category assignment for marketing optimization.","name":"google_category_path","nullable":true,"type":"string"},{"description":"Category creation timestamp for audit trails and comprehensive chronological tracking across seller performance analysis and business intelligence reporting.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last category modification timestamp for data freshness monitoring and synchronization with comprehensive marketplace taxonomy management.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft deletion timestamp enabling category recovery while maintaining historical integrity for comprehensive marketplace analytics and seller performance tracking.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["parent_id","is_active"]},{"fieldNames":["sort_order"]},{"fieldNames":["is_featured","is_active"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["slug"],"unique":true}]},{"description":"Junction table enabling many-to-many relationships between products and categories. Supports flexible product categorization within the hierarchical taxonomy system and enables complex navigation paths for enhanced customer discovery.","foreignFields":[{"description":"Belonged product's {@link shopping_mall_products.id}. Links products to their category assignments.","name":"shopping_product_id","nullable":false,"relation":{"name":"product","targetModel":"shopping_mall_products"},"type":"uuid","unique":false},{"description":"Belonged category's {@link shopping_mall_categories.id}. Links products to their category taxonomy.","name":"shopping_category_id","nullable":false,"relation":{"name":"category","targetModel":"shopping_mall_categories"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_product_categories","plainFields":[{"description":"Primary category designation for main categorization while supporting multiple category assignments.","name":"is_primary","nullable":false,"type":"boolean"},{"description":"Association creation timestamp for tracking when products were added to categories.","name":"created_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_product_id","is_primary"]},{"fieldNames":["shopping_category_id","shopping_product_id"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["shopping_product_id","shopping_category_id"],"unique":true}]},{"description":"Active sales and promotional campaigns including discounts, special offers, and marketing events. Manages current promotional state with temporal constraints and enables real-time customer engagement through discounted pricing strategies.","foreignFields":[],"ginIndexes":[],"material":false,"name":"shopping_mall_sales","plainFields":[{"description":"Promotional campaign title displayed to customers and used in marketing materials.","name":"title","nullable":false,"type":"string"},{"description":"Detailed promotional description explaining offer terms and customer benefits.","name":"description","nullable":false,"type":"string"},{"description":"Discount method applied 'percentage', fixed_amount', 'buy_x_get_y' enabling various promotion strategies.","name":"discount_type","nullable":false,"type":"string"},{"description":"Discount amount or percentage value applied based on discount_type configuration.","name":"discount_value","nullable":false,"type":"double"},{"description":"Minimum order value required for promotion eligibility enabling order-level targeted campaigns.","name":"minimum_purchase_amount","nullable":true,"type":"double"},{"description":"Maximum usage count for limited-time offers creating urgency and scarcity marketing effects.","name":"usage_limit","nullable":true,"type":"int"},{"description":"Current usage tracking for performance monitoring and limitation enforcement.","name":"usage_count","nullable":false,"type":"int"},{"description":"Campaign activation timestamp enabling automated promotional scheduling and time-limited offers.","name":"starts_at","nullable":false,"type":"datetime"},{"description":"Campaign termination timestamp supporting seasonal promotions and ending date automation.","name":"expires_at","nullable":false,"type":"datetime"},{"description":"Active campaign status controlling customer visibility and promotional availability.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Campaign creation timestamp for audit trails and chronological tracking.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp for campaign updates and synchronization tracking.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft deletion timestamp enabling campaign recovery and maintaining historical integrity.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["discount_type","is_active"]},{"fieldNames":["starts_at","expires_at","is_active"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[]},{"description":"Historical snapshots capturing promotional campaign state at specific times for price tracking analytics, sales history evaluation, and comprehensive audit trail management supporting strategic business intelligence operations.","foreignFields":[{"description":"Belonged promotional campaign's {@link shopping_mall_sales.id} linking snapshots to active campaigns for comprehensive historical tracking and analytics reporting.","name":"shopping_sale_id","nullable":false,"relation":{"name":"sale","targetModel":"shopping_mall_sales"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"}],"material":false,"name":"shopping_mall_sale_snapshots","plainFields":[{"description":"Snapshot comprehensive campaign title supporting promotional identification and historical reference for complete audit trail and business intelligence reporting.","name":"title","nullable":false,"type":"string"},{"description":"Snapshot detailed campaign description preserving promotional details for comprehensive audit trail and historical analysis documentation.","name":"description","nullable":false,"type":"string"},{"description":"Snapshot advanced campaign classification preserving multi-vendor promotional strategy details for comprehensive historical campaign performance analysis.","name":"campaign_type","nullable":false,"type":"string"},{"description":"Snapshot complex pricing strategy details preserving promotional calculation methodology for comprehensive historical discount tracking and profit analysis.","name":"discount_strategy","nullable":false,"type":"string"},{"description":"Snapshot marketing campaign value preserving historical discount amounts for comparative ROI analysis and promotional effectiveness measurement.","name":"discount_value","nullable":false,"type":"double"},{"description":"Snapshot comprehensive targeting strategy preserving customer segments for historical analysis of promotional campaign reach and impact measurement.","name":"target_customer_segments","nullable":true,"type":"string"},{"description":"Snapshot minimum purchase requirement preserving historical eligibility details for accurate retrospective campaign effectiveness analysis.","name":"minimum_purchase_amount","nullable":true,"type":"double"},{"description":"Snapshot maximum value protection preserving historical margin protection details for accurate promotional impact and profitability analysis.","name":"maximum_discount_amount","nullable":true,"type":"double"},{"description":"Snapshot sophisticated tiering configuration preserving progressive discount levels for comprehensive historical campaign complexity tracking.","name":"tier_config","nullable":true,"type":"string"},{"description":"Snapshot strategic inventory classification preserving category targeting for historical campaign inventory optimization analysis.","name":"applicable_categories","nullable":true,"type":"string"},{"description":"Snapshot recurring campaign flag preserving automated promotional patterns for historical scheduling analysis and marketplace promotional rhythm tracking.","name":"is_recurring","nullable":false,"type":"boolean"},{"description":"Snapshot recurring configuration preserving seasonal promotional automation details for comprehensive historical marketing calendar analysis.","name":"recurrence_pattern","nullable":true,"type":"string"},{"description":"Snapshot comprehensive targeting data preserving customer segments and campaign scope for complete historical performance analysis and optimization insights.","name":"targeting_data","nullable":true,"type":"string"},{"description":"Snapshot seller participation strategy preserving multi-vendor distribution details for comprehensive marketplace promotional balance tracking.","name":"seller_involvement","nullable":true,"type":"string"},{"description":"Snapshot advanced analytics configuration preserving comprehensive ROI tracking setup for complete historical campaign impact measurement.","name":"roi_tracking","nullable":true,"type":"string"},{"description":"Snapshot creation timestamp for historical chronological ordering supporting comprehensive promotional lifecycle analysis and marketplace performance evaluation.","name":"created_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_sale_id","created_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"snapshot","uniqueIndexes":[]}]},{"filename":"schema-04-carts.prisma","namespace":"Carts","models":[{"description":"Shopping cart management for customers and guests, storing active cart sessions with customer relationships, session tracking, status management, and temporal fields for audit trails. Supports both authenticated customers and guest sessions with cart persistence across devices.","foreignFields":[{"description":"Target customer's {@link shopping_mall_customers.id}. Nullable for guest carts.","name":"shopping_customer_id","nullable":true,"relation":{"name":"customer","targetModel":"shopping_mall_customers"},"type":"uuid","unique":false},{"description":"External guest session identifier for cart persistence. Required when customer is null.","name":"guest_session_id","nullable":true,"relation":{"name":"guestSession","targetModel":"shopping_mall_guests"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_carts","plainFields":[{"description":"Cart status: active, abandoned, converted, expired.","name":"status","nullable":false,"type":"string"},{"description":"Total number of items in cart. Auto-calculated from cart items.","name":"item_count","nullable":false,"type":"int"},{"description":"Cart creation timestamp.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last cart modification timestamp.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Cart expiration timestamp for guest sessions. Usually 30 days from creation.","name":"expires_at","nullable":true,"type":"datetime"},{"description":"Timestamp when cart items were successfully ordered.","name":"converted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["status","created_at"]},{"fieldNames":["expires_at"]},{"fieldNames":["guest_session_id","status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["shopping_customer_id"],"unique":true}]},{"description":"Individual cart items linking carts to specific product variants with quantity, pricing snapshot, and reservation tracking. Supports complex multi-vendor cart scenarios with proper SKU-level inventory management.","foreignFields":[{"description":"Target cart's {@link shopping_mall_carts.id}.","name":"shopping_cart_id","nullable":false,"relation":{"name":"cart","targetModel":"shopping_mall_carts"},"type":"uuid","unique":false},{"description":"Target product variant's {@link shopping_mall_product_variants.id}.","name":"shopping_product_variant_id","nullable":false,"relation":{"name":"productVariant","targetModel":"shopping_mall_product_variants"},"type":"uuid","unique":false},{"description":"Target seller's {@link shopping_mall_sellers.id} for commission calculations.","name":"shopping_seller_id","nullable":false,"relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_cart_items","plainFields":[{"description":"Number of units added to cart. Validates against current inventory.","name":"quantity","nullable":false,"type":"int"},{"description":"Price per unit at time of cart addition. Snapshot for price change handling.","name":"unit_price","nullable":false,"type":"double"},{"description":"Total price for this line item (quantity * unit_price).","name":"total_price","nullable":false,"type":"double"},{"description":"Timestamp when item was added to cart.","name":"added_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp for quantity changes.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Inventory reservation expiration timestamp. Usually 30 minutes from last update.","name":"reserved_until","nullable":true,"type":"datetime"},{"description":"Optional notes about the cart item selection.","name":"notes","nullable":true,"type":"string"}],"plainIndexes":[{"fieldNames":["shopping_cart_id","added_at"]},{"fieldNames":["shopping_product_variant_id"]},{"fieldNames":["reserved_until"]},{"fieldNames":["shopping_seller_id","shopping_cart_id"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["shopping_cart_id","shopping_product_variant_id"],"unique":true}]},{"description":"Customer wishlists for saving products for future purchase consideration. Supports multiple wishlists per customer with privacy settings and sharing capabilities. Independent from cart functionality to serve different shopping intentions.","foreignFields":[{"description":"Target customer's {@link shopping_mall_customers.id}. Required for wishlist ownership.","name":"shopping_customer_id","nullable":false,"relation":{"name":"customer","targetModel":"shopping_mall_customers"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"}],"material":false,"name":"shopping_mall_wishlists","plainFields":[{"description":"Wishlist display name or title. Maximum 100 characters.","name":"title","nullable":false,"type":"string"},{"description":"Optional wishlist description or notes. Maximum 500 characters.","name":"description","nullable":true,"type":"string"},{"description":"Privacy setting: public, private, or shared. Controls sharing capabilities.","name":"privacy","nullable":false,"type":"string"},{"description":"Whether this is the customer's primary/default wishlist.","name":"is_primary","nullable":false,"type":"boolean"},{"description":"Unique sharing token for shared wishlists. Used in public URLs.","name":"share_token","nullable":true,"type":"string"},{"description":"Total number of items in wishlist. Auto-calculated from wishlist items.","name":"item_count","nullable":false,"type":"int"},{"description":"Wishlist creation timestamp.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last wishlist modification timestamp.","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_customer_id","privacy"]},{"fieldNames":["is_primary","shopping_customer_id"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["shopping_customer_id","title"],"unique":true},{"fieldNames":["share_token"],"unique":true}]},{"description":"Individual wishlist items linking wishlists to specific product variants with customer notes and timestamps. Supports wishlist-specific functionality like price drop notifications and availability alerts.","foreignFields":[{"description":"Target wishlist's {@link shopping_mall_wishlists.id}.","name":"shopping_wishlist_id","nullable":false,"relation":{"name":"wishlist","targetModel":"shopping_mall_wishlists"},"type":"uuid","unique":false},{"description":"Target product variant's {@link shopping_mall_product_variants.id}.","name":"shopping_product_variant_id","nullable":false,"relation":{"name":"productVariant","targetModel":"shopping_mall_product_variants"},"type":"uuid","unique":false},{"description":"Target seller's {@link shopping_mall_sellers.id} for notification routing.","name":"shopping_seller_id","nullable":false,"relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"notes"}],"material":false,"name":"shopping_mall_wishlist_items","plainFields":[{"description":"Item priority within wishlist (1-10) for sorting and filtering.","name":"priority","nullable":false,"type":"int"},{"description":"Customer notes about why this item is saved. Maximum 500 characters.","name":"notes","nullable":true,"type":"string"},{"description":"Customer's desired price point for price drop notifications. Null if not desired.","name":"price_alert_threshold","nullable":true,"type":"double"},{"description":"Whether to notify customer when item becomes available if out of stock.","name":"notify_on_availability","nullable":false,"type":"boolean"},{"description":"Timestamp when item was added to wishlist.","name":"added_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp.","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_wishlist_id","priority"]},{"fieldNames":["shopping_product_variant_id"]},{"fieldNames":["price_alert_threshold"]},{"fieldNames":["shopping_seller_id"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["shopping_wishlist_id","shopping_product_variant_id"],"unique":true}]}]},{"filename":"schema-05-orders.prisma","namespace":"Orders","models":[{"name":"shopping_mall_orders","description":"Order management system for multi-vendor marketplace transactions. Tracks customer purchases across multiple sellers with unified order experience while maintaining separate seller-specific fulfillment workflows. Supports complex order lifecycle from placement through delivery confirmation.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Purchasing customer's {@link shopping_mall_customers.id}","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shipping_address_id","type":"uuid","description":"Delivery address reference for order fulfillment routing","relation":{"name":"shippingAddress","targetModel":"shopping_mall_user_profiles","mappingName":"shopping_mall_orders_of_shipping_address_id"},"unique":false,"nullable":false},{"name":"billing_address_id","type":"uuid","description":"Billing address reference for payment and invoice processing","relation":{"name":"billingAddress","targetModel":"shopping_mall_user_profiles","mappingName":"shopping_mall_orders_of_billing_address_id"},"unique":false,"nullable":false}],"plainFields":[{"name":"order_number","type":"string","description":"Unique order identifier formatted as ORD-YYYYMMDD-NNNNNN for customer reference","nullable":false},{"name":"status","type":"string","description":"Current order status in lifecycle: confirmed, processing, ready_to_ship, shipped, delivered, cancelled, returned","nullable":false},{"name":"business_status","type":"string","description":"Business workflow status: pending_payment, paid, partial_refund, fully_refunded, disputed","nullable":false},{"name":"total_amount","type":"double","description":"Total order value including all items, shipping, taxes, and fees","nullable":false},{"name":"currency","type":"string","description":"Transaction currency code (USD, EUR, etc.) for multi-currency support","nullable":false},{"name":"subtotal","type":"double","description":"Sum of all item prices before shipping and taxes","nullable":false},{"name":"shipping_total","type":"double","description":"Combined shipping costs across all sellers in the order","nullable":false},{"name":"tax_total","type":"double","description":"Total tax amount calculated based on shipping destinations","nullable":false},{"name":"commission_total","type":"double","description":"Platform commission calculated from seller revenues","nullable":false},{"name":"item_count","type":"int","description":"Total number of items across all order lines","nullable":false},{"name":"seller_count","type":"int","description":"Number of distinct sellers fulfilling this order","nullable":false},{"name":"payment_method","type":"string","description":"Customer's selected payment method: credit_card, paypal, apple_pay, google_pay","nullable":false},{"name":"payment_status","type":"string","description":"Payment processing status: authorized, captured, failed, refunded","nullable":false},{"name":"shipping_method","type":"string","description":"Selected shipping speed: standard, expedited, express, same_day","nullable":false},{"name":"estimated_delivery","type":"datetime","description":"Projected delivery date based on shipping method and destinations","nullable":true},{"name":"gift_message","type":"string","description":"Optional gift message for recipient when order contains gift items","nullable":true},{"name":"special_instructions","type":"string","description":"Customer delivery instructions or order notes","nullable":true},{"name":"source_channel","type":"string","description":"Order origination channel: web, mobile_app, api, admin","nullable":false},{"name":"coupon_code","type":"string","description":"Applied promotional code for discount tracking","nullable":true},{"name":"tracking_token","type":"string","description":"Marketing campaign tracking for attribution analysis","nullable":true},{"name":"created_at","type":"datetime","description":"Order placement timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for order cancellation or removal","nullable":true}],"uniqueIndexes":[{"fieldNames":["order_number"],"unique":true},{"fieldNames":["shopping_customer_id","order_number"],"unique":true}],"plainIndexes":[{"fieldNames":["status","created_at"]},{"fieldNames":["business_status","updated_at"]},{"fieldNames":["payment_status","created_at"]},{"fieldNames":["estimated_delivery","status"]},{"fieldNames":["shopping_customer_id","created_at"]},{"fieldNames":["source_channel","created_at"]}],"ginIndexes":[{"fieldName":"gift_message"},{"fieldName":"special_instructions"}]},{"description":"Individual line items within multi-vendor orders supporting commission calculations and seller-specific fulfillment workflows","foreignFields":[{"description":"Parent order {@link shopping_mall_orders.id}","name":"shopping_mall_order_id","nullable":false,"relation":{"name":"order","targetModel":"shopping_mall_orders"},"type":"uuid","unique":false},{"description":"Selling vendor {@link shopping_mall_sellers.id}","name":"shopping_seller_id","nullable":false,"relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false},{"description":"Product reference {@link shopping_mall_products.id}","name":"shopping_product_id","nullable":false,"relation":{"name":"product","targetModel":"shopping_mall_products"},"type":"uuid","unique":false},{"description":"Specific variant SKU {@link shopping_mall_product_variants.id}","name":"shopping_product_variant_id","nullable":false,"relation":{"name":"productVariant","targetModel":"shopping_mall_product_variants"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_order_items","plainFields":[{"description":"Number of units ordered for this item","name":"quantity","nullable":false,"type":"int"},{"description":"Price per unit at time of order","name":"unit_price","nullable":false,"type":"double"},{"description":"Total price for this line item (quantity * unit_price)","name":"total_price","nullable":false,"type":"double"},{"description":"Discount applied to this specific item","name":"discount_amount","nullable":false,"type":"double"},{"description":"Platform commission percentage for this item","name":"commission_rate","nullable":false,"type":"double"},{"description":"Calculated platform commission for this item","name":"commission_amount","nullable":false,"type":"double"},{"description":"Net revenue to seller after commission deduction","name":"seller_revenue","nullable":false,"type":"double"},{"description":"Allocated shipping cost for this item","name":"shipping_cost","nullable":false,"type":"double"},{"description":"Calculated tax for this line item","name":"tax_amount","nullable":false,"type":"double"},{"description":"SKU code at time of order for audit trail","name":"item_sku","nullable":false,"type":"string"},{"description":"Product name snapshot at order time","name":"item_name","nullable":false,"type":"string"},{"description":"Variant options selected (color, size, etc.)","name":"variant_description","nullable":true,"type":"string"},{"description":"Whether this item requires gift wrapping","name":"gift_wrap","nullable":false,"type":"boolean"},{"description":"Custom text or personalization instructions","name":"personalization","nullable":true,"type":"string"},{"description":"Item-level fulfillment: pending, processing, shipped, delivered","name":"fulfillment_status","nullable":false,"type":"string"},{"description":"Return processing: none, requested, approved, received, refunded","name":"return_status","nullable":false,"type":"string"},{"description":"Item creation timestamp","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification timestamp","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_product_variant_id"]},{"fieldNames":["shopping_seller_id","fulfillment_status"],"mappingName":"shopping_mall_order_items_shopping_seller_id_fulfillme_4ce3bd59"},{"fieldNames":["shopping_product_id","created_at"]},{"fieldNames":["fulfillment_status","updated_at"]},{"fieldNames":["return_status","updated_at"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["shopping_mall_order_id","shopping_product_variant_id"],"unique":true}]},{"description":"Historical record of all order status changes creating comprehensive audit trail for customer service, dispute resolution, and operational analysis. Tracks complete lifecycle with timestamps and actor identification.","foreignFields":[{"description":"Related order {@link shopping_mall_orders.id}","name":"shopping_mall_order_id","nullable":false,"relation":{"name":"order","targetModel":"shopping_mall_orders"},"type":"uuid","unique":false},{"description":"User who made the change (customer, seller, admin, system)","name":"actor_id","nullable":true,"relation":{"name":"actor","targetModel":"shopping_mall_customers"},"type":"uuid","unique":false},{"description":"Seller actor when change initiated by vendor {@link shopping_mall_sellers.id}","name":"actor_seller_id","nullable":true,"relation":{"name":"actorSeller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_order_status_history","plainFields":[{"description":"Order status before this change","name":"previous_status","nullable":false,"type":"string"},{"description":"Order status after this change","name":"new_status","nullable":false,"type":"string"},{"description":"Business workflow status before change","name":"previous_business_status","nullable":true,"type":"string"},{"description":"Business workflow status after change","name":"new_business_status","nullable":true,"type":"string"},{"description":"Detailed explanation for status change","name":"reason","nullable":true,"type":"string"},{"description":"Timestamp when the status change was recorded","name":"created_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_mall_order_id"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"snapshot","uniqueIndexes":[]},{"name":"shopping_mall_invoices","description":"Billing documents for orders supporting payment reconciliation, tax reporting, and financial audit requirements. Links orders to payment processing and provides comprehensive billing history.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_order_id","type":"uuid","description":"Related order {@link shopping_mall_orders.id}","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":true,"nullable":false},{"name":"shopping_seller_id","type":"uuid","description":"Seller for this invoice portion {@link shopping_mall_sellers.id}","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":true}],"plainFields":[{"name":"invoice_number","type":"string","description":"Unique invoice identifier for accounting and tax purposes","nullable":false},{"name":"invoice_type","type":"string","description":"Invoice category: customer_invoice, seller_statement, commission_invoice, refund_invoice","nullable":false},{"name":"status","type":"string","description":"Invoice status: draft, issued, paid, overdue, cancelled","nullable":false},{"name":"subtotal","type":"double","description":"Invoice subtotal before taxes and fees","nullable":false},{"name":"tax_amount","type":"double","description":"Calculated tax amount for this invoice","nullable":false},{"name":"total_amount","type":"double","description":"Total invoice amount including taxes","nullable":false},{"name":"currency","type":"string","description":"Invoice currency matching order currency","nullable":false},{"name":"due_date","type":"datetime","description":"Payment due date for this invoice","nullable":true},{"name":"paid_date","type":"datetime","description":"Actual payment receipt date","nullable":true},{"name":"payment_reference","type":"string","description":"Payment processor transaction reference","nullable":true},{"name":"tax_calculation_method","type":"string","description":"Tax calculation method used: destination_based, origin_based, exempt","nullable":false},{"name":"created_at","type":"datetime","description":"Invoice creation timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false}],"uniqueIndexes":[{"fieldNames":["invoice_number"],"unique":true}],"plainIndexes":[{"fieldNames":["invoice_type","status"]},{"fieldNames":["shopping_seller_id","status"]},{"fieldNames":["due_date","status"]},{"fieldNames":["paid_date","created_at"]}],"ginIndexes":[]},{"description":"Logistics tracking information for order shipments supporting multiple carriers, delivery methods, and real-time status updates. Integrates with carrier systems for comprehensive delivery management.","foreignFields":[{"description":"Parent order {@link shopping_mall_orders.id}","name":"shopping_mall_order_id","nullable":false,"relation":{"name":"order","targetModel":"shopping_mall_orders"},"type":"uuid","unique":false},{"description":"Shipping seller {@link shopping_mall_sellers.id}","name":"shopping_seller_id","nullable":false,"relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false},{"description":"Specific items in this shipment {@link shopping_mall_order_items.id}","name":"shopping_mall_order_item_id","nullable":true,"relation":{"name":"orderItem","targetModel":"shopping_mall_order_items"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_shipping_tracking","plainFields":[{"description":"Shipping carrier: fedex, ups, usps, dhl, amazon_logistics","name":"carrier","nullable":false,"type":"string"},{"description":"Carrier tracking number for external tracking","name":"tracking_number","nullable":false,"type":"string"},{"description":"Shipping service: ground, expedited, express, overnight, same_day","name":"service_level","nullable":false,"type":"string"},{"description":"Shipping status: label_created, picked_up, in_transit, out_for_delivery, delivered, failed_delivery","name":"status","nullable":false,"type":"string"},{"description":"Date package shipped from seller","name":"shipped_date","nullable":true,"type":"datetime"},{"description":"Carrier estimated delivery date","name":"estimated_delivery","nullable":true,"type":"datetime"},{"description":"Confirmed delivery date and time","name":"actual_delivery","nullable":true,"type":"datetime"},{"description":"Actual shipping cost charged to customer","name":"shipping_cost","nullable":false,"type":"double"},{"description":"Package weight in pounds for shipping calculations","name":"package_weight","nullable":true,"type":"double"},{"description":"Package dimensions LxWxH in inches","name":"package_dimensions","nullable":true,"type":"string"},{"description":"Shipping origin ZIP code","name":"origin_zip","nullable":false,"type":"string"},{"description":"Delivery destination ZIP code","name":"destination_zip","nullable":false,"type":"string"},{"description":"Record creation timestamp","name":"created_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["shopping_seller_id","status"]},{"fieldNames":["tracking_number","status"]},{"fieldNames":["status","estimated_delivery"]},{"fieldNames":["actual_delivery"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["carrier","tracking_number"],"unique":true}]},{"name":"shopping_mall_refunds","description":"Refund processing system for returns, cancellations, and dispute resolution. Manages financial reconciliation across sellers and platform while maintaining comprehensive audit trail for accounting and compliance.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_mall_order_id","type":"uuid","description":"Original order {@link shopping_mall_orders.id}","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":false},{"name":"shopping_mall_order_item_id","type":"uuid","description":"Specific item being refunded {@link shopping_mall_order_items.id}","relation":{"name":"orderItem","targetModel":"shopping_mall_order_items"},"unique":false,"nullable":true},{"name":"shopping_seller_id","type":"uuid","description":"Seller responsible for refund {@link shopping_mall_sellers.id}","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":false},{"name":"invoice_id","type":"uuid","description":"Related invoice for financial reconciliation {@link shopping_mall_invoices.id}","relation":{"name":"invoice","targetModel":"shopping_mall_invoices"},"unique":false,"nullable":true}],"plainFields":[{"name":"refund_number","type":"string","description":"Unique refund identifier for tracking and accounting","nullable":false},{"name":"refund_type","type":"string","description":"Refund reason: return, cancellation, damaged, defective, dispute_resolution","nullable":false},{"name":"status","type":"string","description":"Refund status: requested, approved, processing, completed, rejected","nullable":false},{"name":"requested_amount","type":"double","description":"Original refund amount requested by customer","nullable":false},{"name":"approved_amount","type":"double","description":"Final approved refund amount after review","nullable":false},{"name":"currency","type":"string","description":"Refund currency matching original order currency","nullable":false},{"name":"reason","type":"string","description":"Detailed explanation of refund request","nullable":false},{"name":"seller_responsibility","type":"double","description":"Portion of refund borne by seller (0-100%)","nullable":false},{"name":"platform_responsibility","type":"double","description":"Portion of refund borne by platform (0-100%)","nullable":false},{"name":"processing_fee","type":"double","description":"Non-refundable processing fee amount","nullable":false},{"name":"restocking_fee","type":"double","description":"Restocking fee deducted from refund","nullable":true},{"name":"return_shipping_cost","type":"double","description":"Cost of return shipping if applicable","nullable":true},{"name":"refund_method","type":"string","description":"Refund processed to: original_payment, store_credit, alternate_method","nullable":false},{"name":"processed_date","type":"datetime","description":"Date refund was processed and funds transferred","nullable":true},{"name":"expected_date","type":"datetime","description":"Estimated refund processing completion date","nullable":true},{"name":"created_at","type":"datetime","description":"Refund request timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false}],"uniqueIndexes":[{"fieldNames":["refund_number"],"unique":true}],"plainIndexes":[{"fieldNames":["refund_type","status"]},{"fieldNames":["shopping_seller_id","status"]},{"fieldNames":["status","processed_date"]},{"fieldNames":["refund_method","expected_date"]}],"ginIndexes":[{"fieldName":"reason"}]}]},{"filename":"schema-06-coupons.prisma","namespace":"Coupons","models":[{"description":"Primary promotional campaigns with comprehensive discount management, usage limits, and validity constraints across the marketplace","foreignFields":[{"description":"Target customer's {@link shopping_mall_customers.id} who created this coupon","name":"creator_customer_id","nullable":true,"relation":{"name":"creatorCustomer","targetModel":"shopping_mall_customers"},"type":"uuid","unique":false},{"description":"Target seller's {@link shopping_mall_sellers.id} who created this coupon for their store promotions","name":"creator_seller_id","nullable":true,"relation":{"name":"creatorSeller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false},{"description":"Target administrator's {@link shopping_mall_administrators.id} who created platform-wide promotional coupons","name":"admin_creator_id","nullable":true,"relation":{"name":"adminCreator","targetModel":"shopping_mall_administrators"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"description"}],"material":false,"name":"shopping_mall_coupons","plainFields":[{"description":"Unique coupon code for customer input. Must be alphanumeric with maximum length 50 characters","name":"code","nullable":false,"type":"string"},{"description":"Descriptive name for the coupon campaign displayed to customers","name":"title","nullable":false,"type":"string"},{"description":"Detailed explanation of the discount offer with terms and conditions","name":"description","nullable":true,"type":"string"},{"description":"Type of discount: 'percentage' for % off, 'fixed' for flat amount off","name":"discount_type","nullable":false,"type":"string"},{"description":"Discount amount based on type: percentage (0-100) or fixed amount in currency","name":"discount_value","nullable":false,"type":"double"},{"description":"Minimum purchase amount required to validate coupon eligibility","name":"minimum_order_amount","nullable":true,"type":"double"},{"description":"Maximum discount that can be applied to prevent excessive discounts","name":"maximum_discount_amount","nullable":true,"type":"double"},{"description":"Maximum number of times a single customer can use this coupon","name":"usage_limit_per_customer","nullable":true,"type":"int"},{"description":"Maximum total uses across all customers for limited promotional campaigns","name":"total_usage_limit","nullable":true,"type":"int"},{"description":"Track of how many times this coupon has been redeemed","name":"current_usage_count","nullable":false,"type":"int"},{"description":"Start date when coupon becomes valid for customer use","name":"valid_from","nullable":true,"type":"datetime"},{"description":"Expiration date when coupon becomes invalid","name":"valid_until","nullable":true,"type":"datetime"},{"description":"Coupon lifecycle status: 'draft', 'active', 'expired', 'disabled', 'sold_out'","name":"status","nullable":false,"type":"string"},{"description":"Whether coupon is available to all customers or restricted segments","name":"is_public","nullable":false,"type":"boolean"},{"description":"Whether coupon is automatically applied at checkout without customer entry","name":"auto_apply","nullable":false,"type":"boolean"},{"description":"Comma-separated list of specific product IDs this coupon applies to","name":"target_product_ids","nullable":true,"type":"string"},{"description":"Comma-separated list of category IDs this coupon applies to","name":"target_category_ids","nullable":true,"type":"string"},{"description":"Whether coupon is restricted to customers with no previous orders","name":"is_first_order_only","nullable":false,"type":"boolean"},{"description":"Whether coupon requires active newsletter subscription","name":"is_newsletter_subscriber_only","nullable":false,"type":"boolean"},{"description":"Percentage of discount absorbed by platform versus seller (0-100)","name":"business_impact_percentage","nullable":false,"type":"int"},{"description":"Whether this promotional campaign requires moderator approval","name":"requires_approval","nullable":false,"type":"boolean"},{"description":"Timestamp when promotional campaign was approved for market use","name":"approved_at","nullable":true,"type":"datetime"},{"description":"Expected commission reduction amount for seller participation validation","name":"commission_impact_amount","nullable":false,"type":"double"},{"description":"Percentage of sellers participating in this promotional campaign","name":"vendor_participation_rate","nullable":false,"type":"double"},{"description":"Calculated effectiveness score based on conversion and engagement metrics","name":"campaign_performance_score","nullable":false,"type":"double"},{"description":"Timestamp when coupon was created for audit tracking","name":"created_at","nullable":false,"type":"datetime"},{"description":"Timestamp when coupon was last modified tracking lifecycle changes","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Soft delete timestamp for discontinued coupons maintaining data integrity","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["creator_seller_id","status"]},{"fieldNames":["status","valid_until"]},{"fieldNames":["discount_type","status"]},{"fieldNames":["business_impact_percentage","status"]},{"fieldNames":["created_at","status"]},{"fieldNames":["vendor_participation_rate"]},{"fieldNames":["campaign_performance_score"]}],"primaryField":{"description":"Primary Key","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["code"],"unique":true}]},{"description":"Individual promotional codes within coupon campaigns supporting bulk generation for mass distribution or personalized campaigns","foreignFields":[{"description":"Target coupon's {@link shopping_mall_coupons.id} that this promotional code belongs to","name":"coupon_id","nullable":false,"relation":{"name":"coupon","targetModel":"shopping_mall_coupons"},"type":"uuid","unique":false}],"ginIndexes":[],"material":false,"name":"shopping_mall_promotional_codes","plainFields":[{"description":"Unique promotional code string typically 8-16 alphanumeric characters","name":"promotional_code","nullable":false,"type":"string"},{"description":"Code status: 'available', 'redeemed', 'expired', 'disabled'","name":"status","nullable":false,"type":"string"},{"description":"If assigned to specific customer, stores their ID for personalized campaigns","name":"customer_assignment_id","nullable":true,"type":"uuid"},{"description":"How the code was redeemed: 'customer_entered', 'auto_applied', 'system_assigned'","name":"redemption_type","nullable":false,"type":"string"},{"description":"Context details for redemption tracking like landing page or campaign source","name":"redemption_context","nullable":true,"type":"string"},{"description":"Boolean ensuring redemption validation across customer and order constraints","name":"unique_usage_validation","nullable":false,"type":"boolean"},{"description":"Maximum duration in minutes a redemption can be pending validation","name":"redemption_session_timeout","nullable":false,"type":"int"},{"description":"Security hash for validating redemption authenticity against manipulation","name":"redemption_verification_hash","nullable":true,"type":"string"},{"description":"Geographic context for redemption for fraud detection and market analysis","name":"redemption_geo_location","nullable":true,"type":"string"},{"description":"Timestamp when code was successfully redeemed by customer","name":"redeemed_at","nullable":true,"type":"datetime"},{"description":"Timestamp when associated order completed payment processing","name":"redemption_order_timestamp","nullable":true,"type":"datetime"},{"description":"Current validation state: 'verified', 'pending', 'rejected', 'expired'","name":"validation_status","nullable":false,"type":"string"},{"description":"Timestamp when code was generated for campaign lifecycle tracking","name":"created_at","nullable":false,"type":"datetime"},{"description":"Timestamp when code status was last updated","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["coupon_id","status"]},{"fieldNames":["status","redeemed_at"]},{"fieldNames":["unique_usage_validation","validation_status"]}],"primaryField":{"description":"Primary Key","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["promotional_code"],"unique":true},{"fieldNames":["coupon_id","promotional_code"],"unique":true}]},{"description":"Calculation rules for how coupons affect orders defining discount application methods with hierarchical exclusions and sophisticated promotional combinations","foreignFields":[{"description":"Target coupon's {@link shopping_mall_coupons.id} for discount application rules","name":"coupon_id","nullable":false,"relation":{"name":"coupon","targetModel":"shopping_mall_coupons"},"type":"uuid","unique":true}],"ginIndexes":[],"material":false,"name":"shopping_mall_discounts","plainFields":[{"description":"How discount is calculated: 'percentage_of_subtotal', 'percentage_of_item', 'fixed_amount', 'tiered'","name":"discount_calculation_method","nullable":false,"type":"string"},{"description":"What the discount applies to: 'entire_order', 'specific_items', 'category_total', 'tiered_bonus'","name":"application_scope","nullable":false,"type":"string"},{"description":"Maximum number of times this discount can apply to a single order","name":"redemption_limit_per_order","nullable":false,"type":"int"},{"description":"Upper price limit for order eligibility to prevent abuse on high-value orders","name":"maximum_applicable_order_value","nullable":true,"type":"double"},{"description":"Minimum quantity of qualifying items required for discount application","name":"minimum_applicable_item_quantity","nullable":true,"type":"int"},{"description":"JSON array of customer segment codes eligible for this discount","name":"eligible_customer_segments","nullable":true,"type":"string"},{"description":"Comma-separated regions where this discount is not applicable for legal compliance","name":"restricted_geographic_regions","nullable":true,"type":"string"},{"description":"Priority order when multiple discounts apply (higher values override lower)","name":"stacking_priority","nullable":false,"type":"int"},{"description":"Structured tiers for graduated discount calculations: min quantity, discount percentage","name":"tiered_discount_tiers","nullable":true,"type":"string"},{"description":"Date-ranges when this discount can be applied for holiday campaigns","name":"seasonal_availability","nullable":true,"type":"string"},{"description":"Minimum number of participating sellers for marketplace-wide applicability","name":"vendor_participation_minimum","nullable":false,"type":"int"},{"description":"Timestamp when discount rule was created for audit tracking","name":"created_at","nullable":false,"type":"datetime"},{"description":"Timestamp when discount rule was last modified","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["application_scope","discount_calculation_method"]},{"fieldNames":["stacking_priority"]},{"fieldNames":["vendor_participation_minimum","seasonal_availability"]}],"primaryField":{"description":"Primary Key","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[{"fieldNames":["coupon_id"],"unique":true}]},{"name":"shopping_mall_seller_coupons","description":"Junction table managing coupon distribution to specific sellers. Enables marketplace-wide promotions targeting specific vendor participation.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"coupon_id","type":"uuid","description":"Target coupon's {@link shopping_mall_coupons.id} that is available to the seller.","relation":{"name":"coupon","targetModel":"shopping_mall_coupons"},"unique":false,"nullable":false},{"name":"seller_id","type":"uuid","description":"Target seller's {@link shopping_mall_sellers.id} who can use this coupon for their store.","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":false},{"name":"administrator_id","type":"uuid","description":"Target administrator's {@link shopping_mall_administrators.id} who assigned this coupon to seller.","relation":{"name":"administrator","targetModel":"shopping_mall_administrators"},"unique":false,"nullable":false}],"plainFields":[{"name":"is_enabled","type":"boolean","description":"Whether seller can actively use and distribute this coupon to their customers.","nullable":false},{"name":"assignment_type","type":"string","description":"Assignment method: 'auto' (system assigned), 'seller_request' (seller opted in), 'admin_selection' (manual assignment).","nullable":false},{"name":"notes","type":"string","description":"Administrative notes about why coupon was assigned to this seller. Used for internal tracking.","nullable":true},{"name":"assigned_at","type":"datetime","description":"Timestamp when coupon was assigned to seller. Tracks assignment timeline.","nullable":false},{"name":"expires_at","type":"datetime","description":"When seller's ability to use this coupon expires. Different from coupon's customer validity.","nullable":true}],"uniqueIndexes":[{"fieldNames":["coupon_id","seller_id"],"unique":true}],"plainIndexes":[{"fieldNames":["seller_id","is_enabled"]},{"fieldNames":["coupon_id","is_enabled"]},{"fieldNames":["expires_at","is_enabled"]}],"ginIndexes":[]},{"name":"shopping_mall_customer_coupons","description":"Tracks individual customer coupon usage, redemptions, and eligibility. Prevents coupon abuse while enabling personalized promotional campaigns.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"customer_id","type":"uuid","description":"Target customer's {@link shopping_mall_customers.id} who has access to or has used this coupon.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"coupon_id","type":"uuid","description":"Target coupon's {@link shopping_mall_coupons.id} that was provided to or used by the customer.","relation":{"name":"coupon","targetModel":"shopping_mall_coupons"},"unique":false,"nullable":false},{"name":"promotional_code_id","type":"uuid","description":"Target promotional code's {@link shopping_mall_promotional_codes.id} that was redeemed by customer.","relation":{"name":"promotionalCode","targetModel":"shopping_mall_promotional_codes"},"unique":true,"nullable":true},{"name":"order_id","type":"uuid","description":"Target order's {@link shopping_mall_orders.id} where coupon was applied. Links redemption to transaction.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":true,"nullable":true}],"plainFields":[{"name":"status","type":"string","description":"Coupon status for customer: 'assigned' (available to use), 'redeemed' (successfully used), 'expired' (past validity), 'cancelled' (manually revoked).","nullable":false},{"name":"assigned_at","type":"datetime","description":"Timestamp when coupon was first made available to customer. Tracks assignment timing.","nullable":false},{"name":"redeemed_at","type":"datetime","description":"Timestamp when customer successfully applied coupon to order. Tracks redemption timing.","nullable":true},{"name":"notification_sent_at","type":"datetime","description":"When customer was notified about coupon availability. Used for engagement tracking.","nullable":true},{"name":"discount_amount_applied","type":"double","description":"Actual discount amount that was applied to order. Used for financial reconciliation.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp. Tracks customer-coupon relationship establishment.","nullable":false},{"name":"updated_at","type":"datetime","description":"Record modification timestamp. Tracks status changes and usage updates.","nullable":false}],"uniqueIndexes":[{"fieldNames":["customer_id","coupon_id"],"unique":true}],"plainIndexes":[{"fieldNames":["customer_id","status"]},{"fieldNames":["coupon_id","status"]},{"fieldNames":["status","redeemed_at"]},{"fieldNames":["promotional_code_id","status"]}],"ginIndexes":[]}]},{"filename":"schema-07-coins.prisma","namespace":"Coins","models":[{"name":"shopping_mall_customer_coins","description":"Customer digital coin account with secure financial asset management, offering loyalty program participation with comprehensive balance tracking, tier progression, and usage analytics across the multi-vendor marketplace.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Account owner's {@link shopping_mall_customers.id} linking coin balance to registered customer identity.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_loyalty_tier_id","type":"uuid","description":"Current loyalty tier's {@link shopping_mall_loyalty_tiers.id} determining earning rate and unlockable rewards.","relation":{"name":"currentTier","targetModel":"shopping_mall_loyalty_tiers"},"unique":false,"nullable":true}],"plainFields":[{"name":"password_hash","type":"string","description":"Secure password hash protecting coin account access with encryption standards suitable for financial asset management.","nullable":false},{"name":"account_status","type":"string","description":"Financial account status: active, suspended, closed, locked maintaining security and audit trail.","nullable":false},{"name":"verification_status","type":"string","description":"Account verification level: unverified, email_verified, identity_verified ensuring compliance.","nullable":false},{"name":"balance","type":"int","description":"Current redeemable coin balance with proper validation for secure financial operations.","nullable":false},{"name":"total_earned","type":"int","description":"Lifetime coins earned including expired coins for comprehensive customer value tracking.","nullable":false},{"name":"total_redeemed","type":"int","description":"Total coins successfully redeemed for rewards enabling redemption history analysis.","nullable":false},{"name":"pending_balance","type":"int","description":"Coins pending redemption or processing enabling real-time accurate balance calculations.","nullable":false},{"name":"expired_balance","type":"int","description":"Accumulated expired coins removed from active circulation for audit compliance.","nullable":false},{"name":"tier_progress","type":"double","description":"Progress percentage toward next loyalty tier (0-100) supporting tier milestone celebrations.","nullable":false},{"name":"tier_qualification_amount","type":"double","description":"Monthly spending amount contributing to tier progression for transparent customer guidance.","nullable":false},{"name":"tier_qualification_starts_at","type":"datetime","description":"Current tier qualification period start date enabling monthly/annual qualification tracking.","nullable":false},{"name":"tier_qualification_ends_at","type":"datetime","description":"Current tier qualification period end date ensuring automatic tier progression.","nullable":false},{"name":"security_question_count","type":"int","description":"Number of failed security question attempts with automatic lockout protection.","nullable":false},{"name":"last_security_check_at","type":"datetime","description":"Last successful security verification maintaining financial account integrity.","nullable":true},{"name":"activity_notification_email","type":"boolean","description":"Automatic email notification when coin activity occurs providing customer security awareness.","nullable":false},{"name":"activity_notification_sms","type":"boolean","description":"SMS notification for significant coin transactions maintaining security monitoring.","nullable":false},{"name":"auto_redeem_enabled","type":"boolean","description":"Automatic redemption when eligible rewards become available enhancing customer experience.","nullable":false},{"name":"created_at","type":"datetime","description":"Coin account creation timestamp for audit trail and account lifecycle tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last account activity including balance changes ensuring data freshness.","nullable":false},{"name":"deleted_at","type":"datetime","description":"Account suspension timestamp for audit compliance while preserving transaction history.","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_customer_id"],"unique":true}],"plainIndexes":[{"fieldNames":["verification_status","account_status"]},{"fieldNames":["last_security_check_at"]},{"fieldNames":["shopping_loyalty_tier_id","tier_progress"]}],"ginIndexes":[]},{"name":"shopping_mall_earnings_history","description":"Comprehensive audit trail for coin earnings across multi-vendor marketplace operations, supporting sophisticated seller commission calculations, multi-order attribution, and detailed revenue tracking for business intelligence and financial reconciliation.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Customer earning coins {@link shopping_mall_customers.id} enabling loyalty program participation.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_order_id","type":"uuid","description":"Related multi-vendor order {@link shopping_mall_orders.id} linking earnings to purchase transactions.","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":true},{"name":"shopping_seller_id","type":"uuid","description":"Selling vendor {@link shopping_mall_sellers.id} whose products generated coin earnings for commission tracking.","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":false},{"name":"shopping_product_id","type":"uuid","description":"Specific product {@link shopping_mall_products.id} generating earnings enabling product-level analytics.","relation":{"name":"product","targetModel":"shopping_mall_products"},"unique":false,"nullable":true}],"plainFields":[{"name":"coins_earned","type":"int","description":"Coins credited to customer account from qualifying purchase activity.","nullable":false},{"name":"earning_type","type":"string","description":"Source activity: purchase, review, social_share, referral, welcome_bonus, milestone, manual_adjustment.","nullable":false},{"name":"seller_commission_rate","type":"double","description":"Commission percentage applied to seller at time of earning snapshot for audit trail.","nullable":false},{"name":"seller_commission_amount","type":"double","description":"Actual commission amount calculated from transaction for transparent financial tracking.","nullable":false},{"name":"platform_commission_rate","type":"double","description":"Platform commission rate at time of transaction enabling accurate financial reconciliation.","nullable":false},{"name":"platform_commission_amount","type":"double","description":"Platform commission amount ensuring proper revenue attribution across marketplace operations.","nullable":false},{"name":"seller_earnings_amount","type":"double","description":"Net seller amount after commission enabling vendor profitability analysis.","nullable":false},{"name":"order_subtotal","type":"double","description":"Order subtotal qualified for coin earning calculations supporting detailed analytics.","nullable":false},{"name":"coins_per_dollar","type":"double","description":"Earning rate calculation coins per dollar enabling transparent program mechanics.","nullable":true},{"name":"qualifying_purchase_amount","type":"double","description":"Purchase amount meeting loyalty program requirements for accurate earning attribution.","nullable":true},{"name":"milestone_name","type":"string","description":"Specific milestone achievement when earnings come from loyalty milestones enabling recognition.","nullable":true},{"name":"referral_code_used","type":"string","description":"Referral code generating earnings for affiliate tracking and marketing attribution.","nullable":true},{"name":"social_platform","type":"string","description":"Social media platform generating social_share earnings for multi-channel marketing.","nullable":true},{"name":"product_category","type":"string","description":"Product category generating earnings enabling category-based earning optimization.","nullable":true},{"name":"tier_multiplier_applied","type":"double","description":"Loyalty tier bonus multiplier applied to base earning rate for transparent tier benefits.","nullable":false},{"name":"earning_description","type":"string","description":"Detailed earning activity description for customer reference and comprehensive audit trail.","nullable":false},{"name":"earnings_calculation","type":"string","description":"Transparent calculation breakdown showing how earning amount was determined.","nullable":false},{"name":"expiration_policy","type":"string","description":"Coin expiration rules applied to this earning instance ensuring clear customer communication.","nullable":false},{"name":"promotional_multiplier","type":"double","description":"Promotional earning multiplier applied during special campaigns for accurate attribution.","nullable":false},{"name":"promotional_campaign_name","type":"string","description":"Specific promotional campaign that enhanced earning for marketing effectiveness analysis.","nullable":true},{"name":"external_reference_id","type":"string","description":"External system reference enabling integration with marketing platforms and affiliates.","nullable":true},{"name":"earning_qualified_at","type":"datetime","description":"Earning qualification timestamp ensuring suitable delay for returns and disputes.","nullable":false},{"name":"coins_expire_at","type":"datetime","description":"These specific coins expiration date maintaining accurate expiry management per earning.","nullable":true},{"name":"created_at","type":"datetime","description":"Record creation timestamp for comprehensive chronological tracking across marketplace operations.","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["earning_type","shopping_seller_id","created_at"]},{"fieldNames":["shopping_product_id","earning_type"]},{"fieldNames":["milestone_name","earning_qualified_at"]},{"fieldNames":["shopping_order_id","shopping_seller_id"]}],"ginIndexes":[{"fieldName":"earning_description"},{"fieldName":"product_category"}]},{"name":"shopping_mall_coin_redemptions","description":"Historical record of all coin redemptions for rewards. Provides audit trail for coin spending and maintains redemption history for loyalty program tracking.","material":false,"stance":"snapshot","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Customer who redeemed coins {@link shopping_mall_customers.id}.","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_reward_id","type":"uuid","description":"Reward that was redeemed {@link shopping_mall_rewards.id}.","relation":{"name":"reward","targetModel":"shopping_mall_rewards"},"unique":false,"nullable":false}],"plainFields":[{"name":"coins_redeemed","type":"int","description":"Number of coins redeemed for this reward. Positive integer.","nullable":false},{"name":"redemption_status","type":"string","description":"Status: 'pending', 'confirmed', 'delivered', 'cancelled', 'expired'.","nullable":false},{"name":"redemption_code","type":"string","description":"Unique verification code for tracking the reward redemption.","nullable":false},{"name":"redeemed_value","type":"double","description":"Monetary value of reward in USD at time of redemption.","nullable":false},{"name":"discount_amount","type":"double","description":"Discount amount applied to order when reward is used. Null if not applied to order.","nullable":true},{"name":"related_order_id","type":"uuid","description":"Order ID if reward was applied to an order. Null for standalone rewards.","nullable":true},{"name":"redeemed_at","type":"datetime","description":"Timestamp when redemption was initiated.","nullable":false},{"name":"confirmed_at","type":"datetime","description":"Timestamp when redemption was confirmed/approved.","nullable":true},{"name":"delivered_at","type":"datetime","description":"Timestamp when reward was delivered or applied.","nullable":true},{"name":"redeemed_by","type":"string","description":"Method used: 'customer_self', 'admin_assisted', 'automatic'.","nullable":false}],"uniqueIndexes":[{"fieldNames":["redemption_code"],"unique":true}],"plainIndexes":[{"fieldNames":["shopping_customer_id","redeemed_at"]},{"fieldNames":["redemption_status","redeemed_at"]},{"fieldNames":["shopping_reward_id","redeemed_at"]}],"ginIndexes":[]},{"description":"Comprehensive reward catalog enabling coin redemption for discounts, products, and special offers while managing sophisticated vendor-specific availability, geographical restrictions, and time-based campaigns with transparent value calculations for business intelligence.","foreignFields":[{"description":"Redeemable product {@link shopping_mall_products.id} enabling product-specific reward offerings.","name":"shopping_product_id","nullable":true,"relation":{"name":"product","targetModel":"shopping_mall_products"},"type":"uuid","unique":false},{"description":"Offering vendor {@link shopping_mall_sellers.id} providing reward supporting seller-specific promotions.","name":"shopping_seller_id","nullable":true,"relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"reward_name"},{"fieldName":"detailed_description"},{"fieldName":"reward_terms_completeness"}],"material":false,"name":"shopping_mall_rewards","plainFields":[{"description":"Unique reward identifier for catalog organization and redemption processing.","name":"reward_code","nullable":false,"type":"string"},{"description":"Customer-facing name displayed prominently in reward catalog and redemption interfaces.","name":"reward_name","nullable":false,"type":"string"},{"description":"Primary category: discount_percentage, discount_fixed, free_product, free_shipping, upgrade, exclusive_access, gift_card.","name":"reward_type","nullable":false,"type":"string"},{"description":"Monetary value in USD for accounting purposes enabling transparent business financial tracking.","name":"market_value","nullable":false,"type":"double"},{"description":"Coins required for redemption supporting flexible pricing strategies for different customer bands.","name":"coin_cost","nullable":false,"type":"int"},{"description":"Discount rate applied when redemption type is discount_percentage enabling percentage-based rewards.","name":"discount_percentage","nullable":true,"type":"double"},{"description":"Fixed monetary discount for discount_fixed type providing transparent pricing for customers.","name":"discount_fixed_amount","nullable":true,"type":"double"},{"description":"Minimum purchase requirement enabling strategic reward application for business growth.","name":"minimum_order_amount","nullable":true,"type":"double"},{"description":"Discount cap for percentage-based rewards maintaining cost control and business sustainability.","name":"maximum_discount_amount","nullable":true,"type":"double"},{"description":"Number of products awarded for free_product type supporting bundle reward strategies.","name":"free_product_quantity","nullable":true,"type":"int"},{"description":"Business workflow: draft, active, limited_time, seasonal, exclusive, expired enabling lifecycle management.","name":"reward_business_status","nullable":false,"type":"string"},{"description":"Availability scope: marketplace_wide, seller_specific, category_limited, geographic_restricted.","name":"vendor_availability","nullable":false,"type":"string"},{"description":"Geographic limitations if reward restricted to specific regions supporting international operations.","name":"target_geography","nullable":true,"type":"string"},{"description":"Eligible customer segments: all_customers, new_customers, loyalty_tier_specific, vip_only.","name":"customer_segment_target","nullable":true,"type":"string"},{"description":"Maximum redemptions per customer preventing reward abuse while encouraging program participation.","name":"usage_limit_per_customer","nullable":true,"type":"int"},{"description":"Total reward redemption limit enabling scarcity marketing and cost control strategies.","name":"total_usage_limit","nullable":true,"type":"int"},{"description":"Redemption counter tracking program effectiveness and availability status for customer guidance.","name":"current_usage_count","nullable":false,"type":"int"},{"description":"Reward active status controlling visibility and availability in reward catalog.","name":"is_active","nullable":false,"type":"boolean"},{"description":"Seasonal availability enabling holiday-specific and event-based reward campaigns.","name":"seasonal_restriction","nullable":true,"type":"string"},{"description":"Indication if reward requires minimum cart size for activation supporting upselling strategies.","name":"bulk_order_qualification","nullable":false,"type":"boolean"},{"description":"Reference enabling upgrade reward types where specific products unlock premium offerings.","name":"upgrade_from_product_id","nullable":true,"type":"string"},{"description":"Features unlocked by exclusive_access reward type providing VIP customer privileges.","name":"exclusive_access_features","nullable":true,"type":"string"},{"description":"Comprehensive reward explanation communicating benefits value proposition effectively.","name":"detailed_description","nullable":false,"type":"string"},{"description":"Complete terms and conditions ensuring customer understanding of redemption requirements.","name":"reward_terms_completeness","nullable":false,"type":"string"},{"description":"Step-by-step guidance for customers ensuring smooth reward application and usage.","name":"redemption_instructions","nullable":false,"type":"string"},{"description":"Visual representation in reward catalog enhancing customer recognition and engagement.","name":"reward_icon_url","nullable":true,"type":"uri"},{"description":"Marketing materials supporting reward promotion across platform touchpoints.","name":"promotional_banner_url","nullable":true,"type":"uri"},{"description":"Availability start date supporting planned reward campaigns for strategic business timing.","name":"valid_from","nullable":true,"type":"datetime"},{"description":"Availability end date maintaining automatic reward lifecycle management and customer clarity.","name":"valid_until","nullable":true,"type":"datetime"},{"description":"Catalog positioning enabling strategic reward highlighting based on business priorities.","name":"display_priority","nullable":false,"type":"int"},{"description":"Reward creation timestamp providing comprehensive audit trail for business analysis.","name":"created_at","nullable":false,"type":"datetime"},{"description":"Last modification tracking for reward optimization and maintenance synchronization.","name":"updated_at","nullable":false,"type":"datetime"},{"description":"Reward catalog removal timestamp supporting soft deletion while maintaining transaction history.","name":"deleted_at","nullable":true,"type":"datetime"}],"plainIndexes":[{"fieldNames":["vendor_availability","reward_business_status","display_priority"]},{"fieldNames":["customer_segment_target","is_active"]},{"fieldNames":["valid_from","valid_until"]},{"fieldNames":["shopping_seller_id","market_value"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["reward_code"],"unique":true}]},{"name":"shopping_mall_loyalty_tiers","description":"Sophisticated tier hierarchy enabling customer progression through loyalty program with transparent qualification requirements, earning multipliers, and automatic upgrade capabilities supporting strategic customer retention and value optimization.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[],"plainFields":[{"name":"tier_name","type":"string","description":"Descriptive name identifying tier level (Bronze, Silver, Gold, Platinum) for customer recognition.","nullable":false},{"name":"tier_level_order","type":"int","description":"Numbered hierarchy for technical progression calculations enabling automated tier upgrades.","nullable":false},{"name":"tier_code","type":"string","description":"Unique systematic identifier for integration and business logic reference.","nullable":false},{"name":"coin_earning_multiplier","type":"double","description":"Base earning rate multiplier providing transparent tier benefits and upgrade incentives.","nullable":false},{"name":"point_earning_rate","type":"double","description":"Points earned per dollar spent providing alternative calculation method for customer flexibility.","nullable":false},{"name":"tier_advancement_threshold","type":"double","description":"Spending required within qualification period for tier progression enabling clear customer goals.","nullable":false},{"name":"qualification_period_months","type":"int","description":"Measurement timeframe (months) for tier qualification tracking providing predictable evaluation cycles.","nullable":false},{"name":"tier_maintenance_threshold","type":"double","description":"Minimum spending required to maintain current tier preventing automatic downgrade.","nullable":true},{"name":"qualification_business_status","type":"string","description":"Tier workflow: active, upcoming, retiring, exclusive, invitation_only enabling tier lifecycle management.","nullable":false},{"name":"tier_access_control","type":"string","description":"Access restriction: public, invitation_only, exclusive, regional_restricted, segmented_based.","nullable":false},{"name":"annual_qualification_period","type":"boolean","description":"Annual vs monthly qualification period selection supporting different business calendar preferences.","nullable":false},{"name":"tier_cumulative_spending","type":"boolean","description":"Lifetime vs annual spending calculation enabling multiple progression strategies for customer retention.","nullable":false},{"name":"tier_entitlements_package","type":"string","description":"Comprehensive benefits JSON package detailing specific tier privileges and customer value propositions.","nullable":false},{"name":"tier_exclusions_and_restrictions","type":"string","description":"Transparent limitations and exclusions ensuring clear customer understanding of tier boundaries.","nullable":false},{"name":"upgrade_celebration_package","type":"string","description":"Automatic upgrade experiences including bonuses, notifications, and recognition for milestone celebrations.","nullable":true},{"name":"tier_downgrade_rules","type":"string","description":"Downgrade policies providing clear expectations and maintaining positive customer relationships.","nullable":true},{"name":"automatic_upgrade_enabled","type":"boolean","description":"Automated promotion to next tier when qualified ensuring smooth customer progression experience.","nullable":false},{"name":"tier_subscription_fee","type":"double","description":"Optional premium tiers charging monthly subscription fee for exclusive benefits and premium experiences.","nullable":true},{"name":"tier_target_customer_segment","type":"string","description":"Targeted customer group: all_customers, premium_customers, business_customers, new_customers, specific_segments.","nullable":false},{"name":"tier_geographic_availability","type":"string","description":"Market availability: global, specific_countries, invitation_only, regional_restrictions supporting international expansion.","nullable":true},{"name":"tier_promotional_period","type":"string","description":"Conditional availability: always_available, seasonal_only, promotional_periods, beta_customer_exclusive.","nullable":true},{"name":"tier_discontinuation_protection","type":"boolean","description":"Protection preventing active customers from losing earned tier status during business changes.","nullable":false},{"name":"earliest_qualification_date","type":"datetime","description":"Tier availability start date controlling product launch timing and market introduction strategy.","nullable":true},{"name":"latest_qualification_date","type":"datetime","description":"Tier availability end date supporting planned lifecycle management and graceful transition planning.","nullable":true},{"name":"tier_priority_display","type":"int","description":"Position in customer interface supporting strategic presentation of tier progression hierarchy.","nullable":false},{"name":"companion_tier_relationships","type":"string","description":"Tier relationships enabling complementary tiers and strategic upgrade pathway optimization.","nullable":true},{"name":"detailed_tier_benefits","type":"string","description":"Complete benefit description enabling transparent value proposition communication supporting customer decisions.","nullable":false},{"name":"tier_marketing_description","type":"string","description":"Customer-facing marketing materials communicating tier benefits and upgrade strategies effectively.","nullable":false},{"name":"created_at","type":"datetime","description":"Tier system creation timestamp supporting comprehensive audit trail and system evolution tracking.","nullable":false},{"name":"updated_at","type":"datetime","description":"Last tier optimization enabling continuous improvement based on customer behavior and business results.","nullable":false}],"uniqueIndexes":[{"fieldNames":["tier_code"],"unique":true}],"plainIndexes":[{"fieldNames":["qualification_business_status","tier_level_order"]},{"fieldNames":["tier_priority_display","qualification_business_status"]}],"ginIndexes":[{"fieldName":"detailed_tier_benefits"},{"fieldName":"tier_marketing_description"}]}]},{"filename":"schema-08-inquiries.prisma","namespace":"Inquiries","models":[{"name":"shopping_mall_customer_inquiries","description":"Customer inquiry submissions and communications tracking system enabling customers to submit questions, complaints, feedback, and support requests with complete audit trail management. Supports inquiry categorization, priority assignment, and communication history preservation for customer service excellence.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Target customer's {@link shopping_mall_customers.id} who submitted the inquiry","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":true},{"name":"shopping_order_id","type":"uuid","description":"Related order's {@link shopping_mall_orders.id} if inquiry concerns specific order","relation":{"name":"order","targetModel":"shopping_mall_orders"},"unique":false,"nullable":true},{"name":"shopping_seller_id","type":"uuid","description":"Target seller's {@link shopping_mall_sellers.id} if inquiry concerns specific seller","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":true}],"plainFields":[{"name":"subject","type":"string","description":"Brief summary of the inquiry subject matter","nullable":false},{"name":"inquiry_type","type":"string","description":"Primary category of inquiry: order_issue, product_question, shipping_concern, billing_inquiry, general_support, complaint, feedback","nullable":false},{"name":"priority","type":"string","description":"Urgency level: low, medium, high, urgent based on inquiry content and impact","nullable":false,"default":"medium"},{"name":"content","type":"string","description":"Detailed description of the inquiry or issue requiring support attention","nullable":false},{"name":"status","type":"string","description":"Current processing status: open, in_progress, pending_customer, pending_vendor, resolved, closed","nullable":false,"default":"open"},{"name":"source","type":"string","description":"Submission channel: website, email, phone, mobile_app, seller_portal, admin_portal","nullable":false},{"name":"assigned_to","type":"string","description":"Admin staff member or support agent assigned to handle this inquiry","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the inquiry was first submitted","nullable":false},{"name":"updated_at","type":"datetime","description":"Timestamp when the inquiry was last modified","nullable":false},{"name":"resolved_at","type":"datetime","description":"Timestamp when the inquiry was marked as resolved","nullable":true},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for legal audit trail preservation","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_order_id","inquiry_type","shopping_customer_id"],"unique":true}],"plainIndexes":[{"fieldNames":["status","priority","created_at"]},{"fieldNames":["shopping_customer_id","status","created_at"]},{"fieldNames":["assigned_to","status","created_at"]}],"ginIndexes":[{"fieldName":"subject"},{"fieldName":"content"}]},{"name":"shopping_mall_support_tickets","description":"Structured support ticket management system handling technical issues, account problems, and complex service requests requiring defined workflow processes and resolution tracking. Enables multi-step problem resolution with internal team coordination and customer communication management.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"inquiry_id","type":"uuid","description":"Parent customer inquiry's {@link shopping_mall_customer_inquiries.id} this ticket addresses","relation":{"name":"inquiry","targetModel":"shopping_mall_customer_inquiries"},"unique":true,"nullable":true},{"name":"shopping_customer_id","type":"uuid","description":"Customer's {@link shopping_mall_customers.id} if ticket is customer-initiated","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":true},{"name":"shopping_seller_id","type":"uuid","description":"Seller's {@link shopping_mall_sellers.id} if ticket concerns seller account or products","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":true},{"name":"assigned_admin_id","type":"uuid","description":"Supporting admin's {@link shopping_mall_administrators.id} assigned to handle this ticket","relation":{"name":"assignedAdmin","targetModel":"shopping_mall_administrators"},"unique":false,"nullable":true}],"plainFields":[{"name":"ticket_number","type":"string","description":"Human-readable ticket identifier: format TIC-YYMMDD-8digit-sequence for easy reference","nullable":false},{"name":"category","type":"string","description":"Ticket classification: technical_issue, account_problem, billing_dispute, order_error, seller_complaint, platform_bug, feature_request, data_correction","nullable":false},{"name":"status","type":"string","description":"Workflow status: new, assigned, in_progress, escalation_required, waiting_customer, waiting_vendor, testing_resolution, resolved, closed, archived","nullable":false,"default":"new"},{"name":"priority","type":"string","description":"Service level priority: critical_1h_response, high_4h_response, medium_24h_response, low_72h_response","nullable":false,"default":"medium_24h_response"},{"name":"title","type":"string","description":"Concise title summarizing the issue or request requiring resolution","nullable":false},{"name":"description","type":"string","description":"Detailed technical description of the problem, symptoms, and expected resolution","nullable":false},{"name":"internal_notes","type":"string","description":"Internal team communication and technical notes not visible to customers","nullable":true},{"name":"resolution_summary","type":"string","description":"Final resolution description explaining solution applied and customer communication","nullable":true},{"name":"escalation_level","type":"int","description":"Escalation hierarchy level: 0=regular, 1=team_lead, 2=manager, 3=director","nullable":false,"default":0},{"name":"sla_deadline","type":"datetime","description":"Deadline for initial response based on priority level and creation timestamp","nullable":false},{"name":"created_at","type":"datetime","description":"Ticket creation timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false},{"name":"resolved_at","type":"datetime","description":"Resolution completion timestamp","nullable":true},{"name":"closed_at","type":"datetime","description":"Final closure timestamp after verification","nullable":true},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for audit trail maintenance","nullable":true}],"uniqueIndexes":[{"fieldNames":["ticket_number"],"unique":true}],"plainIndexes":[{"fieldNames":["status","priority","created_at"]},{"fieldNames":["shopping_customer_id","status","created_at"]},{"fieldNames":["assigned_admin_id","status","created_at"]},{"fieldNames":["category","priority","created_at"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"description"}]},{"name":"shopping_mall_faqs","description":"Frequently asked questions content management for public knowledge base supporting customer self-service and reducing support volume. Enables categorized question organization with structured answers and helpfulness tracking.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"created_by_admin_id","type":"uuid","description":"Admin's {@link shopping_mall_administrators.id} who created this FAQ entry","relation":{"name":"createdByAdmin","targetModel":"shopping_mall_administrators"},"unique":false,"nullable":false}],"plainFields":[{"name":"question","type":"string","description":"Customer-oriented question phrased for easy search and understanding","nullable":false},{"name":"answer","type":"string","description":"Comprehensive detailed answer with step-by-step instructions when applicable","nullable":false},{"name":"category","type":"string","description":"Knowledge area classification: ordering, payment, shipping, returns, account, products, sellers, technical","nullable":false},{"name":"keywords","type":"string","description":"Search terms and synonyms for improved FAQ discovery","nullable":false},{"name":"helpful_count","type":"int","description":"Number of users who found this FAQ helpful","nullable":false,"default":0},{"name":"view_count","type":"int","description":"Total number of times this FAQ has been viewed","nullable":false,"default":0},{"name":"priority","type":"int","description":"Display ordering priority where lower numbers appear first","nullable":false,"default":100},{"name":"is_featured","type":"boolean","description":"Whether this FAQ should be prominently featured in search results","nullable":false,"default":false},{"name":"is_published","type":"boolean","description":"Publication status controlling public visibility","nullable":false,"default":true},{"name":"created_at","type":"datetime","description":"Creation timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false},{"name":"published_at","type":"datetime","description":"Publication timestamp","nullable":true},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp","nullable":true}],"uniqueIndexes":[{"fieldNames":["question","category"],"unique":true}],"plainIndexes":[{"fieldNames":["category","is_published","priority"]},{"fieldNames":["is_featured","is_published","priority"]}],"ginIndexes":[{"fieldName":"question"},{"fieldName":"answer"},{"fieldName":"keywords"}]},{"name":"shopping_mall_help_articles","description":"Comprehensive help documentation articles forming extended knowledge base with rich content, categorized guides, tutorials, and platform policy explanations. Supports multimedia content and hierarchical organization for customer education.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"created_by_admin_id","type":"uuid","description":"Author admin's {@link shopping_mall_administrators.id} who created this article","relation":{"name":"author","targetModel":"shopping_mall_administrators"},"unique":false,"nullable":false},{"name":"parent_article_id","type":"uuid","description":"Parent article's {@link shopping_mall_help_articles.id} for hierarchical content organization","relation":{"name":"parentArticle","targetModel":"shopping_mall_help_articles","mappingName":"recursive"},"unique":false,"nullable":true}],"plainFields":[{"name":"title","type":"string","description":"Article headline optimized for search and clear topic identification","nullable":false},{"name":"slug","type":"string","description":"URL-friendly identifier for article navigation: getting-started-guide","nullable":false},{"name":"content","type":"string","description":"Comprehensive article content with markdown support for rich formatting","nullable":false},{"name":"summary","type":"string","description":"Brief excerpt displayed in search results and category listings","nullable":false},{"name":"category","type":"string","description":"Primary classification: getting-started, account-management, selling-guide, buying-guide, platform-policies, technical-help","nullable":false},{"name":"tags","type":"string","description":"Comma-separated tags for cross-referencing and improved discoverability","nullable":false},{"name":"article_type","type":"string","description":"Content format: tutorial, guide, policy, announcement, troubleshooting, faq-collection","nullable":false},{"name":"estimated_read_time","type":"int","description":"Estimated reading time in minutes for user convenience","nullable":true},{"name":"feature_image_uri","type":"uri","description":"Header image URI for visual appeal and social media sharing","nullable":true},{"name":"view_count","type":"int","description":"Total article views for popularity tracking","nullable":false,"default":0},{"name":"like_count","type":"int","description":"User likes or positive ratings for quality indication","nullable":false,"default":0},{"name":"is_featured","type":"boolean","description":"Featured article designation for homepage and prominent placement","nullable":false,"default":false},{"name":"is_published","type":"boolean","description":"Publication status controlling article visibility","nullable":false,"default":true},{"name":"published_at","type":"datetime","description":"Publication timestamp when article became publicly available","nullable":true},{"name":"last_reviewed_at","type":"datetime","description":"Last content accuracy review timestamp for currency maintenance","nullable":true},{"name":"created_at","type":"datetime","description":"Article creation timestamp","nullable":false},{"name":"updated_at","type":"datetime","description":"Last content modification timestamp","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp for content management and audit","nullable":true}],"uniqueIndexes":[{"fieldNames":["slug"],"unique":true}],"plainIndexes":[{"fieldNames":["category","is_published","created_at"]},{"fieldNames":["article_type","is_published","created_at"]},{"fieldNames":["is_featured","is_published","created_at"]}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"summary"},{"fieldName":"content"},{"fieldName":"tags"}]}]},{"filename":"schema-09-favorites.prisma","namespace":"Favorites","models":[{"name":"shopping_mall_favorites","description":"Customer's favorite products for quick access and personalized shopping experience. Enables customers to save frequently purchased or desired items for easy reordering and wishlist management across the multi-vendor marketplace.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Customer's {@link shopping_mall_customers.id} who saved the favorite item","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_product_id","type":"uuid","description":"Product item's {@link shopping_mall_products.id} that was favorited","relation":{"name":"product","targetModel":"shopping_mall_products"},"unique":false,"nullable":false}],"plainFields":[{"name":"note","type":"string","description":"Optional note or reminder about why this item was favorited","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the item was added to favorites","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp for the favorite record","nullable":false},{"name":"deleted_at","type":"datetime","description":"Soft deletion timestamp - favorites can be removed and potentially restored","nullable":true}],"uniqueIndexes":[{"fieldNames":["shopping_customer_id","shopping_product_id"],"unique":true}],"plainIndexes":[{"fieldNames":["created_at"]},{"fieldNames":["deleted_at"]},{"fieldNames":["shopping_customer_id","updated_at"]}],"ginIndexes":[]},{"name":"shopping_mall_customer_preferences","description":"Customer-specific preferences and settings for personalized platform experience. Contains user customization options, notification preferences, privacy settings, and interface preferences that enhance the shopping experience across the multi-vendor marketplace.","material":false,"stance":"primary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Customer's {@link shopping_mall_customers.id} who owns these preferences","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":true,"nullable":false}],"plainFields":[{"name":"email_notifications","type":"boolean","description":"Whether to receive promotional email notifications","nullable":false},{"name":"sms_notifications","type":"boolean","description":"Whether to receive SMS/text notifications for orders and shipping","nullable":false},{"name":"price_drop_alerts","type":"boolean","description":"Whether to receive notifications when favorited items drop in price","nullable":false},{"name":"back_in_stock_alerts","type":"boolean","description":"Whether to receive notifications when out-of-stock items become available","nullable":false},{"name":"wishlist_sharing","type":"boolean","description":"Whether the customer's wishlist is publicly shareable via URL","nullable":false},{"name":"personalized_recommendations","type":"boolean","description":"Whether to enable personalized product recommendations based on browsing history","nullable":false},{"name":"language_preference","type":"string","description":"Customer's preferred interface language (e.g., 'en-US', 'ko-KR')","nullable":true},{"name":"currency_preference","type":"string","description":"Customer's preferred currency for price display (e.g., 'USD', 'KRW')","nullable":true},{"name":"timezone_preference","type":"string","description":"Customer's preferred timezone for timestamp display","nullable":true},{"name":"created_at","type":"datetime","description":"Timestamp when the preferences were first established","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp for preferences","nullable":false}],"uniqueIndexes":[],"plainIndexes":[{"fieldNames":["shopping_customer_id"]},{"fieldNames":["email_notifications","sms_notifications"]}],"ginIndexes":[]},{"name":"shopping_mall_recently_viewed","description":"Customer's recently viewed products for browsing history tracking and personalized recommendations. Supports the shopping experience by enabling customers to quickly return to previously browsed items and provides data for recommendation algorithms.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Customer's {@link shopping_mall_customers.id} who viewed the product","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_product_id","type":"uuid","description":"Product item's {@link shopping_mall_products.id} that was viewed","relation":{"name":"product","targetModel":"shopping_mall_products"},"unique":false,"nullable":false}],"plainFields":[{"name":"view_count","type":"int","description":"Number of times this product was viewed by the customer","nullable":false},{"name":"last_viewed_at","type":"datetime","description":"Timestamp of the most recent viewing session","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the product was first viewed","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false}],"uniqueIndexes":[{"fieldNames":["shopping_customer_id","shopping_product_id"],"unique":true}],"plainIndexes":[{"fieldNames":["last_viewed_at"]},{"fieldNames":["shopping_customer_id","last_viewed_at"]}],"ginIndexes":[]},{"name":"shopping_mall_followed_sellers","description":"Customer's followed sellers for brand loyalty and new product notifications. Enables customers to receive updates about new products, promotions, and seller activities while providing sellers with follower analytics for marketing insights in the multi-vendor marketplace.","material":false,"stance":"subsidiary","primaryField":{"name":"id","type":"uuid","description":"Primary Key."},"foreignFields":[{"name":"shopping_customer_id","type":"uuid","description":"Customer's {@link shopping_mall_customers.id} who follows the seller","relation":{"name":"customer","targetModel":"shopping_mall_customers"},"unique":false,"nullable":false},{"name":"shopping_seller_id","type":"uuid","description":"Seller's {@link shopping_mall_sellers.id} who is being followed","relation":{"name":"seller","targetModel":"shopping_mall_sellers"},"unique":false,"nullable":false}],"plainFields":[{"name":"followed_at","type":"datetime","description":"Timestamp when the seller was initially followed","nullable":false},{"name":"notification_frequency","type":"string","description":"Preferred notification frequency: 'immediate', 'daily_digest', 'weekly_digest', 'none'","nullable":false},{"name":"created_at","type":"datetime","description":"Timestamp when the follow relationship was established","nullable":false},{"name":"updated_at","type":"datetime","description":"Last modification timestamp","nullable":false}],"uniqueIndexes":[{"fieldNames":["shopping_customer_id","shopping_seller_id"],"unique":true}],"plainIndexes":[{"fieldNames":["followed_at"]},{"fieldNames":["shopping_customer_id","notification_frequency"]}],"ginIndexes":[]}]},{"filename":"schema-10-articles.prisma","namespace":"Articles","models":[{"description":"Blog post content management for shopping mall platform with publishing workflow and author relationships","foreignFields":[{"description":"Author administrator's {@link shopping_mall_administrators.id}","name":"administrator_id","nullable":false,"relation":{"name":"author","targetModel":"shopping_mall_administrators"},"type":"uuid","unique":false},{"description":"Primary category's {@link shopping_mall_categories.id}","name":"category_id","nullable":true,"relation":{"name":"category","targetModel":"shopping_mall_categories"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"content"},{"fieldName":"tags"}],"material":false,"name":"shopping_mall_blog_posts","plainFields":[{"description":"Blog post title displayed to readers","name":"title","nullable":false,"type":"string"},{"description":"URL-friendly slug for SEO optimization","name":"slug","nullable":false,"type":"string"},{"description":"Brief excerpt or summary for previews","name":"excerpt","nullable":true,"type":"string"},{"description":"Main blog post content in markdown or HTML format","name":"content","nullable":false,"type":"string"},{"description":"Publishing status: draft, pending, published, archived","name":"status","nullable":false,"type":"string"},{"description":"Detailed workflow state","name":"publishing_status","nullable":false,"type":"string"},{"description":"Whether post appears in featured section","name":"is_featured","nullable":false,"type":"boolean"},{"description":"Number of approved comments","name":"comment_count","nullable":false,"type":"int"},{"description":"Total view count for analytics","name":"view_count","nullable":false,"type":"int"},{"description":"When the post was published","name":"published_at","nullable":true,"type":"datetime"},{"description":"When the post is scheduled for publication","name":"scheduled_at","nullable":true,"type":"datetime"},{"description":"When featured status expires","name":"featured_until","nullable":true,"type":"datetime"},{"description":"SEO meta title override","name":"meta_title","nullable":true,"type":"string"},{"description":"SEO meta description","name":"meta_description","nullable":true,"type":"string"},{"description":"Comma-separated tags for filtering","name":"tags","nullable":true,"type":"string"},{"description":"Estimated reading time in minutes","name":"read_time_minutes","nullable":false,"type":"int"},{"description":"Total word count for content analysis","name":"word_count","nullable":false,"type":"int"},{"description":"Soft delete timestamp for content removal","name":"deleted_at","nullable":true,"type":"datetime"},{"description":"When the blog post was created","name":"created_at","nullable":false,"type":"datetime"},{"description":"When the blog post was last modified","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["status","publishing_status"]},{"fieldNames":["published_at"]},{"fieldNames":["scheduled_at"]},{"fieldNames":["is_featured","featured_until"]},{"fieldNames":["category_id","status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["slug"],"unique":true}]},{"description":"Static content pages for shopping mall platform including policies, help, and marketing content","foreignFields":[{"description":"Page author's {@link shopping_mall_administrators.id}","name":"administrator_id","nullable":false,"relation":{"name":"author","targetModel":"shopping_mall_administrators"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"content"}],"material":false,"name":"shopping_mall_content_pages","plainFields":[{"description":"Page title displayed to visitors","name":"title","nullable":false,"type":"string"},{"description":"URL path segment for page navigation","name":"slug","nullable":false,"type":"string"},{"description":"Page content in HTML or markdown format","name":"content","nullable":false,"type":"string"},{"description":"Brief summary for navigation aids","name":"excerpt","nullable":true,"type":"string"},{"description":"Type: about, policy, help, terms, privacy, contact, custom","name":"page_type","nullable":false,"type":"string"},{"description":"Publishing status: draft, published, archived","name":"status","nullable":false,"type":"string"},{"description":"Detailed workflow state for content approval","name":"publishing_status","nullable":false,"type":"string"},{"description":"Whether page is accessible to public visitors","name":"is_public","nullable":false,"type":"boolean"},{"description":"Whether login is required to view page","name":"requires_authentication","nullable":false,"type":"boolean"},{"description":"Display order in navigation menus","name":"menu_order","nullable":true,"type":"int"},{"description":"Parent page slug for hierarchical navigation","name":"parent_slug","nullable":true,"type":"string"},{"description":"Page template identifier for custom layouts","name":"template","nullable":true,"type":"string"},{"description":"Override page title for SEO","name":"meta_title","nullable":true,"type":"string"},{"description":"SEO meta description","name":"meta_description","nullable":true,"type":"string"},{"description":"OpenGraph title for social sharing","name":"og_title","nullable":true,"type":"string"},{"description":"OpenGraph description","name":"og_description","nullable":true,"type":"string"},{"description":"OpenGraph image file's {@link attachment_files.id}","name":"og_image_id","nullable":true,"type":"uuid"},{"description":"Page view analytics counter","name":"view_count","nullable":false,"type":"int"},{"description":"When page content was last reviewed","name":"last_reviewed_at","nullable":true,"type":"datetime"},{"description":"Months between content reviews","name":"review_frequency_months","nullable":true,"type":"int"},{"description":"Soft delete timestamp","name":"deleted_at","nullable":true,"type":"datetime"},{"description":"When page became publicly available","name":"published_at","nullable":true,"type":"datetime"},{"description":"When the content page was created","name":"created_at","nullable":false,"type":"datetime"},{"description":"When the content page was last modified","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["page_type","status"]},{"fieldNames":["status","publishing_status"]},{"fieldNames":["is_public"]},{"fieldNames":["menu_order"]},{"fieldNames":["parent_slug"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["slug"],"unique":true}]},{"description":"Promotional banner management for shopping mall platform with placement and targeting features","foreignFields":[{"description":"Banner creator's {@link shopping_mall_administrators.id}","name":"administrator_id","nullable":false,"relation":{"name":"creator","targetModel":"shopping_mall_administrators"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"display_title"}],"material":false,"name":"shopping_mall_banners","plainFields":[{"description":"Internal banner title for management","name":"title","nullable":false,"type":"string"},{"description":"Customer-facing banner title","name":"display_title","nullable":true,"type":"string"},{"description":"Banner description or call-to-action text","name":"description","nullable":true,"type":"string"},{"description":"Type: hero, sidebar, popup, footer, interstitial","name":"banner_type","nullable":false,"type":"string"},{"description":"Page placement: home, category, product, checkout, global","name":"placement","nullable":false,"type":"string"},{"description":"Position on page: top, bottom, left, right, center","name":"position","nullable":false,"type":"string"},{"description":"Active, inactive, scheduled, expired","name":"status","nullable":false,"type":"string"},{"description":"Display priority (higher shows first)","name":"priority","nullable":false,"type":"int"},{"description":"When banner becomes active","name":"start_date","nullable":false,"type":"datetime"},{"description":"When banner expires","name":"end_date","nullable":true,"type":"datetime"},{"description":"URL for banner click-through","name":"click_url","nullable":true,"type":"uri"},{"description":"Whether banner supports click-through","name":"is_clickable","nullable":false,"type":"boolean"},{"description":"Audience targeting: all, new_customers, returning_customers","name":"target_audience","nullable":true,"type":"string"},{"description":"Maximum impressions before deactivation","name":"impression_limit","nullable":true,"type":"int"},{"description":"Maximum clicks before deactivation","name":"click_limit","nullable":true,"type":"int"},{"description":"Current impression counter","name":"impression_count","nullable":false,"type":"int"},{"description":"Current click counter","name":"click_count","nullable":false,"type":"int"},{"description":"Conversion tracking counter","name":"conversion_count","nullable":false,"type":"int"},{"description":"Promotional priority flag","name":"is_featured","nullable":false,"type":"boolean"},{"description":"Soft delete timestamp","name":"deleted_at","nullable":true,"type":"datetime"},{"description":"When banner was created","name":"created_at","nullable":false,"type":"datetime"},{"description":"When banner was last modified","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["status","start_date","end_date"]},{"fieldNames":["banner_type","placement"]},{"fieldNames":["priority","status"]},{"fieldNames":["impression_limit","impression_count"]},{"fieldNames":["target_audience","status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[]},{"description":"Newsletter and email marketing content management with subscription targeting and campaign tracking","foreignFields":[{"description":"Content creator's {@link shopping_mall_administrators.id}","name":"administrator_id","nullable":false,"relation":{"name":"creator","targetModel":"shopping_mall_administrators"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"preview_text"}],"material":false,"name":"shopping_mall_newsletter_content","plainFields":[{"description":"Newsletter subject line or internal title","name":"title","nullable":false,"type":"string"},{"description":"URL-friendly identifier for tracking","name":"slug","nullable":false,"type":"string"},{"description":"HTML email content body","name":"content_html","nullable":false,"type":"string"},{"description":"Plain text email content alternative","name":"content_text","nullable":true,"type":"string"},{"description":"Preview snippet shown in email clients","name":"preview_text","nullable":false,"type":"string"},{"description":"Email template: newsletter, promotional, transactional","name":"template_type","nullable":false,"type":"string"},{"description":"Campaign: weekly, product_launch, sale, announcement","name":"campaign_type","nullable":false,"type":"string"},{"description":"Status: draft, scheduled, sent, archived","name":"status","nullable":false,"type":"string"},{"description":"Detailed workflow state","name":"publishing_status","nullable":false,"type":"string"},{"description":"Total recipients in campaign","name":"recipients_count","nullable":false,"type":"int"},{"description":"Number of emails successfully sent","name":"sent_count","nullable":false,"type":"int"},{"description":"Number of email opens tracked","name":"opened_count","nullable":false,"type":"int"},{"description":"Number of link clicks tracked","name":"clicked_count","nullable":false,"type":"int"},{"description":"Number of bounced emails","name":"bounced_count","nullable":false,"type":"int"},{"description":"Number of unsubscribes","name":"unsubscribed_count","nullable":false,"type":"int"},{"description":"When newsletter was/will be sent","name":"send_date","nullable":true,"type":"datetime"},{"description":"Scheduled send date and time","name":"scheduled_for","nullable":true,"type":"datetime"},{"description":"Recipient segment: all, new_customers, vip, inactive","name":"target_segment","nullable":true,"type":"string"},{"description":"Whether content uses personalization tokens","name":"is_personalized","nullable":false,"type":"boolean"},{"description":"Personalization tokens and merge fields","name":"personalization_data","nullable":true,"type":"string"},{"description":"Whether email tracking is enabled","name":"tracking_enabled","nullable":false,"type":"boolean"},{"description":"Soft delete timestamp","name":"deleted_at","nullable":true,"type":"datetime"},{"description":"When newsletter content was created","name":"created_at","nullable":false,"type":"datetime"},{"description":"When newsletter content was last modified","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["status","scheduled_for"]},{"fieldNames":["campaign_type","send_date"]},{"fieldNames":["target_segment","status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"primary","uniqueIndexes":[{"fieldNames":["slug"],"unique":true}]},{"description":"Editorial content scheduling and planning system for coordinated content publishing","foreignFields":[{"description":"Calendar owner's {@link shopping_mall_administrators.id}","name":"administrator_id","nullable":false,"relation":{"name":"owner","targetModel":"shopping_mall_administrators","mappingName":"shopping_mall_editorial_calendar_of_administrator_id"},"type":"uuid","unique":false},{"description":"Linked content resource ID for scheduling","name":"content_reference_id","nullable":true,"relation":{"name":"contentReference","targetModel":"shopping_mall_blog_posts"},"type":"uuid","unique":false},{"description":"Assigned creator's {@link shopping_mall_administrators.id}","name":"assigned_to_id","nullable":true,"relation":{"name":"assignedTo","targetModel":"shopping_mall_administrators","mappingName":"shopping_mall_editorial_calendar_of_assigned_to_id"},"type":"uuid","unique":false}],"ginIndexes":[{"fieldName":"title"},{"fieldName":"keywords"}],"material":false,"name":"shopping_mall_editorial_calendar","plainFields":[{"description":"Editorial item title or topic","name":"title","nullable":false,"type":"string"},{"description":"Detailed assignment description","name":"description","nullable":true,"type":"string"},{"description":"Type: blog_post, newsletter, banner, content_page","name":"content_type","nullable":false,"type":"string"},{"description":"Status: planned, assigned, in_progress, completed, published","name":"status","nullable":false,"type":"string"},{"description":"Priority: low, medium, high, urgent","name":"priority","nullable":false,"type":"string"},{"description":"Target publication or completion date","name":"scheduled_date","nullable":true,"type":"datetime"},{"description":"Hard deadline for content delivery","name":"deadline","nullable":true,"type":"datetime"},{"description":"When editorial item was completed","name":"completed_at","nullable":true,"type":"datetime"},{"description":"When associated content was published","name":"published_at","nullable":true,"type":"datetime"},{"description":"Estimated effort required in hours","name":"estimated_hours","nullable":true,"type":"double"},{"description":"Actual hours spent on creation","name":"actual_hours","nullable":true,"type":"double"},{"description":"SEO and topic keywords","name":"keywords","nullable":true,"type":"string"},{"description":"Intended audience description","name":"target_audience","nullable":true,"type":"string"},{"description":"Associated marketing campaigns","name":"related_campaigns","nullable":true,"type":"string"},{"description":"Internal notes and communications","name":"notes","nullable":true,"type":"string"},{"description":"Editorial approval: pending, approved, rejected","name":"approval_status","nullable":true,"type":"string"},{"description":"Approving administrator's ID","name":"approved_by_id","nullable":true,"type":"uuid"},{"description":"Soft delete timestamp","name":"deleted_at","nullable":true,"type":"datetime"},{"description":"When editorial item was created","name":"created_at","nullable":false,"type":"datetime"},{"description":"When editorial item was last modified","name":"updated_at","nullable":false,"type":"datetime"}],"plainIndexes":[{"fieldNames":["scheduled_date","deadline"]},{"fieldNames":["content_type","status"]},{"fieldNames":["priority","status"]},{"fieldNames":["scheduled_date","status"]}],"primaryField":{"description":"Primary Key.","name":"id","type":"uuid"},"stance":"subsidiary","uniqueIndexes":[]}]}]}