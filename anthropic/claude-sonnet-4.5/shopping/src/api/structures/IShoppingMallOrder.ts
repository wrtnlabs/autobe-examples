import { tags } from "typia";

/**
 * Customer order.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IShoppingMallOrder = {
  /** Order identifier. */
  id: string & tags.Format<"uuid">;

  /** Order number. */
  order_number: string;

  /** Order status. */
  status: string;
};
export namespace IShoppingMallOrder {
  /** Order search. */
  export type IRequest = {
    /** Page. */
    page?: (number & tags.Type<"int32">) | undefined;
  };

  /** Order summary. */
  export type ISummary = {
    /** Order ID. */
    id: string & tags.Format<"uuid">;

    /** Order number. */
    order_number: string;

    /** Status. */
    status: string;
  };

  /** Order creation. */
  export type ICreate = {
    /** Address ID. */
    delivery_address_id: string & tags.Format<"uuid">;

    /** Payment ID. */
    payment_method_id: string & tags.Format<"uuid">;

    /** Shipping. */
    shipping_method: string;
  };

  /** Order created. */
  export type ICreateResponse = {
    /** Message. */
    message: string;

    /** Order IDs. */
    order_ids: (string & tags.Format<"uuid">)[];
  };

  /** Cancel request. */
  export type ICancelRequest = {
    /** Reason. */
    cancellation_reason: string;
  };

  /**
   * Response confirming order cancellation request submission with workflow
   * status and refund information.
   *
   * This response provides customers with immediate feedback about their
   * cancellation request, including whether the cancellation was processed
   * immediately or requires seller approval. It contains essential
   * information for tracking the cancellation workflow through completion and
   * understanding when refunds will be received.
   *
   * For immediate cancellations (orders in early states before seller
   * confirmation), the response indicates the cancellation is approved or
   * completed with refund processing initiated. For cancellations requiring
   * approval (orders in confirmed or preparing_shipment states), the response
   * shows pending_approval status and provides the seller response deadline.
   *
   * Customers use this information to understand the cancellation outcome,
   * track refund status, and know when to expect funds returned to their
   * payment method. The response includes actionable timeline information and
   * clear messaging about next steps in the cancellation and refund process.
   */
  export type ICancelResponse = {
    /**
     * Unique identifier of the created cancellation request record.
     *
     * This ID references the shopping_mall_cancellations table entry that
     * tracks the complete cancellation workflow including approval status,
     * refund processing, and timeline information.
     */
    cancellation_id: string & tags.Format<"uuid">;

    /**
     * Unique identifier of the order being cancelled.
     *
     * References the shopping_mall_orders table record that contains the
     * complete order information including items, pricing, delivery
     * details, and current status.
     */
    order_id: string & tags.Format<"uuid">;

    /**
     * Human-readable order identifier displayed to customers.
     *
     * Format: ORD-YYYYMMDD-NNNNNN (e.g., ORD-20251013-000001). This number
     * is used for customer communication and order tracking throughout the
     * platform.
     */
    order_number: string;

    /**
     * Current status of the cancellation request workflow.
     *
     * Valid values:
     *
     * - Pending_approval: Request submitted, awaiting seller confirmation
     *   (for orders in confirmed/preparing_shipment states)
     * - Approved: Cancellation approved by seller or auto-approved, refund
     *   processing initiated
     * - Rejected: Seller rejected the cancellation request (customer notified
     *   with reason)
     * - Completed: Cancellation and refund fully processed, order marked as
     *   cancelled
     *
     * Immediate cancellations (for orders in early states like
     * payment_confirmed or awaiting_seller_confirmation) are created with
     * status 'approved' or 'completed' directly.
     */
    cancellation_status: string;

    /**
     * Total amount to be refunded to the customer.
     *
     * Typically equals the order's total_amount including all items,
     * shipping costs, and taxes. Calculated at the time of cancellation to
     * ensure accurate refund processing through the payment gateway.
     */
    refund_amount: number;

    /**
     * Indicates whether the refund payment has been successfully processed
     * to the customer's account.
     *
     * When true, the refund transaction has completed and funds have been
     * returned to the customer's original payment method. When false, the
     * refund is pending or in progress through the payment gateway.
     */
    refund_processed: boolean;

    /**
     * Human-readable description of when the customer can expect to receive
     * their refund.
     *
     * Typically states '5-10 business days for credit/debit cards' or '24
     * hours for digital wallets'. Provides customer guidance on refund
     * timing based on the original payment method used for the order.
     */
    expected_refund_timeline?: string | undefined;

    /**
     * User-friendly confirmation message summarizing the cancellation
     * status.
     *
     * Examples:
     *
     * - 'Your order has been cancelled successfully. You will receive a full
     *   refund within 5-10 business days.'
     * - 'Your cancellation request has been submitted to the seller for
     *   approval. You will be notified of their decision within 24 hours.'
     * - 'Your cancellation request is being processed. Refund will be issued
     *   shortly.'
     *
     * Provides immediate feedback to customers about the cancellation
     * outcome and next steps.
     */
    message: string;

    /**
     * Timestamp when the cancellation request was submitted by the
     * customer.
     *
     * Recorded in ISO 8601 format with timezone information. Used for
     * tracking cancellation request timing, enforcing seller response
     * deadlines, and providing timeline information to customers.
     */
    requested_at: string & tags.Format<"date-time">;

    /**
     * Deadline by which the seller must respond to the cancellation
     * request.
     *
     * Set to 24 hours from requested_at timestamp for cancellations
     * requiring seller approval. If the seller does not respond by this
     * deadline, the cancellation is automatically approved per business
     * rules. Null for immediate cancellations that do not require seller
     * approval.
     */
    seller_response_deadline?: (string & tags.Format<"date-time">) | undefined;
  };

  /**
   * Refund request creation data submitted by customers for delivered orders.
   *
   * Customers use this request body when submitting refund requests for
   * orders that have been delivered within the 30-day return window. The
   * refund request initiates the approval workflow where sellers have 3
   * business days to respond before automatic approval occurs.
   *
   * The request captures essential information for refund review including
   * the categorized reason (enabling pattern analysis), detailed customer
   * description (providing full context for reviewers), and requested refund
   * amount (typically full order total but may be partial).
   *
   * This information is evaluated by sellers first, who can approve full
   * refunds, offer partial refunds with justification, or reject requests
   * with detailed reasons. Rejected or disputed requests escalate to admin
   * review for final binding decisions. The quality and completeness of the
   * refund request data directly impacts approval likelihood and processing
   * speed.
   */
  export type IRefundCreate = {
    /**
     * Categorized reason for requesting the refund.
     *
     * Valid values:
     *
     * - Defective_damaged: Product arrived defective or was damaged during
     *   shipping
     * - Wrong_item: Wrong product or incorrect variant was delivered
     * - Does_not_match_description: Product does not match the listing
     *   description or images
     * - Changed_mind: Customer changed their mind about the purchase
     * - Found_better_price: Customer found the same product at a lower price
     *   elsewhere
     * - Quality_not_expected: Product quality did not meet customer
     *   expectations
     * - Other: Other reason not covered by predefined categories (requires
     *   detailed description)
     *
     * The reason category helps sellers and admins quickly understand the
     * refund request type and prioritize responses. Defective or incorrect
     * item reasons typically receive faster approval.
     */
    refund_reason: string;

    /**
     * Comprehensive customer explanation detailing why the refund is being
     * requested.
     *
     * This field provides detailed context beyond the categorized
     * refund_reason, allowing customers to fully describe issues, defects,
     * discrepancies, or concerns. The description should be specific and
     * thorough to help reviewers understand the situation and make informed
     * approval decisions.
     *
     * For defective products, customers should describe the specific defect
     * or damage. For wrong items, customers should explain what was
     * received versus what was ordered. For quality issues, customers
     * should detail how the product failed to meet expectations.
     *
     * Minimum character requirements ensure meaningful feedback rather than
     * vague complaints. Detailed descriptions improve approval likelihood
     * and help sellers identify product quality issues.
     */
    refund_description: string;

    /**
     * Monetary amount the customer is requesting to be refunded.
     *
     * For full refunds, this typically equals the order's total_amount
     * field including all items, shipping costs, and taxes. For partial
     * refunds, this represents the specific amount being requested for
     * particular issues or items.
     *
     * Must be a positive number greater than zero and cannot exceed the
     * original order total_amount. The final approved refund amount may
     * differ based on seller or admin review, particularly when sellers
     * offer justified partial refunds.
     */
    refund_amount_requested: number;
  };
}
