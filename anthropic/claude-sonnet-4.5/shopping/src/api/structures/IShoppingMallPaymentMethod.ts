import { tags } from "typia";

/**
 * Payment method.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IShoppingMallPaymentMethod = {
  /** Method ID. */
  id: string & tags.Format<"uuid">;

  /** Type. */
  payment_type: string;
};
export namespace IShoppingMallPaymentMethod {
  /** Method search. */
  export type IRequest = {
    /** Page. */
    page?: (number & tags.Type<"int32">) | undefined;
  };

  /** Method summary. */
  export type ISummary = {
    /** ID. */
    id: string & tags.Format<"uuid">;

    /** Type. */
    payment_type: string;
  };

  /** Method creation. */
  export type ICreate = {
    /** Type. */
    payment_type: string;

    /** Token. */
    gateway_token: string;
  };

  /**
   * Payment method update data for modifying saved payment instruments.
   *
   * This DTO enables customers to update specific attributes of their saved
   * payment methods including billing address association, default payment
   * designation, card expiration dates for renewed cards, and display
   * nicknames. All fields are optional, allowing partial updates to only the
   * attributes that need modification.
   *
   * The update operation enforces strict ownership validation, ensuring
   * customers can only modify their own payment methods. When changing the
   * default payment method, the system automatically manages default status
   * across all payment methods to maintain data integrity with only one
   * default per customer.
   *
   * This update does not allow modification of the payment gateway token or
   * core payment instrument identifier, as those would constitute creating a
   * new payment method rather than updating an existing one.
   */
  export type IUpdate = {
    /**
     * Billing address associated with this payment method.
     *
     * References the shopping_mall_addresses table for complete billing
     * address information. When provided, links the payment method to a
     * specific saved address belonging to the customer. Null value
     * indicates no specific billing address is associated.
     *
     * The billing address must exist in the shopping_mall_addresses table
     * and belong to the authenticated customer making the update. This
     * ensures customers can only associate their own addresses with their
     * payment methods.
     */
    shopping_mall_billing_address_id?:
      | (string & tags.Format<"uuid">)
      | null
      | undefined;

    /**
     * Whether this payment method should be set as the customer's default
     * payment method.
     *
     * When set to true, the system automatically removes default status
     * from any previously designated default payment method, ensuring only
     * one payment method per customer is marked as default. The default
     * payment method is pre-selected during checkout for customer
     * convenience.
     *
     * Default designation helps streamline the checkout process by
     * automatically selecting the preferred payment method.
     */
    is_default?: boolean | undefined;

    /**
     * Card expiration month for credit or debit cards.
     *
     * Valid values range from 1 (January) to 12 (December). This field is
     * applicable when updating expiration information for renewed credit or
     * debit cards that maintain the same account number and gateway token.
     *
     * The system validates that the month is within the valid range. When
     * both expiry month and year are provided, the system validates the
     * expiration date is in the future.
     */
    card_expiry_month?:
      | (number & tags.Type<"int32"> & tags.Minimum<1> & tags.Maximum<12>)
      | null
      | undefined;

    /**
     * Card expiration year for credit or debit cards.
     *
     * Four-digit year representing when the card expires. This field is
     * applicable when updating expiration information for renewed credit or
     * debit cards.
     *
     * The system validates that the year is current or in the future to
     * prevent invalid expiration dates. When combined with
     * card_expiry_month, the complete expiration date is validated to
     * ensure the card has not expired.
     */
    card_expiry_year?:
      | (number & tags.Type<"int32"> & tags.Minimum<2025>)
      | null
      | undefined;

    /**
     * User-friendly label for the payment method.
     *
     * Customers can assign memorable nicknames like 'My Visa', 'Work Card',
     * 'Personal Account' to easily identify payment methods during
     * checkout. Nicknames help organize multiple saved payment methods and
     * improve the checkout experience.
     *
     * This is an optional field that can be added, modified, or removed at
     * any time.
     */
    nickname?: (string & tags.MaxLength<50>) | null | undefined;
  };
}
