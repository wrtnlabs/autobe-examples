import { tags } from "typia";

/**
 * Aggregated statistics for a discussion board tag from the materialized view.
 *
 * This type provides comprehensive usage metrics and engagement indicators
 * derived from the mv_discussion_board_tag_statistics materialized view.
 * Statistics are denormalized for performance, avoiding expensive real-time
 * aggregation across multiple tables.
 *
 * Used for tag cloud generation, popular tags displays, trending tag
 * identification, and tag discovery features without impacting normalized base
 * tables.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDiscussionBoardTagStatistics = {
  /**
   * Unique identifier of the tag statistics record.
   *
   * Primary key in the mv_discussion_board_tag_statistics materialized view.
   */
  id: string & tags.Format<"uuid">;

  /**
   * Reference to the tag for which statistics are calculated.
   *
   * Foreign key to discussion_board_tags.id.
   */
  discussion_board_tag_id: string & tags.Format<"uuid">;

  /**
   * Total number of topics currently tagged with this tag.
   *
   * Aggregated from the discussion_board_topic_tags junction table. Indicates
   * overall tag popularity and helps users identify actively used tags.
   *
   * Used for tag cloud size calculations and popular tags displays.
   */
  usage_count: number & tags.Type<"int32">;

  /**
   * Number of topics tagged in the last 7 days.
   *
   * Indicates current tag momentum and identifies trending tags with
   * increasing usage. Helps surface emerging topics and current discussion
   * themes.
   *
   * Useful for 'trending tags' features and identifying topics gaining
   * community attention.
   */
  recent_usage_count: number & tags.Type<"int32">;

  /**
   * Sum of all votes (upvotes + downvotes) on topics with this tag.
   *
   * Indicates tag engagement level and community interest in topics
   * associated with this tag. Higher total votes suggest active discussion
   * and community engagement regardless of vote direction.
   *
   * Useful for identifying highly engaged tag categories.
   */
  total_votes: number & tags.Type<"int32">;

  /**
   * Number of users following this tag for personalized recommendations.
   *
   * Aggregated from the discussion_board_followed_tags junction table.
   * Indicates tag popularity and user interest in receiving notifications and
   * recommendations for topics with this tag.
   *
   * Helps identify tags that users actively track for content discovery.
   */
  follower_count: number & tags.Type<"int32">;

  /**
   * Timestamp when these statistics were last recalculated.
   *
   * Used for cache invalidation and refresh scheduling. Indicates data
   * freshness for consumers who need to understand whether statistics
   * represent current platform state or slightly stale cached data.
   *
   * Materialized views are refreshed periodically rather than in real-time
   * for performance optimization.
   */
  updated_at: string & tags.Format<"date-time">;
};
