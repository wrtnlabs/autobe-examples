# Product Reviews and Ratings System\n\n## Executive Summary\n\nThe Product Reviews and Ratings system enables customers to share authentic experiences with purchased products, creating a transparent feedback mechanism that builds trust within the shopping mall platform. This system generates social proof through verified customer reviews, helps other shoppers make informed purchasing decisions, provides sellers with valuable feedback for continuous improvement, and creates accountability across all marketplace transactions.\n\nThe review system is built on the principle of verified purchases—only customers who have actually purchased and received a product can submit reviews about that specific product. This verification requirement ensures authentic feedback and prevents review manipulation and fraud.\n\n---\n\n## 1. Review System Overview\n\n### 1.1 System Purpose and Business Value\n\nTHE review and rating system SHALL serve multiple critical business functions:\n\n**For Customers:**\n- Access authentic peer feedback before purchasing products\n- Make informed buying decisions based on verified customer experiences\n- Help other customers by sharing their product experience\n- Voice concerns about product quality or seller service\n- Build community through shared product knowledge\n\n**For Sellers:**\n- Receive constructive feedback about product quality\n- Identify product issues requiring attention\n- Build reputation through positive customer reviews\n- Respond to customer concerns transparently\n- Understand customer needs and expectations\n\n**For the Platform:**\n- Build marketplace credibility through transparent feedback\n- Increase customer confidence in purchasing decisions\n- Reduce purchase friction (customers trust reviewed products more)\n- Identify and suppress bad actors (sellers with consistently poor reviews)\n- Generate user-generated content that improves search and discovery\n- Create accountability that encourages quality and service excellence\n\n### 1.2 Core System Components\n\nTHE review system consists of interconnected components working together:\n\n**Review Creation Module:** Collects and validates customer reviews with ratings and text feedback\n\n**Rating Aggregation Module:** Calculates average ratings and maintains rating distributions\n\n**Moderation Module:** Validates, filters, and approves reviews according to policy guidelines\n\n**Display Module:** Renders reviews on product pages with filtering, sorting, and search capabilities\n\n**Seller Response Module:** Enables sellers to respond publicly to customer reviews\n\n**Analytics Module:** Tracks review metrics, impact on sales, and business insights\n\n---\n\n## 2. Review Eligibility and Creation\n\n### 2.1 Who Can Submit Reviews\n\nTHE review system SHALL enforce strict eligibility rules to ensure authentic, verified feedback:\n\nWHEN a customer who is NOT authenticated attempts to access the review submission form, THE system SHALL deny access and display message \"You must log in to write a review.\"\n\nWHEN a guest user views a product page, THE system SHALL display existing reviews but hide the \"Write a Review\" button, displaying instead a message \"Log in to review this product.\"\n\nWHEN a customer with customer role views a product, THE system SHALL evaluate their eligibility to submit a review based on purchase verification.\n\n**Seller and Admin Restrictions:**\n\nWHERE a seller attempts to submit a review for products they own, THE system SHALL deny the review submission with message \"Sellers cannot review their own products.\"\n\nWHERE an admin attempts to submit a customer review, THE system SHALL deny the submission with message \"Admins cannot submit customer reviews.\"\n\n### 2.2 Purchase Verification Requirements\n\nTHE review system SHALL verify that customers have legitimately purchased and received the product before allowing review submission:\n\nWHEN a customer attempts to submit a review, THE system SHALL query the complete order history to verify:\n- An order exists containing this specific product and SKU variant\n- THE order belongs to the authenticated customer\n- THE order status is \"delivered\" or \"completed\"\n- THE order delivery date is at least 1 day in the past (allowing time for product usage experience)\n- THE order delivery date is within 365 days of current date\n\nIF ANY verification check fails, THEN THE system SHALL deny review submission and display specific reason (e.g., \"Product not yet delivered\" or \"Order not found\").\n\n**Verification Example:**\n- Customer John purchased \"Blue Cotton T-Shirt (Size M)\" on March 15, 2024\n- Order was delivered on March 18, 2024\n- Today is March 20, 2024\n- John attempts to review the product\n- System verifies: Product exists ✓, Order belongs to John ✓, Status is delivered ✓, 1+ day passed ✓, Within 365 days ✓\n- System allows review submission\n\n**Non-Eligible Scenarios:**\n- Customer attempts to review product they haven't purchased → Denied\n- Customer attempts to review product from another customer's order → Denied\n- Customer attempts to review product for cancelled order → Denied\n- Customer attempts to review product more than 365 days after delivery → Denied\n- Customer attempts to review product less than 1 day after delivery → Allowed (may provide review immediately after checkout)\n\n### 2.3 One Review Per Product Purchase\n\nTHE system SHALL prevent multiple reviews from the same customer for the same product from the same order:\n\nWHEN a customer who has already submitted a review for a specific product attempts to submit a second review for the same product from the same order, THE system SHALL display message \"You have already reviewed this product from this order.\"\n\nWHEN a customer with an existing review for a product attempts to edit that review, THE system SHALL open the existing review for editing rather than creating a new review.\n\n**Multiple Purchase Scenario:**\nIF a customer purchases the same product in two separate orders (e.g., buys again after 6 months), THEN THE system SHALL allow them to submit separate reviews for each purchase, treating them as distinct transactions.\n\n**Example:**\n- Customer purchases \"Running Shoes\" (Order #001) on January 15, 2024 and submits review with 5 stars\n- Customer purchases \"Running Shoes\" (Order #002) on April 20, 2024\n- System now allows second review for the second purchase\n- Result: Product has 2 reviews from same customer for same product, but from different orders\n\n### 2.4 Review Submission Timing and Windows\n\nTHE system SHALL enforce specific timing windows for review submission:\n\nWHEN an order is marked as \"delivered\", THE system SHALL immediately enable review submission for that order's products.\n\nWHEN a customer has a delivered order, THE system SHALL allow review submission for 365 days from the delivery date.\n\nWHEN 365 days have elapsed since order delivery, THE system SHALL disable review submission (lock the review window) but allow viewing of any previously submitted reviews.\n\n**Timeline Example:**\n- Order delivered: March 18, 2024\n- Review submission enabled: March 18, 2024\n- Review submission deadline: March 18, 2025\n- After March 18, 2025: Review submission disabled, existing reviews remain visible\n\n### 2.5 Review Modification Rights\n\nTHE system SHALL allow customers to modify their submitted reviews:\n\nWHEN a customer has already submitted a review and that review is approved/published, THE system SHALL allow the customer to edit the review at any time (no time limit for edits).\n\nWHEN a customer edits an existing review, THE system SHALL:\n- Update the review title, rating, and content with new values\n- Preserve the original submission date (not update to edit date)\n- Add an \"Edited\" indicator next to review date showing \"Edited on [date]\"\n- NOT require re-approval if edit is minor (same EARS format, no moderation required)\n\nWHERE a customer's submitted review was rejected during moderation, THE system SHALL:\n- Display rejection reason to customer\n- Allow customer to edit the review\n- Require re-submission for moderation\n- NOT count edited version as a new review (same review, modified)\n\n---\n\n## 3. Review Content Collection and Validation\n\n### 3.1 Review Structure and Required Fields\n\nWHEN a customer accesses the review submission form, THE system SHALL present fields for:\n\n**Required Fields:**\n- **Star Rating:** Must select value from 1-5 stars (required field)\n- **Review Title:** Brief headline summarizing the review (required, 10-100 characters)\n- **Review Content:** Detailed review text (required, 20-2000 characters)\n\n**Optional Fields:**\n- **Review Images:** Up to 3 images per review showing product in use or packaging (optional, JPEG/PNG format, max 5MB per image)\n- **Verified Purchase Badge:** Automatically applied by system when review is from verified purchase\n\n**Display Elements:**\n- Character counter showing current characters / maximum characters for text fields\n- Real-time validation error messages as user types\n- Star rating selector with visual star display\n- File upload area with drag-and-drop support for images\n\n### 3.2 Rating Value Validation\n\nWHEN a customer selects a rating, THE system SHALL enforce:\n\nTHE rating must be a whole number from 1 to 5 (no decimal ratings like 3.5)\nTHE rating is required—review submission is blocked without rating selection\n\n**Rating Definitions:**\n- **★★★★★ (5 Stars):** Excellent - Highly satisfied with product, meets or exceeds expectations\n- **★★★★☆ (4 Stars):** Good - Satisfied with product, minor issues if any\n- **★★★☆☆ (3 Stars):** Average - Product acceptable, some satisfaction concerns\n- **★★☆☆☆ (2 Stars):** Poor - Dissatisfied with product, significant issues\n- **★☆☆☆☆ (1 Star):** Terrible - Highly dissatisfied, major defects or problems\n\nIF a customer does NOT select a rating before attempting submission, THEN THE system SHALL display error \"Rating is required. Please select a star rating.\"\n\n### 3.3 Review Title Validation\n\nWHEN a customer enters a review title, THE system SHALL validate:\n\n- Minimum length: 10 characters\n- Maximum length: 100 characters\n- Must contain at least one letter (alphabetic character)\n- Must not be empty or contain only whitespace\n- Must not be a duplicate of another review title for the same product (to discourage copy-paste from other reviews)\n\n**Valid Title Examples:**\n- \"Excellent quality and fast shipping\"\n- \"Not as described - colors faded quickly\"\n- \"Great value for the price!\"\n\n**Invalid Title Examples:**\n- \"Good\" (too short, less than 10 characters)\n- \"!!!!!\" (contains only special characters)\n- \"\" (empty)\n- \"   \" (only whitespace)\n\nIF a customer enters invalid title, THEN THE system SHALL display specific validation error indicating which rule was violated.\n\n### 3.4 Review Content Validation\n\nWHEN a customer enters review content, THE system SHALL validate:\n\n- Minimum length: 20 characters\n- Maximum length: 2000 characters\n- Must not be empty or contain only whitespace\n- Must contain substantive content related to the product\n- Must not be a complete copy of another review (automatic plagiarism detection)\n\n**Content Requirements:**\n- THE review should describe the customer's personal experience with the product\n- THE review should relate to the product purchased and its characteristics\n- THE review may include comparisons to similar products\n- THE review may include suggestions for improvement\n\n**Valid Content Examples:**\n- \"I ordered this shirt in blue and loved the color and fit. The fabric feels high quality and has held up well after washing twice. Highly recommend!\"\n- \"The product arrived on time but unfortunately the display has a dead pixel in the corner. Otherwise it works fine.\"\n\n**Invalid Content Examples:**\n- \"Good product\" (too short, less than 20 characters)\n- Lorem ipsum dolor sit amet... (random filler text, no substance)\n- Exact copy of another customer's review\n\nIF a customer enters content that is too short, THEN THE system SHALL display error \"Review must be at least 20 characters long.\"\n\nIF a customer enters content exceeding 2000 characters, THEN THE system SHALL:\n- Display warning that review exceeds maximum length\n- Show character count: \"2,150 / 2,000 characters\"\n- Prevent submission with message \"Please reduce review to 2,000 characters maximum\"\n\n### 3.5 Review Image Handling\n\nWHEN a customer uploads images with their review, THE system SHALL:\n\n**File Validation:**\n- Accept image formats: JPEG, PNG, WebP only\n- Reject other formats (PDF, GIF, BMP, etc.) with error \"Image format not supported. Use JPEG, PNG, or WebP.\"\n- Validate file size: maximum 5MB per image\n- Reject oversized files with error \"Image must be under 5MB. Your image is [X]MB.\"\n- Validate minimum dimensions: minimum 640x480 pixels\n- Reject undersized images with error \"Image must be at least 640x480 pixels for clarity.\"\n\n**Image Processing:**\n- Automatically optimize images for web display (create thumbnails)\n- Compress images to reduce storage size\n- Store images securely linked to review record\n- Allow up to 3 images per review maximum\n\n**Upload Experience:**\n- Display upload progress percentage\n- Show preview of uploaded images before submission\n- Allow image deletion before review submission\n- Display success/failure status for each image\n\n**Upload Errors:**\nIF image upload fails, THEN THE system SHALL:\n- Display clear error message indicating reason (format, size, dimensions)\n- Preserve other review content (title, rating, text)\n- Allow retry of image upload without losing review data\n\n---\n\n## 4. Rating System and Calculations\n\n### 4.1 Rating Scale\n\nTHE product rating system SHALL use a 5-star scale with whole-number ratings only.\n\nTHE allowed rating values are: 1, 2, 3, 4, or 5 stars (no half-stars like 3.5)\n\nWHEN a customer submits a review, THE system SHALL validate that rating is one of these five allowed values.\n\n### 4.2 Average Rating Calculation\n\nWHEN reviews are submitted, updated, or deleted, THE system SHALL automatically recalculate the product's average rating.\n\nTHE average rating SHALL be calculated using the arithmetic mean formula:\n```\nAverage Rating = (Sum of all review ratings) / (Total number of approved reviews)\n```\n\n**Calculation Example:**\nIF a product has 5 approved reviews with ratings [5, 5, 4, 3, 5], THEN:\n- Sum = 5 + 5 + 4 + 3 + 5 = 22\n- Count = 5 reviews\n- Average = 22 / 5 = 4.4 stars\n\nTHE average rating SHALL be calculated considering ONLY approved reviews (those that have passed moderation).\n\nTHE average rating SHALL include only reviews submitted within the last 730 days (24 months).\n\nTHE average rating SHALL exclude rejected reviews, flagged reviews awaiting moderation, and reviews older than 730 days.\n\n### 4.3 Rating Precision and Display\n\nTHE system SHALL calculate and store average ratings to two decimal places (e.g., 4.37 stars).\n\nWHEN displaying ratings to customers in different contexts:\n\n**Product Listing Pages:**\n- Display average rating to 1 decimal place (e.g., \"4.4 stars\")\n- Display with visual star icon representation\n- Display total review count in parentheses (e.g., \"4.4 stars (506 reviews)\")\n\n**Product Detail Pages:**\n- Display average rating to 2 decimal places (e.g., \"4.37 stars\")\n- Display with visual star icon representation\n- Display breakdown of review counts per star level\n\n**Search Results:**\n- Display average rating to 1 decimal place\n- Display with visual star icon\n\n**Seller Dashboard (Admin View):**\n- Display average rating to 2 decimal places for accuracy\n- Display with review count\n\n**Admin Reports:**\n- Display average rating to 2 decimal places\n- Include statistical details (variance, median)\n\n### 4.4 Rating Distribution Display\n\nWHEN a customer views a product's detail page, THE system SHALL display the rating distribution showing review counts for each star level:\n\n```\n★★★★★ (5 Stars): [████████░░] 48% (245 reviews)\n★★★★☆ (4 Stars): [██████░░░░] 31% (156 reviews)\n★★★☆☆ (3 Stars): [███░░░░░░░] 13% (68 reviews)\n★★☆☆☆ (2 Stars): [██░░░░░░░░]  4% (22 reviews)\n★☆☆☆☆ (1 Star):  [█░░░░░░░░░]  3% (15 reviews)\nTotal: 506 reviews\n```\n\nTHE rating distribution SHALL update in real-time as new reviews are approved or removed.\n\nWHEN a customer clicks on a specific star level (e.g., \"4 Stars\"), THE system SHALL filter the displayed reviews to show only reviews with that rating.\n\n---\n\n## 5. Review Moderation System\n\n### 5.1 Moderation Workflow Overview\n\nWHEN a customer submits a review, THE system SHALL execute automatic moderation checks before the review becomes visible to other customers.\n\nTHE review moderation workflow consists of these stages:\n\n```mermaid\ngraph LR\n    A[\"Customer<br/>Submits Review\"] --> B[\"Automatic<br/>Content Check\"]\n    B --> C{\"Violations<br/>Detected?\"}\n    C -->|\"High Confidence\"| D[\"Auto-Reject<br/>Review\"]\n    C -->|\"Medium Confidence\"| E[\"Queue for<br/>Manual Review\"]\n    C -->|\"No Issues\"| F[\"Auto-Approve<br/>Review\"]\n    D --> G[\"Notify Customer<br/>of Rejection\"]\n    E --> H[\"Admin Moderator<br/>Reviews\"]\n    F --> I[\"Review Published<br/>Live\"]\n    H --> J{\"Decision\"}\n    J -->|\"Approve\"| I\n    J -->|\"Reject\"| G\n    I --> K[\"Recalculate<br/>Rating\"]\n    K --> L[\"Complete\"]\n```\n\n### 5.2 Automatic Content Screening\n\nWHEN a review is submitted, THE system SHALL automatically screen for policy violations:\n\n**High-Confidence Auto-Rejection Triggers:**\n\nIF review contains severe profanity or hate speech (detected via content filter), THEN THE system SHALL automatically reject the review and display message to customer: \"Your review contains inappropriate language and cannot be published. Please revise and resubmit.\"\n\nIF review contains obvious spam patterns (e.g., \"BUY NOW AT COMPETITOR.COM 50% OFF\"), THEN THE system SHALL automatically reject with message: \"Your review appears to contain promotional content. Customer reviews should focus on your personal experience with the product.\"\n\nIF review contains phone numbers, email addresses, or social media handles (detected via regex pattern), THEN THE system SHALL automatically reject with message: \"Your review contains contact information that violates our privacy policy. Please remove and resubmit.\"\n\nIF review contains URLs or external links, THEN THE system SHALL automatically reject with message: \"Your review contains external links. Please remove links and describe your experience in your own words.\"\n\nIF the exact same review content has been submitted by the same customer within the past 30 days, THEN THE system SHALL automatically reject with message: \"You recently submitted a similar review. Please provide a unique perspective or edit your existing review.\"\n\nIF the review content is identical or >95% similar to another customer's review for the same product, THEN THE system SHALL automatically reject as potential plagiarism with message: \"This review appears very similar to an existing review for this product. Reviews should reflect your personal experience.\"\n\n**Medium-Confidence Manual Review Triggers:**\n\nIF review contains potential mild profanity that might be context-dependent (e.g., \"This product sucks\" - legitimate criticism but uses slang), THEN THE system SHALL queue for manual review.\n\nIF review title and content sentiment seem mismatched (e.g., 1-star rating with extremely positive content like \"Best product ever\"), THEN THE system SHALL queue for manual review.\n\nIF review mentions competitor products by name without clear comparison context, THEN THE system SHALL queue for manual review.\n\nIF review contains requests for refunds or customer service actions (should use order management system instead), THEN THE system SHALL queue for manual review.\n\nIF customer account has submitted >5 reviews within a single 24-hour period, THEN THE system SHALL queue reviews for volume check.\n\n**Auto-Approval Conditions:**\n\nIF review passes all automatic checks with no flags or violations, THEN THE system SHALL automatically approve and publish the review immediately.\n\n### 5.3 Manual Moderation Process\n\nWHEN a review is queued for manual review, THE system SHALL display the review to platform moderators in a moderation dashboard.\n\nWHEN a moderator opens a flagged review, THE system SHALL display:\n- Review content (title, rating, text, images)\n- Reason(s) why review was flagged\n- Customer information (name, purchase history)\n- Product information (name, category, seller)\n- All previous reviews from this customer\n- Flag confidence score\n\nWHEN a moderator reviews a flagged review, THE moderator SHALL make a binary decision: **Approve** or **Reject**.\n\n**Approve Decision:**\nWHEN a moderator approves a flagged review, THE system SHALL:\n- Publish the review immediately\n- Make review visible to all customers\n- Include it in rating calculations\n- Update product average rating\n- Mark review status as \"approved\"\n- Log moderator approval with timestamp\n\n**Reject Decision:**\nWHEN a moderator rejects a review, THE system SHALL:\n- Store rejection details (reason, moderator ID, timestamp)\n- NOT publish the review (remains hidden from customers)\n- Send email to customer with rejection reason and explanation\n- Display rejection reason in customer's review history\n- Allow customer to edit and resubmit the review\n- Archive rejected review for audit purposes\n\n**Rejection Reasons (Provided to Customer):**\n- \"Inappropriate Language: Your review contains language that violates our community standards.\"\n- \"Spam or Promotion: Your review appears promotional in nature. Reviews should focus on product experience.\"\n- \"Contact Information: Your review contains personal contact information (email, phone, social media). Please remove these details.\"\n- \"Plagiarism: Your review appears very similar to an existing review. Please provide original feedback.\"\n- \"Off-Topic: Your review does not relate to the product purchased.\"\n- \"Unsubstantiated Claims: Your review makes claims about the product that appear unsupported.\"\n- \"Other Policy Violation: Your review violates our review policy. Please see guidelines and resubmit.\"\n\n### 5.4 Moderation Performance Standards\n\nTHE system SHALL process flagged reviews within defined timeframes:\n\nWHERE a review is queued for manual moderation, THE system SHALL display it to moderators within 1 hour of submission.\n\nTHE system SHALL target completion of moderation review within 24 hours of submission.\n\nWHERE moderation is not completed within 24 hours, THE system SHALL escalate to supervisor for priority handling.\n\nWHERE moderation is not completed within 48 hours, THE system SHALL automatically approve the review (assume good faith) and send notification to customer.\n\n---\n\n## 6. Review Visibility and Display\n\n### 6.1 Review Display on Product Pages\n\nWHEN a customer views a product detail page, THE system SHALL display all approved reviews for that product in a dedicated \"Customer Reviews\" section.\n\nTHE review section SHALL prominently display:\n\n1. **Average Rating Summary**\n   - Large, clear display of overall star rating (e.g., \"4.37\" with visual stars)\n   - Total review count (e.g., \"506 reviews\")\n   - Link to \"See all reviews\"\n\n2. **Rating Distribution Chart**\n   - Bar chart showing distribution of ratings (5-star through 1-star)\n   - Percentage breakdown for each rating level\n   - Review counts for each rating level\n   - Interactive filters to show only specific ratings\n\n3. **Individual Reviews List**\n   - Display newest approved reviews first (by default sort)\n   - Show 3-5 reviews per page with pagination\n   - Display complete review content (title, rating, text, images)\n   - Show review author name (first name + last initial, e.g., \"John D.\")\n   - Show \"Verified Purchase\" badge for confirmed purchases\n   - Show review submission date (e.g., \"Posted on March 20, 2024\")\n   - Show \"Edited\" indicator if review was modified after submission\n\n4. **Review Filtering and Sorting Options**\n   - **Default Sort: \"Most Helpful\"** - Reviews sorted by combination of helpful votes and recency\n   - **Alternative Sorts:**\n     - \"Newest First\" - Most recent reviews first\n     - \"Oldest First\" - Earliest reviews first\n     - \"Highest Rating\" - 5-star reviews first, descending\n     - \"Lowest Rating\" - 1-star reviews first, ascending\n     - \"Most Helpful\" - Reviews with most helpful votes first\n   \n   - **Filter Options:**\n     - Filter by star rating (show all, or only 5-star, 4-star, etc.)\n     - Filter by verified purchase status\n     - Filter by keyword in review text\n\n5. **Write Review Call-to-Action**\n   - Prominent button or link: \"Write a Review\" for eligible customers\n   - \"Login to Write a Review\" for non-authenticated users\n   - Hidden or disabled for ineligible customers (if product not purchased)\n\n### 6.2 Review Sorting and Ranking\n\nWHEN a customer selects a sort order, THE system SHALL reorder reviews according to the selected criteria:\n\n**Most Helpful (Default Sort):**\nTHE system SHALL rank reviews by a composite score combining:\n- Helpful vote count (weighted more heavily)\n- Recency (preference for recent reviews)\n- Review length (longer, substantive reviews ranked slightly higher)\n- Reviewer history (active reviewers with track record ranked slightly higher)\n\nTHE \"Most Helpful\" sort helps surface the most valuable reviews to customers making purchase decisions.\n\n**Newest First Sort:**\nTHE system SHALL display reviews in reverse chronological order (most recent first).\n\nTHIS sort helps customers see the latest feedback and identify current product status.\n\n**Oldest First Sort:**\nTHE system SHALL display reviews in chronological order (earliest first).\n\nTHIS sort shows the product's history from when first sold.\n\n**Highest Rating First Sort:**\nTHE system SHALL display reviews starting with 5-star ratings, then 4-star, etc., down to 1-star.\n\nTHIS sort helps customer find positive reviews quickly.\n\n**Lowest Rating First Sort:**\nTHE system SHALL display reviews starting with 1-star ratings, then 2-star, etc., up to 5-star.\n\nTHIS sort helps customers identify potential issues or problems.\n\n### 6.3 Review Pagination and Performance\n\nWHEN reviews exceed 5 items on a single page, THE system SHALL implement pagination:\n\n- Display 5 reviews per page (default, can be adjusted by customer)\n- Show page numbers and navigation controls\n- Display current page indicator (e.g., \"Page 1 of 3\")\n- Display total review count\n- Provide \"Load More\" option as alternative to pagination\n\nWHEN a customer navigates between pages, THE system SHALL:\n- Maintain the current sort order\n- Maintain the current filter selection\n- Preserve scroll position or jump to top of reviews section\n\n### 6.4 Review Attribution and Privacy\n\nWHEN a review is displayed, THE system SHALL show:\n\n**Customer Attribution:**\n- First name and last initial only (e.g., \"John D.\") to maintain privacy while providing attribution\n- Link to customer's public profile (if customer profile is public)\n- Reviewer's badge or status if applicable (e.g., \"Verified Purchase\")\n\nTHE system SHALL NOT display:\n- Customer's full name in reviews\n- Customer's email address\n- Customer's phone number\n- Customer's shipping/delivery address\n- Any other personally identifiable information\n\n**Verified Purchase Badge:**\nWHEN a review is from a verified purchase (customer actually purchased and received the product), THE system SHALL display a prominent \"✓ Verified Purchase\" badge next to the review.\n\nTHE badge builds trust by showing the review came from a real purchaser.\n\n**Purchase Information:**\nWHEN a review is from a verified purchase, THE system SHALL display:\n- \"Verified Purchase\" badge\n- Purchase date (e.g., \"Purchased on March 15, 2024\")\n\n### 6.5 Review Search and Discovery\n\nWHEN a customer uses the review search feature, THE system SHALL allow searching review text:\n\n- Search by keyword (find reviews containing specific words)\n- Example: Customer searches \"battery life\" to find reviews discussing battery performance\n- Results show matching reviews ranked by relevance\n- Search highlights matching keywords in review text\n\nWHEN a customer filters reviews by star rating, THE system SHALL display only reviews with that rating:\n\n- Filter to show only 5-star reviews\n- Filter to show only 4-star or better reviews\n- Filter to show only reviews 3-star or below (to see potential issues)\n\n---\n\n## 7. Seller Response Management\n\n### 7.1 Seller Response Capability\n\nWHEN a review is published (approved and visible), THE seller who owns the reviewed product SHALL have the ability to view the review and submit a public response.\n\nWHEN a seller attempts to respond to a review, THE system SHALL validate:\n- THE seller is the owner/creator of the reviewed product\n- THE seller's account is in good standing (not suspended)\n- THE seller has not already responded to this specific review (one response per review)\n- THE seller is responding within 30 days of review publication (optional: can extend)\n\n### 7.2 Seller Response Content\n\nWHEN a seller submits a response to a customer review, THE system SHALL allow the response to contain:\n\n**Response Content Requirements:**\n- Minimum 10 characters\n- Maximum 1000 characters\n- Plain text format (no HTML or complex formatting)\n- Professional and courteous tone\n\n**Response Content Restrictions:**\nWHEN a seller composes a response, THE system SHALL reject responses containing:\n- Profanity or offensive language\n- Attacks or defamation of the customer\n- Unsupported claims about product quality\n- Promotional content or competitor promotion\n- External URLs or contact information\n- Spam or irrelevant content\n\n### 7.3 Response Moderation and Display\n\nWHEN a seller submits a response, THE system SHALL apply automatic moderation (similar to review moderation):\n\nIF response contains violations, THE system SHALL either:\n- Auto-reject and require revision (high-confidence violations)\n- Queue for manual review (medium-confidence violations)\n- Auto-approve and publish (no violations detected)\n\nWHEN a seller response is approved, THE system SHALL:\n- Display response directly below the customer review\n- Clearly label it as \"Seller Response\" with seller name/store name\n- Display response date (e.g., \"Seller responded on March 22, 2024\")\n- Allow seller to edit response at any time\n- Allow seller to delete response\n\n**Response Display Example:**\n```\n[Customer Review]\nTitle: \"Great product but color faded\"\nRating: ★★★★☆ (4 stars)\nReview: \"Excellent shirt quality but after 3 washes the blue color started fading...\"\nBy: Sarah M. | Verified Purchase | Posted on March 20, 2024\n\n[Seller Response]\n\"Thank you for your feedback! We're sorry to hear about the color fading. Our quality...\"\nSeller Response | Posted on March 22, 2024\n```\n\n---\n\n## 8. Review Analytics and Business Impact\n\n### 8.1 Review Metrics and Tracking\n\nTHE system SHALL automatically calculate and track review metrics for each product:\n\n- **Total Review Count:** Number of published, approved reviews\n- **Average Rating:** Mean of all ratings (calculated as specified in Section 4.2)\n- **Rating Distribution:** Count of reviews at each star level (1-5)\n- **Review Velocity:** New reviews submitted per day/week/month\n- **Response Rate:** Percentage of reviews with seller responses\n- **Helpful Vote Count:** Number of \"helpful\" votes on each review\n- **Review Age Distribution:** Percentage of reviews from last 30/90/180/365 days\n- **Reviewer Engagement:** Number of reviews written by customers\n\n### 8.2 Seller Dashboard Analytics\n\nWHEN a seller accesses their dashboard analytics, THE system SHALL display review metrics for their products:\n\n**Store-Level Metrics:**\n- Overall store rating (average across all seller's products)\n- Total reviews received (lifetime)\n- Monthly review count (trending up/down/stable)\n- Average review length (word count)\n- Top-rated products (5 products with highest ratings)\n- Products needing attention (5 products with lowest ratings)\n\n**Product-Level Metrics:**\nWHEN a seller selects a specific product, THE system SHALL display:\n- Product average rating\n- Total review count for product\n- Rating distribution (number of each star rating)\n- Recent reviews (10 most recent with options to view seller's responses)\n- Seller response rate (% of reviews seller has responded to)\n- Common themes in reviews (AI-powered keyword analysis)\n- Suggestions for improvement based on review feedback\n\n**Review Response Dashboard:**\n- List of reviews awaiting seller response\n- Time remaining to respond (30-day window)\n- Priority indicator for recent negative reviews\n- Pre-filled response templates (if configured)\n\n**Analytics Filtering:**\nTHE seller SHALL be able to filter analytics by:\n- Date range (last 7 days, last 30 days, last 90 days, all time)\n- Star rating level (all reviews or specific ratings like 5-star only)\n- Product category\n- Review status (published, pending, rejected)\n\n### 8.3 Impact on Product Ranking and Sales\n\nWHEN a product's average rating changes, THE system SHALL update product ranking in search and recommendations:\n\n**Search Ranking Impact:**\n- Products with higher ratings (4.5+ stars) rank higher in search results for relevant queries\n- Rating is one factor among many in ranking algorithm (not the only factor)\n- Products with 4.0+ stars display \"Highly Rated\" badge in search results\n- Products with <2.0 stars may be deprioritized in search results\n\n**Recommendation Algorithm Impact:**\n- Higher-rated products are more likely to be recommended to customers\n- Ratings influence personalized product recommendations\n- Products with recent positive reviews receive visibility boost\n\n**Sales and Conversion Impact:**\nRESEARCH has shown that products with higher ratings have higher conversion rates:\n- 4.5+ star products: +35% conversion rate boost\n- 4.0-4.4 star products: +15% conversion rate boost\n- 3.0-3.9 star products: Baseline (no boost)\n- <3.0 star products: -30% conversion rate reduction\n\n### 8.4 Alert Triggers Based on Ratings\n\nWHEN product ratings change significantly, THE system SHALL trigger alerts:\n\nIF product average rating drops below 2.0 stars, THE system SHALL:\n- Alert admin to potential quality issue\n- Send notification to seller (if automatic)\n- Flag product for potential removal\n- Alert platform leadership\n\nIF product receives >50 one-star reviews within 7 days, THE system SHALL:\n- Flag as potential review bombing or fraud\n- Alert admin for investigation\n- Review seller account for issues\n- Consider temporary product removal pending investigation\n\nIF product rating increases by >0.5 stars within 24 hours, THE system SHALL:\n- Review new reviews for potential manipulation\n- Check for unusual patterns (multiple reviews from same IP, etc.)\n- Alert admin if fraud suspected\n\n### 8.5 Admin Platform Analytics\n\nWHEN admins view platform analytics, THE system SHALL display review-related metrics:\n\n**Platform-Wide Review Analytics:**\n- Total reviews published (lifetime and current period)\n- Platform average product rating\n- Percentage of products with 4.0+ star ratings\n- Percentage of products with <3.0 star ratings\n- Average review length (word count)\n- Review submission rate (reviews per day)\n- Moderation statistics (% auto-approved, % manually approved, % rejected)\n\n**Quality Metrics:**\n- Percentage of reviews flagged for policy violations\n- Rejection rate (rejected / submitted reviews)\n- False positive rate (rejected but actually valid)\n- Moderation queue length (reviews pending manual review)\n\n**Fraud Detection Analytics:**\n- Suspicious review patterns detected\n- Sellers with unusually high review volumes\n- Customers with unusually high review submission rates\n- Reviews from same IP/device clusters\n- Detected plagiarism or duplicate reviews\n\n---\n\n## 9. Business Rules and Constraints\n\n### 9.1 Review Policy Enforcement\n\n**Verification and Authenticity Rules:**\n\nWHEN a customer attempts to review, THE system SHALL verify purchase authenticity.\n\nIF customer cannot prove purchase, THEN review submission is denied.\n\nIF customer has purchased product but not yet received it, THEN review submission is denied with message \"You must receive the product before leaving a review.\"\n\n**Content Policy Rules:**\n\nIF review contains prohibited content (hate speech, harassment, spam), THEN review is rejected.\n\nIF review is identical to another customer's review (plagiarism), THEN review is rejected.\n\nIF review contains competitor promotion or external links, THEN review is rejected.\n\n**Timing and Window Rules:**\n\nIF 365 days have passed since product delivery, THEN new review cannot be submitted for that order.\n\nIF customer has already reviewed this product from this order, THEN new review cannot be submitted (only editing existing review is allowed).\n\nIF order is cancelled or refunded, THEN customer loses ability to review (no valid purchase experience).\n\n### 9.2 Rating Consistency Rules\n\n**Rating-Content Consistency Checks:**\n\nWHEN a review is submitted with rating and content, THE system SHOULD check for consistency:\n\nIF review contains extremely positive language (\"Best product ever!\") but rating is 1-2 stars, THE system SHALL flag for manual review (may indicate sarcasm or inconsistency).\n\nIF review contains extremely negative language (\"Terrible, worst purchase\") but rating is 4-5 stars, THE system SHALL flag for manual review (may indicate error).\n\n### 9.3 Review Removal and Deletion\n\n**Permanent Review Records:**\n\nWHEN a review is published (approved), THE system SHALL maintain it permanently.\n\nWHEN a customer requests review deletion, THE system SHALL:\n- Deny the request (reviews cannot be deleted by customers)\n- Explain that reviews are permanent records of product experience\n- Allow customer to edit review instead\n\n**Admin Review Removal:**\n\nONLY admins can remove or delete reviews from the platform.\n\nWHEN an admin removes a review, THE system SHALL:\n- Archive the review (store in separate archive database)\n- Recalculate product average rating without the removed review\n- Log the removal in audit trail with reason\n- NOT notify customer (removal is admin action)\n\n### 9.4 Data Privacy Rules\n\n**Customer Privacy Protection:**\n\nTHE system SHALL protect customer privacy in reviews:\n- Display only first name + last initial (not full name)\n- Do NOT display email addresses in reviews\n- Do NOT display phone numbers in reviews\n- Do NOT display delivery addresses in reviews\n- Do NOT display order numbers in reviews\n\n**Seller Privacy:**\n\nTHE system SHALL protect seller privacy:\n- Do NOT display seller's home address in product pages\n- Do NOT display seller's personal contact information\n- Display only business contact information\n\n---\n\n## 10. Error Handling and Edge Cases\n\n### 10.1 Purchase Verification Failures\n\n**Scenario: Customer Claims Purchase Not Found**\n\nWHEN a customer who believes they purchased a product cannot find the order:\n- THE system displays: \"We don't have a record of you purchasing this product. Check your order history or contact support.\"\n- Customer is directed to support team\n- System logs the failed verification attempt\n\n**Scenario: Refunded Order**\n\nWHEN a customer reviews a product from an order that was later refunded:\n- IF review was submitted before refund: Review remains published\n- IF refund occurs after review submission: Review remains but order status shows \"Refunded\" next to purchase info\n- Customer can still edit the review\n\n**Scenario: Different Product Variant**\n\nWHEN customer purchased \"Blue Shirt Size M\" but attempts to review \"Blue Shirt Size L\":\n- THE system verifies the exact SKU matches\n- IF different SKU: Review request is denied\n- Customer must review the exact variant they purchased\n\n### 10.2 Moderation Queue Issues\n\n**Scenario: Review Stuck in Moderation Queue**\n\nWHEN a review remains in moderation queue beyond 24 hours:\n- THE system escalates to supervisor at 24-hour mark\n- THE system auto-approves at 48-hour mark\n- Customer receives notification: \"Your review has been published.\"\n\n**Scenario: Moderation System Unavailable**\n\nWHEN automatic moderation system fails:\n- Reviews are automatically approved (not rejected) for user experience\n- Manual moderators are alerted to backlog\n- Temporary manual moderation is increased\n\n### 10.3 Rating Calculation Edge Cases\n\n**Scenario: Single Review Submitted**\n\nWHEN product has only 1 approved review (e.g., customer rated 4 stars):\n- Average rating displays as 4.0 stars\n- Rating distribution shows 1 review in 4-star category\n- Other star categories show 0 reviews\n\n**Scenario: All Reviews Rejected**\n\nWHEN all reviews for a product are rejected during moderation:\n- Product shows \"No customer reviews yet\"\n- Average rating displays as \"No rating\"\n- \"Write a Review\" button still appears for eligible customers\n\n**Scenario: Extreme Rating Values**\n\nWHEN customer submits invalid rating (e.g., 0 stars or 6 stars):\n- THE system rejects submission with error \"Please select a rating between 1 and 5 stars.\"\n- Review content is preserved\n- Customer corrects rating and resubmits\n\n### 10.4 Image Upload Issues\n\n**Scenario: Oversized Image File**\n\nWHEN customer uploads image exceeding 5MB:\n- Upload fails\n- System displays: \"Image is [X]MB. Maximum file size is 5MB. Please compress and try again.\"\n- Review content remains intact\n- Customer can retry image upload\n\n**Scenario: Unsupported Image Format**\n\nWHEN customer uploads image in unsupported format (e.g., GIF):\n- Upload fails\n- System displays: \"This image format is not supported. Please use JPEG, PNG, or WebP.\"\n- Customer can delete failed image and upload different format\n\n### 10.5 Seller Response Issues\n\n**Scenario: Seller Responds to Deleted Review**\n\nWHEN admin deletes a review after seller response was posted:\n- Seller response is also deleted\n- Seller's response count metric is adjusted\n- No notification to seller (admin action)\n\n**Scenario: Review Window Closes**\n\nWHEN 30 days pass after review publication:\n- Seller can no longer post new response\n- Seller's existing response (if already posted) remains visible\n- System display shows \"Response window closed\" if seller attempts new response\n\n---\n\n## 11. Integration with Platform Systems\n\n### 11.1 Order Processing System Integration\n\nTHE review system integrates with order management to verify purchases:\n\nWHEN a customer attempts to review, THE system queries Order Processing system to verify:\n- Customer purchased this product (exact SKU)\n- Order delivery status (must be delivered)\n- Delivery date (within 365-day review window)\n- Customer identity matches order customer\n\nTHE integration is read-only from review system perspective (review system only reads order data, never modifies orders).\n\n### 11.2 Product Catalog Integration\n\nTHE review system displays reviews on product detail pages:\n\nWHEN customer views product page, THE system retrieves:\n- All approved reviews for this product\n- Product average rating\n- Rating distribution\n- SKU information for verification\n\nTHE reviews influence product ranking in search (higher-rated products rank higher).\n\n### 11.3 User Roles Integration\n\nTHE review system respects user role permissions defined in authentication system:\n\n- **Guests** can read reviews but cannot submit\n- **Customers** can submit reviews for purchased products\n- **Sellers** cannot review their own products but can respond to customer reviews\n- **Admins** can moderate, reject, or delete reviews\n\n### 11.4 Notification System Integration\n\nTHE review system triggers notifications through the Notification system:\n\nWHEN review is submitted: System may send confirmation to customer\n\nWHEN review is approved: System may send notification to customer\n\nWHEN review is rejected: System sends rejection notice with reason to customer\n\nWHEN seller response is posted: System notifies customer of response\n\nWHEN review receives helpful votes: System may notify reviewer\n\n### 11.5 Admin Dashboard Integration\n\nTHE review system provides data to Admin Dashboard:\n\n- Moderation statistics and queue metrics\n- Review fraud detection alerts\n- Product rating analytics\n- Seller response rate metrics\n- Review policy violation reports\n\n---\n\n## 12. Summary and Key Takeaways\n\nThe Product Reviews and Ratings system provides customers with authentic feedback about products, sellers with valuable improvement feedback, and the platform with accountability mechanisms that encourage quality and service excellence.\n\n**Key System Characteristics:**\n- Verified purchase requirement ensures authentic reviews only\n- Comprehensive moderation prevents abuse and policy violations\n- Public seller responses build transparency and trust\n- Rating calculations influence search and recommendations\n- Complete audit trail supports disputes and investigations\n- User role integration ensures appropriate access controls\n\nAll requirements documented here MUST be implemented consistently across all platform operations. Development team members should refer to [Order Processing](./08-order-processing.md), [User Roles and Authentication](./02-user-roles-authentication.md), and [Product Catalog](./04-product-catalog-management.md) documentation for complete system context.\n\n---\n\n> *Developer Note: This document defines **business requirements only**. All technical implementations (architecture, APIs, database design, moderation algorithms, rating calculation systems, etc.) are at the discretion of the development team. The development team has complete autonomy over technology choices, programming languages, frameworks, and deployment strategies while implementing these business requirements. This document specifies WHAT the review system should accomplish and HOW it should behave from a user perspective, not HOW to technically build it.*